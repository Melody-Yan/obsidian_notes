/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var Nv=Object.create;var Hn=Object.defineProperty;var kv=Object.getOwnPropertyDescriptor;var Av=Object.getOwnPropertyNames;var Pv=Object.getPrototypeOf,Lv=Object.prototype.hasOwnProperty;var dl=e=>Hn(e,"__esModule",{value:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ba=(e,t)=>{dl(e);for(var r in t)Hn(e,r,{get:t[r],enumerable:!0})},Iv=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Av(t))!Lv.call(e,n)&&n!=="default"&&Hn(e,n,{get:()=>t[n],enumerable:!(r=kv(t,n))||r.enumerable});return e},at=e=>Iv(dl(Hn(e!=null?Nv(Pv(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var zn=X(wa=>{(function(){wa.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(wa)});var pt=X((gl,Rt)=>{(function(){var e,t,r,n,i,o,a,s=[].slice,u={}.hasOwnProperty;e=function(){var c,f,h,d,p,g;if(g=arguments[0],p=2<=arguments.length?s.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,h=p.length;c<h;c++)if(d=p[c],d!=null)for(f in d)!u.call(d,f)||(g[f]=d[f]);return g},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},o=function(c){var f;return!!c&&((f=typeof c)==="function"||f==="object")},r=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},n=function(c){var f;if(r(c))return!c.length;for(f in c)if(!!u.call(c,f))return!1;return!0},a=function(c){var f,h;return o(c)&&(h=Object.getPrototypeOf(c))&&(f=h.constructor)&&typeof f=="function"&&f instanceof f&&Function.prototype.toString.call(f)===Function.prototype.toString.call(Object)},t=function(c){return i(c.valueOf)?c.valueOf():c},Rt.exports.assign=e,Rt.exports.isFunction=i,Rt.exports.isObject=o,Rt.exports.isArray=r,Rt.exports.isEmpty=n,Rt.exports.isPlainObject=a,Rt.exports.getValue=t}).call(gl)});var _a=X((yl,ml)=>{(function(){var e;ml.exports=e=function(){function t(){}return t.prototype.hasFeature=function(r,n){return!0},t.prototype.createDocumentType=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(yl)});var wl=X((vl,bl)=>{(function(){var e;bl.exports=e=function(){function t(){}return t.prototype.handleError=function(r){throw new Error(r)},t}()}).call(vl)});var Sl=X((_l,El)=>{(function(){var e;El.exports=e=function(){function t(r){this.arr=r||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(r){return this.arr[r]||null},t.prototype.contains=function(r){return this.arr.indexOf(r)!==-1},t}()}).call(_l)});var xl=X((Tl,Ol)=>{(function(){var e,t,r;t=wl(),r=Sl(),Ol.exports=e=function(){function n(){var i;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=i=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(i){return this.params.hasOwnProperty(i)?this.params[i]:null},n.prototype.canSetParameter=function(i,o){return!0},n.prototype.setParameter=function(i,o){return o!=null?this.params[i]=o:delete this.params[i]},n}()}).call(Tl)});var Ce=X((Cl,Dl)=>{(function(){Dl.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Cl)});var Ea=X((Nl,kl)=>{(function(){var e,t,r;e=Ce(),r=Ke(),kl.exports=t=function(){function n(i,o,a){if(this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));this.name=this.stringify.name(o),this.value=this.stringify.attValue(a),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(i){return this.options.writer.attribute(this,this.options.writer.filterOptions(i))},n.prototype.debugInfo=function(i){return i=i||this.name,i==null?"parent: <"+this.parent.name+">":"attribute: {"+i+"}, parent: <"+this.parent.name+">"},n.prototype.isEqualNode=function(i){return!(i.namespaceURI!==this.namespaceURI||i.prefix!==this.prefix||i.localName!==this.localName||i.value!==this.value)},n}()}).call(Nl)});var Gn=X((Al,Pl)=>{(function(){var e;Pl.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(r){return this.nodes[r]},t.prototype.setNamedItem=function(r){var n;return n=this.nodes[r.nodeName],this.nodes[r.nodeName]=r,n||null},t.prototype.removeNamedItem=function(r){var n;return n=this.nodes[r],delete this.nodes[r],n||null},t.prototype.item=function(r){return this.nodes[Object.keys(this.nodes)[r]]||null},t.prototype.getNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(Al)});var Kn=X((Ll,Il)=>{(function(){var e,t,r,n,i,o,a,s,u,c=function(h,d){for(var p in d)f.call(d,p)&&(h[p]=d[p]);function g(){this.constructor=h}return g.prototype=d.prototype,h.prototype=new g,h.__super__=d.prototype,h},f={}.hasOwnProperty;u=pt(),s=u.isObject,a=u.isFunction,o=u.getValue,i=Ke(),e=Ce(),t=Ea(),n=Gn(),Il.exports=r=function(h){c(d,h);function d(p,g,m){var E,_,b,v;if(d.__super__.constructor.call(this,p),g==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(g),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,m!=null&&this.attribute(m),p.type===e.Document&&(this.isRoot=!0,this.documentObject=p,p.rootObject=this,p.children)){for(v=p.children,_=0,b=v.length;_<b;_++)if(E=v[_],E.type===e.DocType){E.name=this.name;break}}}return Object.defineProperty(d.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(d.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(d.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(d.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(d.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(d.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),d.prototype.clone=function(){var p,g,m,E;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attribs={},E=this.attribs;for(g in E)!f.call(E,g)||(p=E[g],m.attribs[g]=p.clone());return m.children=[],this.children.forEach(function(_){var b;return b=_.clone(),b.parent=m,m.children.push(b)}),m},d.prototype.attribute=function(p,g){var m,E;if(p!=null&&(p=o(p)),s(p))for(m in p)!f.call(p,m)||(E=p[m],this.attribute(m,E));else a(g)&&(g=g.apply()),this.options.keepNullAttributes&&g==null?this.attribs[p]=new t(this,p,""):g!=null&&(this.attribs[p]=new t(this,p,g));return this},d.prototype.removeAttribute=function(p){var g,m,E;if(p==null)throw new Error("Missing attribute name. "+this.debugInfo());if(p=o(p),Array.isArray(p))for(m=0,E=p.length;m<E;m++)g=p[m],delete this.attribs[g];else delete this.attribs[p];return this},d.prototype.toString=function(p){return this.options.writer.element(this,this.options.writer.filterOptions(p))},d.prototype.att=function(p,g){return this.attribute(p,g)},d.prototype.a=function(p,g){return this.attribute(p,g)},d.prototype.getAttribute=function(p){return this.attribs.hasOwnProperty(p)?this.attribs[p].value:null},d.prototype.setAttribute=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNode=function(p){return this.attribs.hasOwnProperty(p)?this.attribs[p]:null},d.prototype.setAttributeNode=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.removeAttributeNode=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setAttributeNS=function(p,g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.removeAttributeNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getAttributeNodeNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setAttributeNodeNS=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.hasAttribute=function(p){return this.attribs.hasOwnProperty(p)},d.prototype.hasAttributeNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setIdAttribute=function(p,g){return this.attribs.hasOwnProperty(p)?this.attribs[p].isId:g},d.prototype.setIdAttributeNS=function(p,g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.setIdAttributeNode=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagName=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByTagNameNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.getElementsByClassName=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},d.prototype.isEqualNode=function(p){var g,m,E;if(!d.__super__.isEqualNode.apply(this,arguments).isEqualNode(p)||p.namespaceURI!==this.namespaceURI||p.prefix!==this.prefix||p.localName!==this.localName||p.attribs.length!==this.attribs.length)return!1;for(g=m=0,E=this.attribs.length-1;0<=E?m<=E:m>=E;g=0<=E?++m:--m)if(!this.attribs[g].isEqualNode(p.attribs[g]))return!1;return!0},d}(i)}).call(Ll)});var Yr=X((jl,Ml)=>{(function(){var e,t,r=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=Ke(),Ml.exports=e=function(i){r(o,i);function o(a){o.__super__.constructor.call(this,a),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(a,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(a,s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(a){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.data!==this.data)},o}(t)}).call(jl)});var Yn=X((Fl,Rl)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=Ce(),r=Yr(),Rl.exports=t=function(o){n(a,o);function a(s,u){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.cdata(this,this.options.writer.filterOptions(s))},a}(r)}).call(Fl)});var Qn=X((ql,Bl)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=Ce(),t=Yr(),Bl.exports=r=function(o){n(a,o);function a(s,u){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.comment(this,this.options.writer.filterOptions(s))},a}(t)}).call(ql)});var Jn=X((Ul,Wl)=>{(function(){var e,t,r,n,i=function(a,s){for(var u in s)o.call(s,u)&&(a[u]=s[u]);function c(){this.constructor=a}return c.prototype=s.prototype,a.prototype=new c,a.__super__=s.prototype,a},o={}.hasOwnProperty;n=pt().isObject,r=Ke(),e=Ce(),Wl.exports=t=function(a){i(s,a);function s(u,c,f,h){var d;s.__super__.constructor.call(this,u),n(c)&&(d=c,c=d.version,f=d.encoding,h=d.standalone),c||(c="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(c),f!=null&&(this.encoding=this.stringify.xmlEncoding(f)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return s.prototype.toString=function(u){return this.options.writer.declaration(this,this.options.writer.filterOptions(u))},s}(r)}).call(Ul)});var Zn=X((Xl,Vl)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;r=Ke(),e=Ce(),Vl.exports=t=function(o){n(a,o);function a(s,u,c,f,h,d){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(u));if(!f)throw new Error("Missing DTD attribute type. "+this.debugInfo(u));if(!h)throw new Error("Missing DTD attribute default. "+this.debugInfo(u));if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(u));if(d&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(u));this.elementName=this.stringify.name(u),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(c),this.attributeType=this.stringify.dtdAttType(f),d&&(this.defaultValue=this.stringify.dtdAttDefault(d)),this.defaultValueType=h}return a.prototype.toString=function(s){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(s))},a}(r)}).call(Xl)});var ei=X(($l,Hl)=>{(function(){var e,t,r,n,i=function(a,s){for(var u in s)o.call(s,u)&&(a[u]=s[u]);function c(){this.constructor=a}return c.prototype=s.prototype,a.prototype=new c,a.__super__=s.prototype,a},o={}.hasOwnProperty;n=pt().isObject,r=Ke(),e=Ce(),Hl.exports=t=function(a){i(s,a);function s(u,c,f,h){if(s.__super__.constructor.call(this,u),f==null)throw new Error("Missing DTD entity name. "+this.debugInfo(f));if(h==null)throw new Error("Missing DTD entity value. "+this.debugInfo(f));if(this.pe=!!c,this.name=this.stringify.name(f),this.type=e.EntityDeclaration,!n(h))this.value=this.stringify.dtdEntityValue(h),this.internal=!0;else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(f));if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(f));if(this.internal=!1,h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(f))}}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s.prototype.toString=function(u){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(u))},s}(r)}).call($l)});var ti=X((zl,Gl)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;r=Ke(),e=Ce(),Gl.exports=t=function(o){n(a,o);function a(s,u,c){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.name(u),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(c)}return a.prototype.toString=function(s){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(s))},a}(r)}).call(zl)});var ri=X((Kl,Yl)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;r=Ke(),e=Ce(),Yl.exports=t=function(o){n(a,o);function a(s,u,c){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing DTD notation name. "+this.debugInfo(u));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(u));this.name=this.stringify.name(u),this.type=e.NotationDeclaration,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),a.prototype.toString=function(s){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(s))},a}(r)}).call(Kl)});var ni=X((Ql,Jl)=>{(function(){var e,t,r,n,i,o,a,s,u,c=function(h,d){for(var p in d)f.call(d,p)&&(h[p]=d[p]);function g(){this.constructor=h}return g.prototype=d.prototype,h.prototype=new g,h.__super__=d.prototype,h},f={}.hasOwnProperty;u=pt().isObject,s=Ke(),e=Ce(),t=Zn(),n=ei(),r=ti(),i=ri(),a=Gn(),Jl.exports=o=function(h){c(d,h);function d(p,g,m){var E,_,b,v,y,w;if(d.__super__.constructor.call(this,p),this.type=e.DocType,p.children){for(v=p.children,_=0,b=v.length;_<b;_++)if(E=v[_],E.type===e.Element){this.name=E.name;break}}this.documentObject=p,u(g)&&(y=g,g=y.pubID,m=y.sysID),m==null&&(w=[g,m],m=w[0],g=w[1]),g!=null&&(this.pubID=this.stringify.dtdPubID(g)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return Object.defineProperty(d.prototype,"entities",{get:function(){var p,g,m,E,_;for(E={},_=this.children,g=0,m=_.length;g<m;g++)p=_[g],p.type===e.EntityDeclaration&&!p.pe&&(E[p.name]=p);return new a(E)}}),Object.defineProperty(d.prototype,"notations",{get:function(){var p,g,m,E,_;for(E={},_=this.children,g=0,m=_.length;g<m;g++)p=_[g],p.type===e.NotationDeclaration&&(E[p.name]=p);return new a(E)}}),Object.defineProperty(d.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(d.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(d.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),d.prototype.element=function(p,g){var m;return m=new r(this,p,g),this.children.push(m),this},d.prototype.attList=function(p,g,m,E,_){var b;return b=new t(this,p,g,m,E,_),this.children.push(b),this},d.prototype.entity=function(p,g){var m;return m=new n(this,!1,p,g),this.children.push(m),this},d.prototype.pEntity=function(p,g){var m;return m=new n(this,!0,p,g),this.children.push(m),this},d.prototype.notation=function(p,g){var m;return m=new i(this,p,g),this.children.push(m),this},d.prototype.toString=function(p){return this.options.writer.docType(this,this.options.writer.filterOptions(p))},d.prototype.ele=function(p,g){return this.element(p,g)},d.prototype.att=function(p,g,m,E,_){return this.attList(p,g,m,E,_)},d.prototype.ent=function(p,g){return this.entity(p,g)},d.prototype.pent=function(p,g){return this.pEntity(p,g)},d.prototype.not=function(p,g){return this.notation(p,g)},d.prototype.up=function(){return this.root()||this.documentObject},d.prototype.isEqualNode=function(p){return!(!d.__super__.isEqualNode.apply(this,arguments).isEqualNode(p)||p.name!==this.name||p.publicId!==this.publicId||p.systemId!==this.systemId)},d}(s)}).call(Ql)});var ii=X((Zl,ec)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=Ce(),t=Ke(),ec.exports=r=function(o){n(a,o);function a(s,u){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(u)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.raw(this,this.options.writer.filterOptions(s))},a}(t)}).call(Zl)});var oi=X((tc,rc)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=Ce(),t=Yr(),rc.exports=r=function(o){n(a,o);function a(s,u){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(u)}return Object.defineProperty(a.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"wholeText",{get:function(){var s,u,c;for(c="",u=this.previousSibling;u;)c=u.data+c,u=u.previousSibling;for(c+=this.data,s=this.nextSibling;s;)c=c+s.data,s=s.nextSibling;return c}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.text(this,this.options.writer.filterOptions(s))},a.prototype.splitText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceWholeText=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a}(t)}).call(tc)});var ai=X((nc,ic)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;e=Ce(),t=Yr(),ic.exports=r=function(o){n(a,o);function a(s,u,c){if(a.__super__.constructor.call(this,s),u==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(u),this.name=this.target,c&&(this.value=this.stringify.insValue(c))}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(s))},a.prototype.isEqualNode=function(s){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.target!==this.target)},a}(t)}).call(nc)});var Sa=X((oc,ac)=>{(function(){var e,t,r,n=function(o,a){for(var s in a)i.call(a,s)&&(o[s]=a[s]);function u(){this.constructor=o}return u.prototype=a.prototype,o.prototype=new u,o.__super__=a.prototype,o},i={}.hasOwnProperty;r=Ke(),e=Ce(),ac.exports=t=function(o){n(a,o);function a(s){a.__super__.constructor.call(this,s),this.type=e.Dummy}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(s){return""},a}(r)}).call(oc)});var lc=X((sc,uc)=>{(function(){var e;uc.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(r){return this.nodes[r]||null},t}()}).call(sc)});var hc=X((cc,fc)=>{(function(){fc.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(cc)});var Ke=X((pc,dc)=>{(function(){var e,t,r,n,i,o,a,s,u,c,f,h,d,p,g,m,E,_,b,v={}.hasOwnProperty;b=pt(),_=b.isObject,E=b.isFunction,m=b.isEmpty,g=b.getValue,s=null,r=null,n=null,i=null,o=null,d=null,p=null,h=null,a=null,t=null,f=null,u=null,e=null,dc.exports=c=function(){function y(w){this.parent=w,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,s||(s=Kn(),r=Yn(),n=Qn(),i=Jn(),o=ni(),d=ii(),p=oi(),h=ai(),a=Sa(),t=Ce(),f=lc(),u=Gn(),e=hc())}return Object.defineProperty(y.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(y.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(y.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(y.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(y.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(y.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(y.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(y.prototype,"previousSibling",{get:function(){var w;return w=this.parent.children.indexOf(this),this.parent.children[w-1]||null}}),Object.defineProperty(y.prototype,"nextSibling",{get:function(){var w;return w=this.parent.children.indexOf(this),this.parent.children[w+1]||null}}),Object.defineProperty(y.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(y.prototype,"textContent",{get:function(){var w,O,P,T,L;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(L="",T=this.children,O=0,P=T.length;O<P;O++)w=T[O],w.textContent&&(L+=w.textContent);return L}else return null},set:function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),y.prototype.setParent=function(w){var O,P,T,L,A;for(this.parent=w,w&&(this.options=w.options,this.stringify=w.stringify),L=this.children,A=[],P=0,T=L.length;P<T;P++)O=L[P],A.push(O.setParent(this));return A},y.prototype.element=function(w,O,P){var T,L,A,M,B,G,te,R,U,Y,Q;if(G=null,O===null&&P==null&&(U=[{},null],O=U[0],P=U[1]),O==null&&(O={}),O=g(O),_(O)||(Y=[O,P],P=Y[0],O=Y[1]),w!=null&&(w=g(w)),Array.isArray(w))for(A=0,te=w.length;A<te;A++)L=w[A],G=this.element(L);else if(E(w))G=this.element(w.apply());else if(_(w)){for(B in w)if(!!v.call(w,B))if(Q=w[B],E(Q)&&(Q=Q.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&B.indexOf(this.stringify.convertAttKey)===0)G=this.attribute(B.substr(this.stringify.convertAttKey.length),Q);else if(!this.options.separateArrayItems&&Array.isArray(Q)&&m(Q))G=this.dummy();else if(_(Q)&&m(Q))G=this.element(B);else if(!this.options.keepNullNodes&&Q==null)G=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(Q))for(M=0,R=Q.length;M<R;M++)L=Q[M],T={},T[B]=L,G=this.element(T);else _(Q)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&B.indexOf(this.stringify.convertTextKey)===0?G=this.element(Q):(G=this.element(B),G.element(Q)):G=this.element(B,Q)}else!this.options.keepNullNodes&&P===null?G=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&w.indexOf(this.stringify.convertTextKey)===0?G=this.text(P):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&w.indexOf(this.stringify.convertCDataKey)===0?G=this.cdata(P):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&w.indexOf(this.stringify.convertCommentKey)===0?G=this.comment(P):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&w.indexOf(this.stringify.convertRawKey)===0?G=this.raw(P):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&w.indexOf(this.stringify.convertPIKey)===0?G=this.instruction(w.substr(this.stringify.convertPIKey.length),P):G=this.node(w,O,P);if(G==null)throw new Error("Could not create any elements with: "+w+". "+this.debugInfo());return G},y.prototype.insertBefore=function(w,O,P){var T,L,A,M,B;if(w!=null?w.type:void 0)return A=w,M=O,A.setParent(this),M?(L=children.indexOf(M),B=children.splice(L),children.push(A),Array.prototype.push.apply(children,B)):children.push(A),A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(w));return L=this.parent.children.indexOf(this),B=this.parent.children.splice(L),T=this.parent.element(w,O,P),Array.prototype.push.apply(this.parent.children,B),T},y.prototype.insertAfter=function(w,O,P){var T,L,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(w));return L=this.parent.children.indexOf(this),A=this.parent.children.splice(L+1),T=this.parent.element(w,O,P),Array.prototype.push.apply(this.parent.children,A),T},y.prototype.remove=function(){var w,O;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return w=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[w,w-w+1].concat(O=[])),this.parent},y.prototype.node=function(w,O,P){var T,L;return w!=null&&(w=g(w)),O||(O={}),O=g(O),_(O)||(L=[O,P],P=L[0],O=L[1]),T=new s(this,w,O),P!=null&&T.text(P),this.children.push(T),T},y.prototype.text=function(w){var O;return _(w)&&this.element(w),O=new p(this,w),this.children.push(O),this},y.prototype.cdata=function(w){var O;return O=new r(this,w),this.children.push(O),this},y.prototype.comment=function(w){var O;return O=new n(this,w),this.children.push(O),this},y.prototype.commentBefore=function(w){var O,P,T;return P=this.parent.children.indexOf(this),T=this.parent.children.splice(P),O=this.parent.comment(w),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.commentAfter=function(w){var O,P,T;return P=this.parent.children.indexOf(this),T=this.parent.children.splice(P+1),O=this.parent.comment(w),Array.prototype.push.apply(this.parent.children,T),this},y.prototype.raw=function(w){var O;return O=new d(this,w),this.children.push(O),this},y.prototype.dummy=function(){var w;return w=new a(this),w},y.prototype.instruction=function(w,O){var P,T,L,A,M;if(w!=null&&(w=g(w)),O!=null&&(O=g(O)),Array.isArray(w))for(A=0,M=w.length;A<M;A++)P=w[A],this.instruction(P);else if(_(w))for(P in w)!v.call(w,P)||(T=w[P],this.instruction(P,T));else E(O)&&(O=O.apply()),L=new h(this,w,O),this.children.push(L);return this},y.prototype.instructionBefore=function(w,O){var P,T,L;return T=this.parent.children.indexOf(this),L=this.parent.children.splice(T),P=this.parent.instruction(w,O),Array.prototype.push.apply(this.parent.children,L),this},y.prototype.instructionAfter=function(w,O){var P,T,L;return T=this.parent.children.indexOf(this),L=this.parent.children.splice(T+1),P=this.parent.instruction(w,O),Array.prototype.push.apply(this.parent.children,L),this},y.prototype.declaration=function(w,O,P){var T,L;return T=this.document(),L=new i(T,w,O,P),T.children.length===0?T.children.unshift(L):T.children[0].type===t.Declaration?T.children[0]=L:T.children.unshift(L),T.root()||T},y.prototype.dtd=function(w,O){var P,T,L,A,M,B,G,te,R,U;for(T=this.document(),L=new o(T,w,O),R=T.children,A=M=0,G=R.length;M<G;A=++M)if(P=R[A],P.type===t.DocType)return T.children[A]=L,L;for(U=T.children,A=B=0,te=U.length;B<te;A=++B)if(P=U[A],P.isRoot)return T.children.splice(A,0,L),L;return T.children.push(L),L},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var w;for(w=this;w;){if(w.type===t.Document)return w.rootObject;if(w.isRoot)return w;w=w.parent}},y.prototype.document=function(){var w;for(w=this;w;){if(w.type===t.Document)return w;w=w.parent}},y.prototype.end=function(w){return this.document().end(w)},y.prototype.prev=function(){var w;if(w=this.parent.children.indexOf(this),w<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[w-1]},y.prototype.next=function(){var w;if(w=this.parent.children.indexOf(this),w===-1||w===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[w+1]},y.prototype.importDocument=function(w){var O;return O=w.root().clone(),O.parent=this,O.isRoot=!1,this.children.push(O),this},y.prototype.debugInfo=function(w){var O,P;return w=w||this.name,w==null&&!((O=this.parent)!=null?O.name:void 0)?"":w==null?"parent: <"+this.parent.name+">":((P=this.parent)!=null?P.name:void 0)?"node: <"+w+">, parent: <"+this.parent.name+">":"node: <"+w+">"},y.prototype.ele=function(w,O,P){return this.element(w,O,P)},y.prototype.nod=function(w,O,P){return this.node(w,O,P)},y.prototype.txt=function(w){return this.text(w)},y.prototype.dat=function(w){return this.cdata(w)},y.prototype.com=function(w){return this.comment(w)},y.prototype.ins=function(w,O){return this.instruction(w,O)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(w,O,P){return this.declaration(w,O,P)},y.prototype.e=function(w,O,P){return this.element(w,O,P)},y.prototype.n=function(w,O,P){return this.node(w,O,P)},y.prototype.t=function(w){return this.text(w)},y.prototype.d=function(w){return this.cdata(w)},y.prototype.c=function(w){return this.comment(w)},y.prototype.r=function(w){return this.raw(w)},y.prototype.i=function(w,O){return this.instruction(w,O)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(w){return this.importDocument(w)},y.prototype.replaceChild=function(w,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.removeChild=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.appendChild=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.hasChildNodes=function(){return this.children.length!==0},y.prototype.cloneNode=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.isSupported=function(w,O){return!0},y.prototype.hasAttributes=function(){return this.attribs.length!==0},y.prototype.compareDocumentPosition=function(w){var O,P;return O=this,O===w?0:this.document()!==w.document()?(P=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?P|=e.Preceding:P|=e.Following,P):O.isAncestor(w)?e.Contains|e.Preceding:O.isDescendant(w)?e.Contains|e.Following:O.isPreceding(w)?e.Preceding:e.Following},y.prototype.isSameNode=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.lookupPrefix=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.isDefaultNamespace=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.lookupNamespaceURI=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.isEqualNode=function(w){var O,P,T;if(w.nodeType!==this.nodeType||w.children.length!==this.children.length)return!1;for(O=P=0,T=this.children.length-1;0<=T?P<=T:P>=T;O=0<=T?++P:--P)if(!this.children[O].isEqualNode(w.children[O]))return!1;return!0},y.prototype.getFeature=function(w,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.setUserData=function(w,O,P){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getUserData=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.contains=function(w){return w?w===this||this.isDescendant(w):!1},y.prototype.isDescendant=function(w){var O,P,T,L,A;for(A=this.children,T=0,L=A.length;T<L;T++)if(O=A[T],w===O||(P=O.isDescendant(w),P))return!0;return!1},y.prototype.isAncestor=function(w){return w.isDescendant(this)},y.prototype.isPreceding=function(w){var O,P;return O=this.treePosition(w),P=this.treePosition(this),O===-1||P===-1?!1:O<P},y.prototype.isFollowing=function(w){var O,P;return O=this.treePosition(w),P=this.treePosition(this),O===-1||P===-1?!1:O>P},y.prototype.treePosition=function(w){var O,P;return P=0,O=!1,this.foreachTreeNode(this.document(),function(T){if(P++,!O&&T===w)return O=!0}),O?P:-1},y.prototype.foreachTreeNode=function(w,O){var P,T,L,A,M;for(w||(w=this.document()),A=w.children,T=0,L=A.length;T<L;T++){if(P=A[T],M=O(P))return M;if(M=this.foreachTreeNode(P,O),M)return M}},y}()}).call(pc)});var Ta=X((gc,yc)=>{(function(){var e,t=function(n,i){return function(){return n.apply(i,arguments)}},r={}.hasOwnProperty;yc.exports=e=function(){function n(i){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var o,a,s;i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),a=i.stringify||{};for(o in a)!r.call(a,o)||(s=a[o],this[o]=s)}return n.prototype.name=function(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")},n.prototype.text=function(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))},n.prototype.cdata=function(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))},n.prototype.comment=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return this.options.noValidation?i:""+i||""},n.prototype.attValue=function(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))},n.prototype.insTarget=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.insValue=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)},n.prototype.xmlVersion=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)},n.prototype.xmlStandalone=function(i){return this.options.noValidation?i:i?"yes":"no"},n.prototype.dtdPubID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdSysID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdElementValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttType=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttDefault=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdEntityValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdNData=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var o,a;if(this.options.noValidation)return i;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=i.match(o))throw new Error("Invalid character in string: "+i+" at index "+a.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=i.match(o)))throw new Error("Invalid character in string: "+i+" at index "+a.index);return i},n.prototype.assertLegalName=function(i){var o;if(this.options.noValidation)return i;if(this.assertLegalChar(i),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(o))throw new Error("Invalid character in name");return i},n.prototype.textEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(gc)});var Qr=X((mc,vc)=>{(function(){vc.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(mc)});var Oa=X((bc,wc)=>{(function(){var e,t,r,n,i,o,a,s,u,c,f,h,d,p,g,m,E,_={}.hasOwnProperty;E=pt().assign,e=Ce(),u=Jn(),c=ni(),r=Yn(),n=Qn(),h=Kn(),p=ii(),g=oi(),d=ai(),f=Sa(),i=Zn(),o=ti(),a=ei(),s=ri(),t=Qr(),wc.exports=m=function(){function b(v){var y,w,O;v||(v={}),this.options=v,w=v.writer||{};for(y in w)!_.call(w,y)||(O=w[y],this["_"+y]=this[y],this[y]=O)}return b.prototype.filterOptions=function(v){var y,w,O,P,T,L,A,M;return v||(v={}),v=E({},this.options,v),y={writer:this},y.pretty=v.pretty||!1,y.allowEmpty=v.allowEmpty||!1,y.indent=(w=v.indent)!=null?w:"  ",y.newline=(O=v.newline)!=null?O:`
`,y.offset=(P=v.offset)!=null?P:0,y.dontPrettyTextNodes=(T=(L=v.dontPrettyTextNodes)!=null?L:v.dontprettytextnodes)!=null?T:0,y.spaceBeforeSlash=(A=(M=v.spaceBeforeSlash)!=null?M:v.spacebeforeslash)!=null?A:"",y.spaceBeforeSlash===!0&&(y.spaceBeforeSlash=" "),y.suppressPrettyCount=0,y.user={},y.state=t.None,y},b.prototype.indent=function(v,y,w){var O;return!y.pretty||y.suppressPrettyCount?"":y.pretty&&(O=(w||0)+y.offset+1,O>0)?new Array(O).join(y.indent):""},b.prototype.endline=function(v,y,w){return!y.pretty||y.suppressPrettyCount?"":y.newline},b.prototype.attribute=function(v,y,w){var O;return this.openAttribute(v,y,w),O=" "+v.name+'="'+v.value+'"',this.closeAttribute(v,y,w),O},b.prototype.cdata=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<![CDATA[",y.state=t.InsideTag,O+=v.value,y.state=t.CloseTag,O+="]]>"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.comment=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<!-- ",y.state=t.InsideTag,O+=v.value,y.state=t.CloseTag,O+=" -->"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.declaration=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<?xml",y.state=t.InsideTag,O+=' version="'+v.version+'"',v.encoding!=null&&(O+=' encoding="'+v.encoding+'"'),v.standalone!=null&&(O+=' standalone="'+v.standalone+'"'),y.state=t.CloseTag,O+=y.spaceBeforeSlash+"?>",O+=this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.docType=function(v,y,w){var O,P,T,L,A;if(w||(w=0),this.openNode(v,y,w),y.state=t.OpenTag,L=this.indent(v,y,w),L+="<!DOCTYPE "+v.root().name,v.pubID&&v.sysID?L+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.sysID&&(L+=' SYSTEM "'+v.sysID+'"'),v.children.length>0){for(L+=" [",L+=this.endline(v,y,w),y.state=t.InsideTag,A=v.children,P=0,T=A.length;P<T;P++)O=A[P],L+=this.writeChildNode(O,y,w+1);y.state=t.CloseTag,L+="]"}return y.state=t.CloseTag,L+=y.spaceBeforeSlash+">",L+=this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),L},b.prototype.element=function(v,y,w){var O,P,T,L,A,M,B,G,te,R,U,Y,Q,I;w||(w=0),R=!1,U="",this.openNode(v,y,w),y.state=t.OpenTag,U+=this.indent(v,y,w)+"<"+v.name,Y=v.attribs;for(te in Y)!_.call(Y,te)||(O=Y[te],U+=this.attribute(O,y,w));if(T=v.children.length,L=T===0?null:v.children[0],T===0||v.children.every(function(V){return(V.type===e.Text||V.type===e.Raw)&&V.value===""}))y.allowEmpty?(U+=">",y.state=t.CloseTag,U+="</"+v.name+">"+this.endline(v,y,w)):(y.state=t.CloseTag,U+=y.spaceBeforeSlash+"/>"+this.endline(v,y,w));else if(y.pretty&&T===1&&(L.type===e.Text||L.type===e.Raw)&&L.value!=null)U+=">",y.state=t.InsideTag,y.suppressPrettyCount++,R=!0,U+=this.writeChildNode(L,y,w+1),y.suppressPrettyCount--,R=!1,y.state=t.CloseTag,U+="</"+v.name+">"+this.endline(v,y,w);else{if(y.dontPrettyTextNodes){for(Q=v.children,A=0,B=Q.length;A<B;A++)if(P=Q[A],(P.type===e.Text||P.type===e.Raw)&&P.value!=null){y.suppressPrettyCount++,R=!0;break}}for(U+=">"+this.endline(v,y,w),y.state=t.InsideTag,I=v.children,M=0,G=I.length;M<G;M++)P=I[M],U+=this.writeChildNode(P,y,w+1);y.state=t.CloseTag,U+=this.indent(v,y,w)+"</"+v.name+">",R&&y.suppressPrettyCount--,U+=this.endline(v,y,w),y.state=t.None}return this.closeNode(v,y,w),U},b.prototype.writeChildNode=function(v,y,w){switch(v.type){case e.CData:return this.cdata(v,y,w);case e.Comment:return this.comment(v,y,w);case e.Element:return this.element(v,y,w);case e.Raw:return this.raw(v,y,w);case e.Text:return this.text(v,y,w);case e.ProcessingInstruction:return this.processingInstruction(v,y,w);case e.Dummy:return"";case e.Declaration:return this.declaration(v,y,w);case e.DocType:return this.docType(v,y,w);case e.AttributeDeclaration:return this.dtdAttList(v,y,w);case e.ElementDeclaration:return this.dtdElement(v,y,w);case e.EntityDeclaration:return this.dtdEntity(v,y,w);case e.NotationDeclaration:return this.dtdNotation(v,y,w);default:throw new Error("Unknown XML node type: "+v.constructor.name)}},b.prototype.processingInstruction=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<?",y.state=t.InsideTag,O+=v.target,v.value&&(O+=" "+v.value),y.state=t.CloseTag,O+=y.spaceBeforeSlash+"?>",O+=this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.raw=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w),y.state=t.InsideTag,O+=v.value,y.state=t.CloseTag,O+=this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.text=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w),y.state=t.InsideTag,O+=v.value,y.state=t.CloseTag,O+=this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.dtdAttList=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<!ATTLIST",y.state=t.InsideTag,O+=" "+v.elementName+" "+v.attributeName+" "+v.attributeType,v.defaultValueType!=="#DEFAULT"&&(O+=" "+v.defaultValueType),v.defaultValue&&(O+=' "'+v.defaultValue+'"'),y.state=t.CloseTag,O+=y.spaceBeforeSlash+">"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.dtdElement=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<!ELEMENT",y.state=t.InsideTag,O+=" "+v.name+" "+v.value,y.state=t.CloseTag,O+=y.spaceBeforeSlash+">"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.dtdEntity=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<!ENTITY",y.state=t.InsideTag,v.pe&&(O+=" %"),O+=" "+v.name,v.value?O+=' "'+v.value+'"':(v.pubID&&v.sysID?O+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.sysID&&(O+=' SYSTEM "'+v.sysID+'"'),v.nData&&(O+=" NDATA "+v.nData)),y.state=t.CloseTag,O+=y.spaceBeforeSlash+">"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.dtdNotation=function(v,y,w){var O;return this.openNode(v,y,w),y.state=t.OpenTag,O=this.indent(v,y,w)+"<!NOTATION",y.state=t.InsideTag,O+=" "+v.name,v.pubID&&v.sysID?O+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.pubID?O+=' PUBLIC "'+v.pubID+'"':v.sysID&&(O+=' SYSTEM "'+v.sysID+'"'),y.state=t.CloseTag,O+=y.spaceBeforeSlash+">"+this.endline(v,y,w),y.state=t.None,this.closeNode(v,y,w),O},b.prototype.openNode=function(v,y,w){},b.prototype.closeNode=function(v,y,w){},b.prototype.openAttribute=function(v,y,w){},b.prototype.closeAttribute=function(v,y,w){},b}()}).call(bc)});var si=X((_c,Ec)=>{(function(){var e,t,r=function(i,o){for(var a in o)n.call(o,a)&&(i[a]=o[a]);function s(){this.constructor=i}return s.prototype=o.prototype,i.prototype=new s,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=Oa(),Ec.exports=e=function(i){r(o,i);function o(a){o.__super__.constructor.call(this,a)}return o.prototype.document=function(a,s){var u,c,f,h,d;for(s=this.filterOptions(s),h="",d=a.children,c=0,f=d.length;c<f;c++)u=d[c],h+=this.writeChildNode(u,s,0);return s.pretty&&h.slice(-s.newline.length)===s.newline&&(h=h.slice(0,-s.newline.length)),h},o}(t)}).call(_c)});var xa=X((Sc,Tc)=>{(function(){var e,t,r,n,i,o,a,s,u=function(f,h){for(var d in h)c.call(h,d)&&(f[d]=h[d]);function p(){this.constructor=f}return p.prototype=h.prototype,f.prototype=new p,f.__super__=h.prototype,f},c={}.hasOwnProperty;s=pt().isPlainObject,r=_a(),t=xl(),i=Ke(),e=Ce(),a=Ta(),o=si(),Tc.exports=n=function(f){u(h,f);function h(d){h.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,d||(d={}),d.writer||(d.writer=new o),this.options=d,this.stringify=new a(d)}return Object.defineProperty(h.prototype,"implementation",{value:new r}),Object.defineProperty(h.prototype,"doctype",{get:function(){var d,p,g,m;for(m=this.children,p=0,g=m.length;p<g;p++)if(d=m[p],d.type===e.DocType)return d;return null}}),Object.defineProperty(h.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(h.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(h.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(h.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(h.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(h.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(h.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(h.prototype,"origin",{get:function(){return null}}),Object.defineProperty(h.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(h.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(h.prototype,"contentType",{get:function(){return null}}),h.prototype.end=function(d){var p;return p={},d?s(d)&&(p=d,d=this.options.writer):d=this.options.writer,d.document(this,d.filterOptions(p))},h.prototype.toString=function(d){return this.options.writer.document(this,this.options.writer.filterOptions(d))},h.prototype.createElement=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createTextNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createComment=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createCDATASection=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createProcessingInstruction=function(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createAttribute=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createEntityReference=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.importNode=function(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createElementNS=function(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createAttributeNS=function(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagNameNS=function(d,p){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementById=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.adoptNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.renameNode=function(d,p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByClassName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createEvent=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createNodeIterator=function(d,p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.createTreeWalker=function(d,p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},h}(i)}).call(Sc)});var Cc=X((Oc,xc)=>{(function(){var e,t,r,n,i,o,a,s,u,c,f,h,d,p,g,m,E,_,b,v,y,w,O,P,T={}.hasOwnProperty;P=pt(),w=P.isObject,y=P.isFunction,O=P.isPlainObject,v=P.getValue,e=Ce(),h=xa(),p=Kn(),n=Yn(),i=Qn(),m=ii(),b=oi(),g=ai(),c=Jn(),f=ni(),o=Zn(),s=ei(),a=ti(),u=ri(),r=Ea(),_=Ta(),E=si(),t=Qr(),xc.exports=d=function(){function L(A,M,B){var G;this.name="?xml",this.type=e.Document,A||(A={}),G={},A.writer?O(A.writer)&&(G=A.writer,A.writer=new E):A.writer=new E,this.options=A,this.writer=A.writer,this.writerOptions=this.writer.filterOptions(G),this.stringify=new _(A),this.onDataCallback=M||function(){},this.onEndCallback=B||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return L.prototype.createChildNode=function(A){var M,B,G,te,R,U,Y,Q;switch(A.type){case e.CData:this.cdata(A.value);break;case e.Comment:this.comment(A.value);break;case e.Element:G={},Y=A.attribs;for(B in Y)!T.call(Y,B)||(M=Y[B],G[B]=M.value);this.node(A.name,G);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(A.value);break;case e.Text:this.text(A.value);break;case e.ProcessingInstruction:this.instruction(A.target,A.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+A.constructor.name)}for(Q=A.children,R=0,U=Q.length;R<U;R++)te=Q[R],this.createChildNode(te),te.type===e.Element&&this.up();return this},L.prototype.dummy=function(){return this},L.prototype.node=function(A,M,B){var G;if(A==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(A));return this.openCurrent(),A=v(A),M==null&&(M={}),M=v(M),w(M)||(G=[M,B],B=G[0],M=G[1]),this.currentNode=new p(this,A,M),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,B!=null&&this.text(B),this},L.prototype.element=function(A,M,B){var G,te,R,U,Y,Q;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(A)||w(A)||y(A))for(U=this.options.noValidation,this.options.noValidation=!0,Q=new h(this.options).element("TEMP_ROOT"),Q.element(A),this.options.noValidation=U,Y=Q.children,te=0,R=Y.length;te<R;te++)G=Y[te],this.createChildNode(G),G.type===e.Element&&this.up();else this.node(A,M,B);return this},L.prototype.attribute=function(A,M){var B,G;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(A));if(A!=null&&(A=v(A)),w(A))for(B in A)!T.call(A,B)||(G=A[B],this.attribute(B,G));else y(M)&&(M=M.apply()),this.options.keepNullAttributes&&M==null?this.currentNode.attribs[A]=new r(this,A,""):M!=null&&(this.currentNode.attribs[A]=new r(this,A,M));return this},L.prototype.text=function(A){var M;return this.openCurrent(),M=new b(this,A),this.onData(this.writer.text(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.cdata=function(A){var M;return this.openCurrent(),M=new n(this,A),this.onData(this.writer.cdata(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.comment=function(A){var M;return this.openCurrent(),M=new i(this,A),this.onData(this.writer.comment(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.raw=function(A){var M;return this.openCurrent(),M=new m(this,A),this.onData(this.writer.raw(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.instruction=function(A,M){var B,G,te,R,U;if(this.openCurrent(),A!=null&&(A=v(A)),M!=null&&(M=v(M)),Array.isArray(A))for(B=0,R=A.length;B<R;B++)G=A[B],this.instruction(G);else if(w(A))for(G in A)!T.call(A,G)||(te=A[G],this.instruction(G,te));else y(M)&&(M=M.apply()),U=new g(this,A,M),this.onData(this.writer.processingInstruction(U,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},L.prototype.declaration=function(A,M,B){var G;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return G=new c(this,A,M,B),this.onData(this.writer.declaration(G,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.doctype=function(A,M,B){if(this.openCurrent(),A==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new f(this,M,B),this.currentNode.rootNodeName=A,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},L.prototype.dtdElement=function(A,M){var B;return this.openCurrent(),B=new a(this,A,M),this.onData(this.writer.dtdElement(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.attList=function(A,M,B,G,te){var R;return this.openCurrent(),R=new o(this,A,M,B,G,te),this.onData(this.writer.dtdAttList(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.entity=function(A,M){var B;return this.openCurrent(),B=new s(this,!1,A,M),this.onData(this.writer.dtdEntity(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.pEntity=function(A,M){var B;return this.openCurrent(),B=new s(this,!0,A,M),this.onData(this.writer.dtdEntity(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.notation=function(A,M){var B;return this.openCurrent(),B=new u(this,A,M),this.onData(this.writer.dtdNotation(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},L.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},L.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},L.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},L.prototype.openNode=function(A){var M,B,G,te;if(!A.isOpen){if(!this.root&&this.currentLevel===0&&A.type===e.Element&&(this.root=A),B="",A.type===e.Element){this.writerOptions.state=t.OpenTag,B=this.writer.indent(A,this.writerOptions,this.currentLevel)+"<"+A.name,te=A.attribs;for(G in te)!T.call(te,G)||(M=te[G],B+=this.writer.attribute(M,this.writerOptions,this.currentLevel));B+=(A.children?">":"/>")+this.writer.endline(A,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,B=this.writer.indent(A,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+A.rootNodeName,A.pubID&&A.sysID?B+=' PUBLIC "'+A.pubID+'" "'+A.sysID+'"':A.sysID&&(B+=' SYSTEM "'+A.sysID+'"'),A.children?(B+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,B+=">"),B+=this.writer.endline(A,this.writerOptions,this.currentLevel);return this.onData(B,this.currentLevel),A.isOpen=!0}},L.prototype.closeNode=function(A){var M;if(!A.isClosed)return M="",this.writerOptions.state=t.CloseTag,A.type===e.Element?M=this.writer.indent(A,this.writerOptions,this.currentLevel)+"</"+A.name+">"+this.writer.endline(A,this.writerOptions,this.currentLevel):M=this.writer.indent(A,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(A,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(M,this.currentLevel),A.isClosed=!0},L.prototype.onData=function(A,M){return this.documentStarted=!0,this.onDataCallback(A,M+1)},L.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},L.prototype.debugInfo=function(A){return A==null?"":"node: <"+A+">"},L.prototype.ele=function(){return this.element.apply(this,arguments)},L.prototype.nod=function(A,M,B){return this.node(A,M,B)},L.prototype.txt=function(A){return this.text(A)},L.prototype.dat=function(A){return this.cdata(A)},L.prototype.com=function(A){return this.comment(A)},L.prototype.ins=function(A,M){return this.instruction(A,M)},L.prototype.dec=function(A,M,B){return this.declaration(A,M,B)},L.prototype.dtd=function(A,M,B){return this.doctype(A,M,B)},L.prototype.e=function(A,M,B){return this.element(A,M,B)},L.prototype.n=function(A,M,B){return this.node(A,M,B)},L.prototype.t=function(A){return this.text(A)},L.prototype.d=function(A){return this.cdata(A)},L.prototype.c=function(A){return this.comment(A)},L.prototype.r=function(A){return this.raw(A)},L.prototype.i=function(A,M){return this.instruction(A,M)},L.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},L.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},L.prototype.ent=function(A,M){return this.entity(A,M)},L.prototype.pent=function(A,M){return this.pEntity(A,M)},L.prototype.not=function(A,M){return this.notation(A,M)},L}()}).call(Oc)});var kc=X((Dc,Nc)=>{(function(){var e,t,r,n,i=function(a,s){for(var u in s)o.call(s,u)&&(a[u]=s[u]);function c(){this.constructor=a}return c.prototype=s.prototype,a.prototype=new c,a.__super__=s.prototype,a},o={}.hasOwnProperty;e=Ce(),n=Oa(),t=Qr(),Nc.exports=r=function(a){i(s,a);function s(u,c){this.stream=u,s.__super__.constructor.call(this,c)}return s.prototype.endline=function(u,c,f){return u.isLastRootNode&&c.state===t.CloseTag?"":s.__super__.endline.call(this,u,c,f)},s.prototype.document=function(u,c){var f,h,d,p,g,m,E,_,b;for(E=u.children,h=d=0,g=E.length;d<g;h=++d)f=E[h],f.isLastRootNode=h===u.children.length-1;for(c=this.filterOptions(c),_=u.children,b=[],p=0,m=_.length;p<m;p++)f=_[p],b.push(this.writeChildNode(f,c,0));return b},s.prototype.attribute=function(u,c,f){return this.stream.write(s.__super__.attribute.call(this,u,c,f))},s.prototype.cdata=function(u,c,f){return this.stream.write(s.__super__.cdata.call(this,u,c,f))},s.prototype.comment=function(u,c,f){return this.stream.write(s.__super__.comment.call(this,u,c,f))},s.prototype.declaration=function(u,c,f){return this.stream.write(s.__super__.declaration.call(this,u,c,f))},s.prototype.docType=function(u,c,f){var h,d,p,g;if(f||(f=0),this.openNode(u,c,f),c.state=t.OpenTag,this.stream.write(this.indent(u,c,f)),this.stream.write("<!DOCTYPE "+u.root().name),u.pubID&&u.sysID?this.stream.write(' PUBLIC "'+u.pubID+'" "'+u.sysID+'"'):u.sysID&&this.stream.write(' SYSTEM "'+u.sysID+'"'),u.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(u,c,f)),c.state=t.InsideTag,g=u.children,d=0,p=g.length;d<p;d++)h=g[d],this.writeChildNode(h,c,f+1);c.state=t.CloseTag,this.stream.write("]")}return c.state=t.CloseTag,this.stream.write(c.spaceBeforeSlash+">"),this.stream.write(this.endline(u,c,f)),c.state=t.None,this.closeNode(u,c,f)},s.prototype.element=function(u,c,f){var h,d,p,g,m,E,_,b,v,y;f||(f=0),this.openNode(u,c,f),c.state=t.OpenTag,this.stream.write(this.indent(u,c,f)+"<"+u.name),v=u.attribs;for(_ in v)!o.call(v,_)||(h=v[_],this.attribute(h,c,f));if(p=u.children.length,g=p===0?null:u.children[0],p===0||u.children.every(function(w){return(w.type===e.Text||w.type===e.Raw)&&w.value===""}))c.allowEmpty?(this.stream.write(">"),c.state=t.CloseTag,this.stream.write("</"+u.name+">")):(c.state=t.CloseTag,this.stream.write(c.spaceBeforeSlash+"/>"));else if(c.pretty&&p===1&&(g.type===e.Text||g.type===e.Raw)&&g.value!=null)this.stream.write(">"),c.state=t.InsideTag,c.suppressPrettyCount++,b=!0,this.writeChildNode(g,c,f+1),c.suppressPrettyCount--,b=!1,c.state=t.CloseTag,this.stream.write("</"+u.name+">");else{for(this.stream.write(">"+this.endline(u,c,f)),c.state=t.InsideTag,y=u.children,m=0,E=y.length;m<E;m++)d=y[m],this.writeChildNode(d,c,f+1);c.state=t.CloseTag,this.stream.write(this.indent(u,c,f)+"</"+u.name+">")}return this.stream.write(this.endline(u,c,f)),c.state=t.None,this.closeNode(u,c,f)},s.prototype.processingInstruction=function(u,c,f){return this.stream.write(s.__super__.processingInstruction.call(this,u,c,f))},s.prototype.raw=function(u,c,f){return this.stream.write(s.__super__.raw.call(this,u,c,f))},s.prototype.text=function(u,c,f){return this.stream.write(s.__super__.text.call(this,u,c,f))},s.prototype.dtdAttList=function(u,c,f){return this.stream.write(s.__super__.dtdAttList.call(this,u,c,f))},s.prototype.dtdElement=function(u,c,f){return this.stream.write(s.__super__.dtdElement.call(this,u,c,f))},s.prototype.dtdEntity=function(u,c,f){return this.stream.write(s.__super__.dtdEntity.call(this,u,c,f))},s.prototype.dtdNotation=function(u,c,f){return this.stream.write(s.__super__.dtdNotation.call(this,u,c,f))},s}(n)}).call(Dc)});var Pc=X((Ac,qt)=>{(function(){var e,t,r,n,i,o,a,s,u,c;c=pt(),s=c.assign,u=c.isFunction,r=_a(),n=xa(),i=Cc(),a=si(),o=kc(),e=Ce(),t=Qr(),qt.exports.create=function(f,h,d,p){var g,m;if(f==null)throw new Error("Root element needs a name.");return p=s({},h,d,p),g=new n(p),m=g.element(f),p.headless||(g.declaration(p),(p.pubID!=null||p.sysID!=null)&&g.dtd(p)),m},qt.exports.begin=function(f,h,d){var p;return u(f)&&(p=[f,h],h=p[0],d=p[1],f={}),h?new i(f,h,d):new n(f)},qt.exports.stringWriter=function(f){return new a(f)},qt.exports.streamWriter=function(f,h){return new o(f,h)},qt.exports.implementation=new r,qt.exports.nodeType=e,qt.exports.writerState=t}).call(Ac)});var Lc=X(Ca=>{(function(){"use strict";var e,t,r,n,i,o={}.hasOwnProperty;e=Pc(),t=zn().defaults,n=function(a){return typeof a=="string"&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},i=function(a){return"<![CDATA["+r(a)+"]]>"},r=function(a){return a.replace("]]>","]]]]><![CDATA[>")},Ca.Builder=function(){function a(s){var u,c,f;this.options={},c=t["0.2"];for(u in c)!o.call(c,u)||(f=c[u],this.options[u]=f);for(u in s)!o.call(s,u)||(f=s[u],this.options[u]=f)}return a.prototype.buildObject=function(s){var u,c,f,h,d;return u=this.options.attrkey,c=this.options.charkey,Object.keys(s).length===1&&this.options.rootName===t["0.2"].rootName?(d=Object.keys(s)[0],s=s[d]):d=this.options.rootName,f=function(p){return function(g,m){var E,_,b,v,y,w;if(typeof m!="object")p.options.cdata&&n(m)?g.raw(i(m)):g.txt(m);else if(Array.isArray(m)){for(v in m)if(!!o.call(m,v)){_=m[v];for(y in _)b=_[y],g=f(g.ele(y),b).up()}}else for(y in m)if(!!o.call(m,y))if(_=m[y],y===u){if(typeof _=="object")for(E in _)w=_[E],g=g.att(E,w)}else if(y===c)p.options.cdata&&n(_)?g=g.raw(i(_)):g=g.txt(_);else if(Array.isArray(_))for(v in _)!o.call(_,v)||(b=_[v],typeof b=="string"?p.options.cdata&&n(b)?g=g.ele(y).raw(i(b)).up():g=g.ele(y,b).up():g=f(g.ele(y),b).up());else typeof _=="object"?g=f(g.ele(y),_).up():typeof _=="string"&&p.options.cdata&&n(_)?g=g.ele(y).raw(i(_)).up():(_==null&&(_=""),g=g.ele(y,_.toString()).up());return g}}(this),h=e.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),f(h,s).end(this.options.renderOpts)},a}()}).call(Ca)});var Ic=X(ui=>{(function(e){e.parser=function(k,C){return new r(k,C)},e.SAXParser=r,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(k,C){if(!(this instanceof r))return new r(k,C);var H=this;i(H),H.q=H.c="",H.bufferCheckPosition=e.MAX_BUFFER_LENGTH,H.opt=C||{},H.opt.lowercase=H.opt.lowercase||H.opt.lowercasetags,H.looseCase=H.opt.lowercase?"toLowerCase":"toUpperCase",H.tags=[],H.closed=H.closedRoot=H.sawRoot=!1,H.tag=H.error=null,H.strict=!!k,H.noscript=!!(k||H.opt.noscript),H.state=T.BEGIN,H.strictEntities=H.opt.strictEntities,H.ENTITIES=H.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),H.attribList=[],H.opt.xmlns&&(H.ns=Object.create(g)),H.trackPosition=H.opt.position!==!1,H.trackPosition&&(H.position=H.line=H.column=0),A(H,"onready")}Object.create||(Object.create=function(k){function C(){}C.prototype=k;var H=new C;return H}),Object.keys||(Object.keys=function(k){var C=[];for(var H in k)k.hasOwnProperty(H)&&C.push(H);return C});function n(k){for(var C=Math.max(e.MAX_BUFFER_LENGTH,10),H=0,q=0,se=t.length;q<se;q++){var ce=k[t[q]].length;if(ce>C)switch(t[q]){case"textNode":B(k);break;case"cdata":M(k,"oncdata",k.cdata),k.cdata="";break;case"script":M(k,"onscript",k.script),k.script="";break;default:te(k,"Max buffer length exceeded: "+t[q])}H=Math.max(H,ce)}var ve=e.MAX_BUFFER_LENGTH-H;k.bufferCheckPosition=ve+k.position}function i(k){for(var C=0,H=t.length;C<H;C++)k[t[C]]=""}function o(k){B(k),k.cdata!==""&&(M(k,"oncdata",k.cdata),k.cdata=""),k.script!==""&&(M(k,"onscript",k.script),k.script="")}r.prototype={end:function(){R(this)},write:ue,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=require("stream").Stream}catch(k){a=function(){}}a||(a=function(){});var s=e.EVENTS.filter(function(k){return k!=="error"&&k!=="end"});function u(k,C){return new c(k,C)}function c(k,C){if(!(this instanceof c))return new c(k,C);a.apply(this),this._parser=new r(k,C),this.writable=!0,this.readable=!0;var H=this;this._parser.onend=function(){H.emit("end")},this._parser.onerror=function(q){H.emit("error",q),H._parser.error=null},this._decoder=null,s.forEach(function(q){Object.defineProperty(H,"on"+q,{get:function(){return H._parser["on"+q]},set:function(se){if(!se)return H.removeAllListeners(q),H._parser["on"+q]=se,se;H.on(q,se)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(k){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(k)){if(!this._decoder){var C=require("string_decoder").StringDecoder;this._decoder=new C("utf8")}k=this._decoder.write(k)}return this._parser.write(k.toString()),this.emit("data",k),!0},c.prototype.end=function(k){return k&&k.length&&this.write(k),this._parser.end(),!0},c.prototype.on=function(k,C){var H=this;return!H._parser["on"+k]&&s.indexOf(k)!==-1&&(H._parser["on"+k]=function(){var q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,k),H.emit.apply(H,q)}),a.prototype.on.call(H,k,C)};var f="[CDATA[",h="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:d,xmlns:p},m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(k){return k===" "||k===`
`||k==="\r"||k==="	"}function y(k){return k==='"'||k==="'"}function w(k){return k===">"||v(k)}function O(k,C){return k.test(C)}function P(k,C){return!O(k,C)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(k){var C=e.ENTITIES[k],H=typeof C=="number"?String.fromCharCode(C):C;e.ENTITIES[k]=H});for(var L in e.STATE)e.STATE[e.STATE[L]]=L;T=e.STATE;function A(k,C,H){k[C]&&k[C](H)}function M(k,C,H){k.textNode&&B(k),A(k,C,H)}function B(k){k.textNode=G(k.opt,k.textNode),k.textNode&&A(k,"ontext",k.textNode),k.textNode=""}function G(k,C){return k.trim&&(C=C.trim()),k.normalize&&(C=C.replace(/\s+/g," ")),C}function te(k,C){return B(k),k.trackPosition&&(C+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c),C=new Error(C),k.error=C,A(k,"onerror",C),k}function R(k){return k.sawRoot&&!k.closedRoot&&U(k,"Unclosed root tag"),k.state!==T.BEGIN&&k.state!==T.BEGIN_WHITESPACE&&k.state!==T.TEXT&&te(k,"Unexpected end"),B(k),k.c="",k.closed=!0,A(k,"onend"),r.call(k,k.strict,k.opt),k}function U(k,C){if(typeof k!="object"||!(k instanceof r))throw new Error("bad call to strictFail");k.strict&&te(k,C)}function Y(k){k.strict||(k.tagName=k.tagName[k.looseCase]());var C=k.tags[k.tags.length-1]||k,H=k.tag={name:k.tagName,attributes:{}};k.opt.xmlns&&(H.ns=C.ns),k.attribList.length=0,M(k,"onopentagstart",H)}function Q(k,C){var H=k.indexOf(":"),q=H<0?["",k]:k.split(":"),se=q[0],ce=q[1];return C&&k==="xmlns"&&(se="xmlns",ce=""),{prefix:se,local:ce}}function I(k){if(k.strict||(k.attribName=k.attribName[k.looseCase]()),k.attribList.indexOf(k.attribName)!==-1||k.tag.attributes.hasOwnProperty(k.attribName)){k.attribName=k.attribValue="";return}if(k.opt.xmlns){var C=Q(k.attribName,!0),H=C.prefix,q=C.local;if(H==="xmlns")if(q==="xml"&&k.attribValue!==d)U(k,"xml: prefix must be bound to "+d+`
Actual: `+k.attribValue);else if(q==="xmlns"&&k.attribValue!==p)U(k,"xmlns: prefix must be bound to "+p+`
Actual: `+k.attribValue);else{var se=k.tag,ce=k.tags[k.tags.length-1]||k;se.ns===ce.ns&&(se.ns=Object.create(ce.ns)),se.ns[q]=k.attribValue}k.attribList.push([k.attribName,k.attribValue])}else k.tag.attributes[k.attribName]=k.attribValue,M(k,"onattribute",{name:k.attribName,value:k.attribValue});k.attribName=k.attribValue=""}function V(k,C){if(k.opt.xmlns){var H=k.tag,q=Q(k.tagName);H.prefix=q.prefix,H.local=q.local,H.uri=H.ns[q.prefix]||"",H.prefix&&!H.uri&&(U(k,"Unbound namespace prefix: "+JSON.stringify(k.tagName)),H.uri=q.prefix);var se=k.tags[k.tags.length-1]||k;H.ns&&se.ns!==H.ns&&Object.keys(H.ns).forEach(function(Ft){M(k,"onopennamespace",{prefix:Ft,uri:H.ns[Ft]})});for(var ce=0,ve=k.attribList.length;ce<ve;ce++){var Se=k.attribList[ce],De=Se[0],it=Se[1],Te=Q(De,!0),Ge=Te.prefix,ot=Te.local,Et=Ge===""?"":H.ns[Ge]||"",Mt={name:De,value:it,prefix:Ge,local:ot,uri:Et};Ge&&Ge!=="xmlns"&&!Et&&(U(k,"Unbound namespace prefix: "+JSON.stringify(Ge)),Mt.uri=Ge),k.tag.attributes[De]=Mt,M(k,"onattribute",Mt)}k.attribList.length=0}k.tag.isSelfClosing=!!C,k.sawRoot=!0,k.tags.push(k.tag),M(k,"onopentag",k.tag),C||(!k.noscript&&k.tagName.toLowerCase()==="script"?k.state=T.SCRIPT:k.state=T.TEXT,k.tag=null,k.tagName=""),k.attribName=k.attribValue="",k.attribList.length=0}function K(k){if(!k.tagName){U(k,"Weird empty close tag."),k.textNode+="</>",k.state=T.TEXT;return}if(k.script){if(k.tagName!=="script"){k.script+="</"+k.tagName+">",k.tagName="",k.state=T.SCRIPT;return}M(k,"onscript",k.script),k.script=""}var C=k.tags.length,H=k.tagName;k.strict||(H=H[k.looseCase]());for(var q=H;C--;){var se=k.tags[C];if(se.name!==q)U(k,"Unexpected close tag");else break}if(C<0){U(k,"Unmatched closing tag: "+k.tagName),k.textNode+="</"+k.tagName+">",k.state=T.TEXT;return}k.tagName=H;for(var ce=k.tags.length;ce-- >C;){var ve=k.tag=k.tags.pop();k.tagName=k.tag.name,M(k,"onclosetag",k.tagName);var Se={};for(var De in ve.ns)Se[De]=ve.ns[De];var it=k.tags[k.tags.length-1]||k;k.opt.xmlns&&ve.ns!==it.ns&&Object.keys(ve.ns).forEach(function(Te){var Ge=ve.ns[Te];M(k,"onclosenamespace",{prefix:Te,uri:Ge})})}C===0&&(k.closedRoot=!0),k.tagName=k.attribValue=k.attribName="",k.attribList.length=0,k.state=T.TEXT}function J(k){var C=k.entity,H=C.toLowerCase(),q,se="";return k.ENTITIES[C]?k.ENTITIES[C]:k.ENTITIES[H]?k.ENTITIES[H]:(C=H,C.charAt(0)==="#"&&(C.charAt(1)==="x"?(C=C.slice(2),q=parseInt(C,16),se=q.toString(16)):(C=C.slice(1),q=parseInt(C,10),se=q.toString(10))),C=C.replace(/^0+/,""),isNaN(q)||se.toLowerCase()!==C?(U(k,"Invalid character entity"),"&"+k.entity+";"):String.fromCodePoint(q))}function ee(k,C){C==="<"?(k.state=T.OPEN_WAKA,k.startTagPosition=k.position):v(C)||(U(k,"Non-whitespace before first tag."),k.textNode=C,k.state=T.TEXT)}function re(k,C){var H="";return C<k.length&&(H=k.charAt(C)),H}function ue(k){var C=this;if(this.error)throw this.error;if(C.closed)return te(C,"Cannot write after close. Assign an onready handler.");if(k===null)return R(C);typeof k=="object"&&(k=k.toString());for(var H=0,q="";q=re(k,H++),C.c=q,!!q;)switch(C.trackPosition&&(C.position++,q===`
`?(C.line++,C.column=0):C.column++),C.state){case T.BEGIN:if(C.state=T.BEGIN_WHITESPACE,q==="\uFEFF")continue;ee(C,q);continue;case T.BEGIN_WHITESPACE:ee(C,q);continue;case T.TEXT:if(C.sawRoot&&!C.closedRoot){for(var se=H-1;q&&q!=="<"&&q!=="&";)q=re(k,H++),q&&C.trackPosition&&(C.position++,q===`
`?(C.line++,C.column=0):C.column++);C.textNode+=k.substring(se,H-1)}q==="<"&&!(C.sawRoot&&C.closedRoot&&!C.strict)?(C.state=T.OPEN_WAKA,C.startTagPosition=C.position):(!v(q)&&(!C.sawRoot||C.closedRoot)&&U(C,"Text data outside of root node."),q==="&"?C.state=T.TEXT_ENTITY:C.textNode+=q);continue;case T.SCRIPT:q==="<"?C.state=T.SCRIPT_ENDING:C.script+=q;continue;case T.SCRIPT_ENDING:q==="/"?C.state=T.CLOSE_TAG:(C.script+="<"+q,C.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(q==="!")C.state=T.SGML_DECL,C.sgmlDecl="";else if(!v(q))if(O(m,q))C.state=T.OPEN_TAG,C.tagName=q;else if(q==="/")C.state=T.CLOSE_TAG,C.tagName="";else if(q==="?")C.state=T.PROC_INST,C.procInstName=C.procInstBody="";else{if(U(C,"Unencoded <"),C.startTagPosition+1<C.position){var ce=C.position-C.startTagPosition;q=new Array(ce).join(" ")+q}C.textNode+="<"+q,C.state=T.TEXT}continue;case T.SGML_DECL:(C.sgmlDecl+q).toUpperCase()===f?(M(C,"onopencdata"),C.state=T.CDATA,C.sgmlDecl="",C.cdata=""):C.sgmlDecl+q==="--"?(C.state=T.COMMENT,C.comment="",C.sgmlDecl=""):(C.sgmlDecl+q).toUpperCase()===h?(C.state=T.DOCTYPE,(C.doctype||C.sawRoot)&&U(C,"Inappropriately located doctype declaration"),C.doctype="",C.sgmlDecl=""):q===">"?(M(C,"onsgmldeclaration",C.sgmlDecl),C.sgmlDecl="",C.state=T.TEXT):(y(q)&&(C.state=T.SGML_DECL_QUOTED),C.sgmlDecl+=q);continue;case T.SGML_DECL_QUOTED:q===C.q&&(C.state=T.SGML_DECL,C.q=""),C.sgmlDecl+=q;continue;case T.DOCTYPE:q===">"?(C.state=T.TEXT,M(C,"ondoctype",C.doctype),C.doctype=!0):(C.doctype+=q,q==="["?C.state=T.DOCTYPE_DTD:y(q)&&(C.state=T.DOCTYPE_QUOTED,C.q=q));continue;case T.DOCTYPE_QUOTED:C.doctype+=q,q===C.q&&(C.q="",C.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:C.doctype+=q,q==="]"?C.state=T.DOCTYPE:y(q)&&(C.state=T.DOCTYPE_DTD_QUOTED,C.q=q);continue;case T.DOCTYPE_DTD_QUOTED:C.doctype+=q,q===C.q&&(C.state=T.DOCTYPE_DTD,C.q="");continue;case T.COMMENT:q==="-"?C.state=T.COMMENT_ENDING:C.comment+=q;continue;case T.COMMENT_ENDING:q==="-"?(C.state=T.COMMENT_ENDED,C.comment=G(C.opt,C.comment),C.comment&&M(C,"oncomment",C.comment),C.comment=""):(C.comment+="-"+q,C.state=T.COMMENT);continue;case T.COMMENT_ENDED:q!==">"?(U(C,"Malformed comment"),C.comment+="--"+q,C.state=T.COMMENT):C.state=T.TEXT;continue;case T.CDATA:q==="]"?C.state=T.CDATA_ENDING:C.cdata+=q;continue;case T.CDATA_ENDING:q==="]"?C.state=T.CDATA_ENDING_2:(C.cdata+="]"+q,C.state=T.CDATA);continue;case T.CDATA_ENDING_2:q===">"?(C.cdata&&M(C,"oncdata",C.cdata),M(C,"onclosecdata"),C.cdata="",C.state=T.TEXT):q==="]"?C.cdata+="]":(C.cdata+="]]"+q,C.state=T.CDATA);continue;case T.PROC_INST:q==="?"?C.state=T.PROC_INST_ENDING:v(q)?C.state=T.PROC_INST_BODY:C.procInstName+=q;continue;case T.PROC_INST_BODY:if(!C.procInstBody&&v(q))continue;q==="?"?C.state=T.PROC_INST_ENDING:C.procInstBody+=q;continue;case T.PROC_INST_ENDING:q===">"?(M(C,"onprocessinginstruction",{name:C.procInstName,body:C.procInstBody}),C.procInstName=C.procInstBody="",C.state=T.TEXT):(C.procInstBody+="?"+q,C.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:O(E,q)?C.tagName+=q:(Y(C),q===">"?V(C):q==="/"?C.state=T.OPEN_TAG_SLASH:(v(q)||U(C,"Invalid character in tag name"),C.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:q===">"?(V(C,!0),K(C)):(U(C,"Forward-slash in opening tag not followed by >"),C.state=T.ATTRIB);continue;case T.ATTRIB:if(v(q))continue;q===">"?V(C):q==="/"?C.state=T.OPEN_TAG_SLASH:O(m,q)?(C.attribName=q,C.attribValue="",C.state=T.ATTRIB_NAME):U(C,"Invalid attribute name");continue;case T.ATTRIB_NAME:q==="="?C.state=T.ATTRIB_VALUE:q===">"?(U(C,"Attribute without value"),C.attribValue=C.attribName,I(C),V(C)):v(q)?C.state=T.ATTRIB_NAME_SAW_WHITE:O(E,q)?C.attribName+=q:U(C,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(q==="=")C.state=T.ATTRIB_VALUE;else{if(v(q))continue;U(C,"Attribute without value"),C.tag.attributes[C.attribName]="",C.attribValue="",M(C,"onattribute",{name:C.attribName,value:""}),C.attribName="",q===">"?V(C):O(m,q)?(C.attribName=q,C.state=T.ATTRIB_NAME):(U(C,"Invalid attribute name"),C.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(v(q))continue;y(q)?(C.q=q,C.state=T.ATTRIB_VALUE_QUOTED):(U(C,"Unquoted attribute value"),C.state=T.ATTRIB_VALUE_UNQUOTED,C.attribValue=q);continue;case T.ATTRIB_VALUE_QUOTED:if(q!==C.q){q==="&"?C.state=T.ATTRIB_VALUE_ENTITY_Q:C.attribValue+=q;continue}I(C),C.q="",C.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:v(q)?C.state=T.ATTRIB:q===">"?V(C):q==="/"?C.state=T.OPEN_TAG_SLASH:O(m,q)?(U(C,"No whitespace between attributes"),C.attribName=q,C.attribValue="",C.state=T.ATTRIB_NAME):U(C,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!w(q)){q==="&"?C.state=T.ATTRIB_VALUE_ENTITY_U:C.attribValue+=q;continue}I(C),q===">"?V(C):C.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(C.tagName)q===">"?K(C):O(E,q)?C.tagName+=q:C.script?(C.script+="</"+C.tagName,C.tagName="",C.state=T.SCRIPT):(v(q)||U(C,"Invalid tagname in closing tag"),C.state=T.CLOSE_TAG_SAW_WHITE);else{if(v(q))continue;P(m,q)?C.script?(C.script+="</"+q,C.state=T.SCRIPT):U(C,"Invalid tagname in closing tag."):C.tagName=q}continue;case T.CLOSE_TAG_SAW_WHITE:if(v(q))continue;q===">"?K(C):U(C,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var ve,Se;switch(C.state){case T.TEXT_ENTITY:ve=T.TEXT,Se="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:ve=T.ATTRIB_VALUE_QUOTED,Se="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:ve=T.ATTRIB_VALUE_UNQUOTED,Se="attribValue";break}if(q===";")if(C.opt.unparsedEntities){var De=J(C);C.entity="",C.state=ve,C.write(De)}else C[Se]+=J(C),C.entity="",C.state=ve;else O(C.entity.length?b:_,q)?C.entity+=q:(U(C,"Invalid character in entity name"),C[Se]+="&"+C.entity+q,C.entity="",C.state=ve);continue;default:throw new Error(C,"Unknown state: "+C.state)}return C.position>=C.bufferCheckPosition&&n(C),C}String.fromCodePoint||function(){var k=String.fromCharCode,C=Math.floor,H=function(){var q=16384,se=[],ce,ve,Se=-1,De=arguments.length;if(!De)return"";for(var it="";++Se<De;){var Te=Number(arguments[Se]);if(!isFinite(Te)||Te<0||Te>1114111||C(Te)!==Te)throw RangeError("Invalid code point: "+Te);Te<=65535?se.push(Te):(Te-=65536,ce=(Te>>10)+55296,ve=Te%1024+56320,se.push(ce,ve)),(Se+1===De||se.length>q)&&(it+=k.apply(null,se),se.length=0)}return it};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H}()})(typeof ui=="undefined"?ui.sax={}:ui)});var jc=X(Da=>{(function(){"use strict";Da.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}).call(Da)});var Na=X(tr=>{(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),tr.normalize=function(t){return t.toLowerCase()},tr.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},tr.stripPrefix=function(t){return t.replace(e,"")},tr.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},tr.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}).call(tr)});var Mc=X(St=>{(function(){"use strict";var e,t,r,n,i,o,a,s,u,c=function(d,p){return function(){return d.apply(p,arguments)}},f=function(d,p){for(var g in p)h.call(p,g)&&(d[g]=p[g]);function m(){this.constructor=d}return m.prototype=p.prototype,d.prototype=new m,d.__super__=p.prototype,d},h={}.hasOwnProperty;s=Ic(),n=require("events"),e=jc(),a=Na(),u=require("timers").setImmediate,t=zn().defaults,i=function(d){return typeof d=="object"&&d!=null&&Object.keys(d).length===0},o=function(d,p,g){var m,E,_;for(m=0,E=d.length;m<E;m++)_=d[m],p=_(p,g);return p},r=function(d,p,g){var m;return m=Object.create(null),m.value=g,m.writable=!0,m.enumerable=!0,m.configurable=!0,Object.defineProperty(d,p,m)},St.Parser=function(d){f(p,d);function p(g){this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var m,E,_;if(!(this instanceof St.Parser))return new St.Parser(g);this.options={},E=t["0.2"];for(m in E)!h.call(E,m)||(_=E[m],this.options[m]=_);for(m in g)!h.call(g,m)||(_=g[m],this.options[m]=_);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return p.prototype.processAsync=function(){var g,m;try{return this.remaining.length<=this.options.chunkSize?(g=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(g),this.saxParser.close()):(g=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(g),u(this.processAsync))}catch(E){if(m=E,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(m)}},p.prototype.assignOrPush=function(g,m,E){return m in g?(g[m]instanceof Array||r(g,m,[g[m]]),g[m].push(E)):this.options.explicitArray?r(g,m,[E]):r(g,m,E)},p.prototype.reset=function(){var g,m,E,_;return this.removeAllListeners(),this.saxParser=s.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(b){return function(v){if(b.saxParser.resume(),!b.saxParser.errThrown)return b.saxParser.errThrown=!0,b.emit("error",v)}}(this),this.saxParser.onend=function(b){return function(){if(!b.saxParser.ended)return b.saxParser.ended=!0,b.emit("end",b.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,_=[],g=this.options.attrkey,m=this.options.charkey,this.saxParser.onopentag=function(b){return function(v){var y,w,O,P,T;if(O={},O[m]="",!b.options.ignoreAttrs){T=v.attributes;for(y in T)!h.call(T,y)||(!(g in O)&&!b.options.mergeAttrs&&(O[g]={}),w=b.options.attrValueProcessors?o(b.options.attrValueProcessors,v.attributes[y],y):v.attributes[y],P=b.options.attrNameProcessors?o(b.options.attrNameProcessors,y):y,b.options.mergeAttrs?b.assignOrPush(O,P,w):r(O[g],P,w))}return O["#name"]=b.options.tagNameProcessors?o(b.options.tagNameProcessors,v.name):v.name,b.options.xmlns&&(O[b.options.xmlnskey]={uri:v.uri,local:v.local}),_.push(O)}}(this),this.saxParser.onclosetag=function(b){return function(){var v,y,w,O,P,T,L,A,M,B;if(T=_.pop(),P=T["#name"],(!b.options.explicitChildren||!b.options.preserveChildrenOrder)&&delete T["#name"],T.cdata===!0&&(v=T.cdata,delete T.cdata),M=_[_.length-1],T[m].match(/^\s*$/)&&!v?(y=T[m],delete T[m]):(b.options.trim&&(T[m]=T[m].trim()),b.options.normalize&&(T[m]=T[m].replace(/\s{2,}/g," ").trim()),T[m]=b.options.valueProcessors?o(b.options.valueProcessors,T[m],P):T[m],Object.keys(T).length===1&&m in T&&!b.EXPLICIT_CHARKEY&&(T=T[m])),i(T)&&(typeof b.options.emptyTag=="function"?T=b.options.emptyTag():T=b.options.emptyTag!==""?b.options.emptyTag:y),b.options.validator!=null&&(B="/"+function(){var G,te,R;for(R=[],G=0,te=_.length;G<te;G++)O=_[G],R.push(O["#name"]);return R}().concat(P).join("/"),function(){var G;try{return T=b.options.validator(B,M&&M[P],T)}catch(te){return G=te,b.emit("error",G)}}()),b.options.explicitChildren&&!b.options.mergeAttrs&&typeof T=="object"){if(!b.options.preserveChildrenOrder)O={},b.options.attrkey in T&&(O[b.options.attrkey]=T[b.options.attrkey],delete T[b.options.attrkey]),!b.options.charsAsChildren&&b.options.charkey in T&&(O[b.options.charkey]=T[b.options.charkey],delete T[b.options.charkey]),Object.getOwnPropertyNames(T).length>0&&(O[b.options.childkey]=T),T=O;else if(M){M[b.options.childkey]=M[b.options.childkey]||[],L={};for(w in T)!h.call(T,w)||r(L,w,T[w]);M[b.options.childkey].push(L),delete T["#name"],Object.keys(T).length===1&&m in T&&!b.EXPLICIT_CHARKEY&&(T=T[m])}}return _.length>0?b.assignOrPush(M,P,T):(b.options.explicitRoot&&(A=T,T={},r(T,P,A)),b.resultObject=T,b.saxParser.ended=!0,b.emit("end",b.resultObject))}}(this),E=function(b){return function(v){var y,w;if(w=_[_.length-1],w)return w[m]+=v,b.options.explicitChildren&&b.options.preserveChildrenOrder&&b.options.charsAsChildren&&(b.options.includeWhiteChars||v.replace(/\\n/g,"").trim()!=="")&&(w[b.options.childkey]=w[b.options.childkey]||[],y={"#name":"__text__"},y[m]=v,b.options.normalize&&(y[m]=y[m].replace(/\s{2,}/g," ").trim()),w[b.options.childkey].push(y)),w}}(this),this.saxParser.ontext=E,this.saxParser.oncdata=function(b){return function(v){var y;if(y=E(v),y)return y.cdata=!0}}(this)},p.prototype.parseString=function(g,m){var E;m!=null&&typeof m=="function"&&(this.on("end",function(_){return this.reset(),m(null,_)}),this.on("error",function(_){return this.reset(),m(_)}));try{return g=g.toString(),g.trim()===""?(this.emit("end",null),!0):(g=e.stripBOM(g),this.options.async?(this.remaining=g,u(this.processAsync),this.saxParser):this.saxParser.write(g).close())}catch(_){if(E=_,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw E}else return this.emit("error",E),this.saxParser.errThrown=!0}},p.prototype.parseStringPromise=function(g){return new Promise(function(m){return function(E,_){return m.parseString(g,function(b,v){return b?_(b):E(v)})}}(this))},p}(n),St.parseString=function(d,p,g){var m,E,_;return g!=null?(typeof g=="function"&&(m=g),typeof p=="object"&&(E=p)):(typeof p=="function"&&(m=p),E={}),_=new St.Parser(E),_.parseString(d,m)},St.parseStringPromise=function(d,p){var g,m;return typeof p=="object"&&(g=p),m=new St.Parser(g),m.parseStringPromise(d)}}).call(St)});var Fc=X(Tt=>{(function(){"use strict";var e,t,r,n,i=function(a,s){for(var u in s)o.call(s,u)&&(a[u]=s[u]);function c(){this.constructor=a}return c.prototype=s.prototype,a.prototype=new c,a.__super__=s.prototype,a},o={}.hasOwnProperty;t=zn(),e=Lc(),r=Mc(),n=Na(),Tt.defaults=t.defaults,Tt.processors=n,Tt.ValidationError=function(a){i(s,a);function s(u){this.message=u}return s}(Error),Tt.Builder=e.Builder,Tt.Parser=r.Parser,Tt.parseString=r.parseString,Tt.parseStringPromise=r.parseStringPromise}).call(Tt)});var qc=X((C1,Rc)=>{"use strict";var ka=require("events").listenerCount;ka=ka||function(e,t){var r=e&&e._events&&e._events[t];return Array.isArray(r)?r.length:typeof r=="function"?1:0};Rc.exports=ka});var Uc=X((D1,Bc)=>{Bc.exports=function(t){var r=process&&process.version?process.version:"v5.0.0",n=r.split(".")[0].replace("v","");return n<6?new Buffer(t):Buffer.from(t)}});var Xc=X(()=>{"use strict";var Jr=Uc();Buffer.prototype.indexOf||(Buffer.prototype.indexOf=function(e,t){t=t||0,typeof e=="string"||e instanceof String?e=Jr(e):(typeof e=="number"||e instanceof Number)&&(e=Jr([e]));for(var r=e.length,n=t;n<=this.length-r;n++){for(var i=!1,o=0;o<r;o++)if(this[n+o]!=e[o]){i=!0;break}if(!i)return n}return-1});function Wc(e,t){typeof e=="string"||e instanceof String?e=Jr(e):(typeof e=="number"||e instanceof Number)&&(e=Jr([e]));var r=e.length;t=t||this.length-r;for(var n=t;n>=0;n--){for(var i=!1,o=0;o<r;o++)if(this[n+o]!=e[o]){i=!0;break}if(!i)return n}return-1}Buffer.prototype.lastIndexOf?Jr("ABC").lastIndexOf("ABC")===-1&&(Buffer.prototype.lastIndexOf=Wc):Buffer.prototype.lastIndexOf=Wc});var $c=X(Vc=>{(function(e,t){"use strict";if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,a;function s(b){typeof b!="function"&&(b=new Function(""+b));for(var v=new Array(arguments.length-1),y=0;y<v.length;y++)v[y]=arguments[y+1];var w={callback:b,args:v};return n[r]=w,a(r),r++}function u(b){delete n[b]}function c(b){var v=b.callback,y=b.args;switch(y.length){case 0:v();break;case 1:v(y[0]);break;case 2:v(y[0],y[1]);break;case 3:v(y[0],y[1],y[2]);break;default:v.apply(t,y);break}}function f(b){if(i)setTimeout(f,0,b);else{var v=n[b];if(v){i=!0;try{c(v)}finally{u(b),i=!1}}}}function h(){a=function(b){process.nextTick(function(){f(b)})}}function d(){if(e.postMessage&&!e.importScripts){var b=!0,v=e.onmessage;return e.onmessage=function(){b=!1},e.postMessage("","*"),e.onmessage=v,b}}function p(){var b="setImmediate$"+Math.random()+"$",v=function(y){y.source===e&&typeof y.data=="string"&&y.data.indexOf(b)===0&&f(+y.data.slice(b.length))};e.addEventListener?e.addEventListener("message",v,!1):e.attachEvent("onmessage",v),a=function(y){e.postMessage(b+y,"*")}}function g(){var b=new MessageChannel;b.port1.onmessage=function(v){var y=v.data;f(y)},a=function(v){b.port2.postMessage(v)}}function m(){var b=o.documentElement;a=function(v){var y=o.createElement("script");y.onreadystatechange=function(){f(v),y.onreadystatechange=null,b.removeChild(y),y=null},b.appendChild(y)}}function E(){a=function(b){setTimeout(f,0,b)}}var _=Object.getPrototypeOf&&Object.getPrototypeOf(e);_=_&&_.setTimeout?_:e,{}.toString.call(e.process)==="[object process]"?h():d()?p():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?m():E(),_.setImmediate=s,_.clearImmediate=u})(typeof self=="undefined"?typeof global=="undefined"?Vc:global:self)});var Kc=X((P1,Gc)=>{Gc.exports=Ue;function Ue(e){if(!(this instanceof Ue))return new Ue(e);this.value=e}Ue.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!Object.hasOwnProperty.call(t,n)){t=void 0;break}t=t[n]}return t};Ue.prototype.set=function(e,t){for(var r=this.value,n=0;n<e.length-1;n++){var i=e[n];Object.hasOwnProperty.call(r,i)||(r[i]={}),r=r[i]}return r[e[n]]=t,t};Ue.prototype.map=function(e){return Hc(this.value,e,!0)};Ue.prototype.forEach=function(e){return this.value=Hc(this.value,e,!1),this.value};Ue.prototype.reduce=function(e,t){var r=arguments.length===1,n=r?this.value:t;return this.forEach(function(i){(!this.isRoot||!r)&&(n=e.call(this,n,i))}),n};Ue.prototype.deepEqual=function(e){if(arguments.length!==1)throw new Error("deepEqual requires exactly one object to compare against");var t=!0,r=e;return this.forEach(function(n){var i=function(){t=!1}.bind(this);if(!this.isRoot){if(typeof r!="object")return i();r=r[this.key]}var o=r;this.post(function(){r=o});var a=function(h){return Object.prototype.toString.call(h)};if(this.circular)Ue(e).get(this.circular.path)!==o&&i();else if(typeof o!=typeof n)i();else if(o===null||n===null||o===void 0||n===void 0)o!==n&&i();else if(o.__proto__!==n.__proto__)i();else if(o!==n){if(typeof o=="function")o instanceof RegExp?o.toString()!=n.toString()&&i():o!==n&&i();else if(typeof o=="object")if(a(n)==="[object Arguments]"||a(o)==="[object Arguments]")a(o)!==a(n)&&i();else if(o instanceof Date||n instanceof Date)(!(o instanceof Date)||!(n instanceof Date)||o.getTime()!==n.getTime())&&i();else{var s=Object.keys(o),u=Object.keys(n);if(s.length!==u.length)return i();for(var c=0;c<s.length;c++){var f=s[c];Object.hasOwnProperty.call(n,f)||i()}}}}),t};Ue.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e};Ue.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e};Ue.prototype.clone=function(){var e=[],t=[];return function r(n){for(var i=0;i<e.length;i++)if(e[i]===n)return t[i];if(typeof n=="object"&&n!==null){var o=zc(n);return e.push(n),t.push(o),Object.keys(n).forEach(function(a){o[a]=r(n[a])}),e.pop(),t.pop(),o}else return n}(this.value)};function Hc(e,t,r){var n=[],i=[],o=!0;return function a(s){var u=r?zc(s):s,c={},f={node:u,node_:s,path:[].concat(n),parent:i.slice(-1)[0],key:n.slice(-1)[0],isRoot:n.length===0,level:n.length,circular:null,update:function(g){f.isRoot||(f.parent.node[f.key]=g),f.node=g},delete:function(){delete f.parent.node[f.key]},remove:function(){Array.isArray(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key]},before:function(g){c.before=g},after:function(g){c.after=g},pre:function(g){c.pre=g},post:function(g){c.post=g},stop:function(){o=!1}};if(!o)return f;if(typeof u=="object"&&u!==null){f.isLeaf=Object.keys(u).length==0;for(var h=0;h<i.length;h++)if(i[h].node_===s){f.circular=i[h];break}}else f.isLeaf=!0;f.notLeaf=!f.isLeaf,f.notRoot=!f.isRoot;var d=t.call(f,f.node);if(d!==void 0&&f.update&&f.update(d),c.before&&c.before.call(f,f.node),typeof f.node=="object"&&f.node!==null&&!f.circular){i.push(f);var p=Object.keys(f.node);p.forEach(function(g,m){n.push(g),c.pre&&c.pre.call(f,f.node[g],g);var E=a(f.node[g]);r&&Object.hasOwnProperty.call(f.node,g)&&(f.node[g]=E.node),E.isLast=m==p.length-1,E.isFirst=m==0,c.post&&c.post.call(f,E),n.pop()}),i.pop()}return c.after&&c.after.call(f,f.node),f}(e).node}Object.keys(Ue.prototype).forEach(function(e){Ue[e]=function(t){var r=[].slice.call(arguments,1),n=Ue(t);return n[e].apply(n,r)}});function zc(e){if(typeof e=="object"&&e!==null){var t;return Array.isArray(e)?t=[]:e instanceof Date?t=new Date(e):e instanceof Boolean?t=new Boolean(e):e instanceof Number?t=new Number(e):e instanceof String?t=new String(e):t=Object.create(Object.getPrototypeOf(e)),Object.keys(e).forEach(function(r){t[r]=e[r]}),t}else return e}});var Qc=X((L1,Yc)=>{var jv=Kc(),Mv=require("events").EventEmitter;Yc.exports=wr;function wr(e){var t=wr.saw(e,{}),r=e.call(t.handlers,t);return r!==void 0&&(t.handlers=r),t.record(),t.chain()}wr.light=function(t){var r=wr.saw(t,{}),n=t.call(r.handlers,r);return n!==void 0&&(r.handlers=n),r.chain()};wr.saw=function(e,t){var r=new Mv;return r.handlers=t,r.actions=[],r.chain=function(){var n=jv(r.handlers).map(function(i){if(this.isRoot)return i;var o=this.path;typeof i=="function"&&this.update(function(){return r.actions.push({path:o,args:[].slice.call(arguments)}),n})});return process.nextTick(function(){r.emit("begin"),r.next()}),n},r.pop=function(){return r.actions.shift()},r.next=function(){var n=r.pop();if(!n)r.emit("end");else if(!n.trap){var i=r.handlers;n.path.forEach(function(o){i=i[o]}),i.apply(r.handlers,n.args)}},r.nest=function(n){var i=[].slice.call(arguments,1),o=!0;if(typeof n=="boolean"){var o=n;n=i.shift()}var a=wr.saw(e,{}),s=e.call(a.handlers,a);s!==void 0&&(a.handlers=s),typeof r.step!="undefined"&&a.record(),n.apply(a.chain(),i),o!==!1&&a.on("end",r.next)},r.record=function(){Fv(r)},["trap","down","jump"].forEach(function(n){r[n]=function(){throw new Error("To use the trap, down and jump features, please call record() first to start recording actions.")}}),r};function Fv(e){e.step=0,e.pop=function(){return e.actions[e.step++]},e.trap=function(t,r){var n=Array.isArray(t)?t:[t];e.actions.push({path:n,step:e.step,cb:r,trap:!0})},e.down=function(t){var r=(Array.isArray(t)?t:[t]).join("/"),n=e.actions.slice(e.step).map(function(o){return o.trap&&o.step<=e.step?!1:o.path.join("/")==r}).indexOf(!0);n>=0?e.step+=n:e.step=e.actions.length;var i=e.actions[e.step-1];i&&i.trap?(e.step=i.step,i.cb()):e.next()},e.jump=function(t){e.step=t,e.next()}}});var Zc=X((I1,Jc)=>{Jc.exports=$e;function $e(e){if(!(this instanceof $e))return new $e(e);this.buffers=e||[],this.length=this.buffers.reduce(function(t,r){return t+r.length},0)}$e.prototype.push=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to push a non-buffer");for(var e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.push(t),this.length+=t.length}return this.length};$e.prototype.unshift=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to unshift a non-buffer");for(var e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.unshift(t),this.length+=t.length}return this.length};$e.prototype.copy=function(e,t,r,n){return this.slice(r,n).copy(e,t,0,n-r)};$e.prototype.splice=function(e,t){var r=this.buffers,n=e>=0?e:this.length-e,i=[].slice.call(arguments,2);t===void 0?t=this.length-n:t>this.length-n&&(t=this.length-n);for(var e=0;e<i.length;e++)this.length+=i[e].length;for(var o=new $e,a=0,s=0,u=0;u<r.length&&s+r[u].length<n;u++)s+=r[u].length;if(n-s>0){var c=n-s;if(c+t<r[u].length){o.push(r[u].slice(c,c+t));for(var f=r[u],h=new Buffer(c),e=0;e<c;e++)h[e]=f[e];for(var d=new Buffer(f.length-c-t),e=c+t;e<f.length;e++)d[e-t-c]=f[e];if(i.length>0){var p=i.slice();p.unshift(h),p.push(d),r.splice.apply(r,[u,1].concat(p)),u+=p.length,i=[]}else r.splice(u,1,h,d),u+=2}else o.push(r[u].slice(c)),r[u]=r[u].slice(0,c),u++}for(i.length>0&&(r.splice.apply(r,[u,0].concat(i)),u+=i.length);o.length<t;){var g=r[u],m=g.length,E=Math.min(m,t-o.length);E===m?(o.push(g),r.splice(u,1)):(o.push(g.slice(0,E)),r[u]=r[u].slice(E))}return this.length-=o.length,o};$e.prototype.slice=function(e,t){var r=this.buffers;t===void 0&&(t=this.length),e===void 0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=0;i<r.length&&n+r[i].length<=e;i++)n+=r[i].length;for(var o=new Buffer(t-e),a=0,s=i;a<t-e&&s<r.length;s++){var u=r[s].length,c=a===0?e-n:0,f=a+u>=t-e?Math.min(c+(t-e)-a,u):u;r[s].copy(o,a,c,f),a+=f-c}return o};$e.prototype.pos=function(e){if(e<0||e>=this.length)throw new Error("oob");for(var t=e,r=0,n=null;;){if(n=this.buffers[r],t<n.length)return{buf:r,offset:t};t-=n.length,r++}};$e.prototype.get=function(t){var r=this.pos(t);return this.buffers[r.buf].get(r.offset)};$e.prototype.set=function(t,r){var n=this.pos(t);return this.buffers[n.buf].set(n.offset,r)};$e.prototype.indexOf=function(e,t){if(typeof e=="string")e=new Buffer(e);else if(!(e instanceof Buffer))throw new Error("Invalid type for a search string");if(!e.length)return 0;if(!this.length)return-1;var r=0,n=0,i=0,o,a=0;if(t){var s=this.pos(t);r=s.buf,n=s.offset,a=t}for(;;){for(;n>=this.buffers[r].length;)if(n=0,r++,r>=this.buffers.length)return-1;var u=this.buffers[r][n];if(u==e[i]){if(i==0&&(o={i:r,j:n,pos:a}),i++,i==e.length)return o.pos}else i!=0&&(r=o.i,n=o.j,a=o.pos,i=0);n++,a++}};$e.prototype.toBuffer=function(){return this.slice()};$e.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)}});var tf=X((j1,ef)=>{ef.exports=function(e){function t(n,i){var o=r.store,a=n.split(".");a.slice(0,-1).forEach(function(u){o[u]===void 0&&(o[u]={}),o=o[u]});var s=a[a.length-1];return arguments.length==1?o[s]:o[s]=i}var r={get:function(n){return t(n)},set:function(n,i){return t(n,i)},store:e||{}};return r}});var Zr=X((rr,sf)=>{var Rv=Qc(),rf=require("events").EventEmitter,qv=Zc(),li=tf(),Bv=require("stream").Stream;rr=sf.exports=function(e,t){if(Buffer.isBuffer(e))return rr.parse(e);var r=rr.stream();return e&&e.pipe?e.pipe(r):e&&(e.on(t||"data",function(n){r.write(n)}),e.on("end",function(){r.end()})),r};rr.stream=function(e){if(e)return rr.apply(null,arguments);var t=null;function r(h,d,p){t={bytes:h,skip:p,cb:function(g){t=null,d(g)}},i()}var n=null;function i(){if(!t){f&&(c=!0);return}if(typeof t=="function")t();else{var h=n+t.bytes;if(s.length>=h){var d;n==null?(d=s.splice(0,h),t.skip||(d=d.slice())):(t.skip||(d=s.slice(n,h)),n=h),t.skip?t.cb():t.cb(d)}}}function o(h){function d(){c||h.next()}var p=af(function(g,m){return function(E){r(g,function(_){u.set(E,m(_)),d()})}});return p.tap=function(g){h.nest(g,u.store)},p.into=function(g,m){u.get(g)||u.set(g,{});var E=u;u=li(E.get(g)),h.nest(function(){m.apply(this,arguments),this.tap(function(){u=E})},u.store)},p.flush=function(){u.store={},d()},p.loop=function(g){var m=!1;h.nest(!1,function E(){this.vars=u.store,g.call(this,function(){m=!0,d()},u.store),this.tap(function(){m?h.next():E.call(this)}.bind(this))},u.store)},p.buffer=function(g,m){typeof m=="string"&&(m=u.get(m)),r(m,function(E){u.set(g,E),d()})},p.skip=function(g){typeof g=="string"&&(g=u.get(g)),r(g,function(){d()})},p.scan=function(m,E){if(typeof E=="string")E=new Buffer(E);else if(!Buffer.isBuffer(E))throw new Error("search must be a Buffer or a string");var _=0;t=function(){var b=s.indexOf(E,n+_),v=b-n-_;b!==-1?(t=null,n!=null?(u.set(m,s.slice(n,n+_+v)),n+=_+v+E.length):(u.set(m,s.slice(0,_+v)),s.splice(0,_+v+E.length)),d(),i()):v=Math.max(s.length-E.length-n-_,0),_+=v},i()},p.peek=function(g){n=0,h.nest(function(){g.call(this,u.store),this.tap(function(){n=null})})},p}var a=Rv.light(o);a.writable=!0;var s=qv();a.write=function(h){s.push(h),i()};var u=li(),c=!1,f=!1;return a.end=function(){f=!0},a.pipe=Bv.prototype.pipe,Object.getOwnPropertyNames(rf.prototype).forEach(function(h){a[h]=rf.prototype[h]}),a};rr.parse=function(t){var r=af(function(o,a){return function(s){if(n+o<=t.length){var u=t.slice(n,n+o);n+=o,i.set(s,a(u))}else i.set(s,null);return r}}),n=0,i=li();return r.vars=i.store,r.tap=function(o){return o.call(r,i.store),r},r.into=function(o,a){i.get(o)||i.set(o,{});var s=i;return i=li(s.get(o)),a.call(r,i.store),i=s,r},r.loop=function(o){for(var a=!1,s=function(){a=!0};a===!1;)o.call(r,s,i.store);return r},r.buffer=function(o,a){typeof a=="string"&&(a=i.get(a));var s=t.slice(n,Math.min(t.length,n+a));return n+=a,i.set(o,s),r},r.skip=function(o){return typeof o=="string"&&(o=i.get(o)),n+=o,r},r.scan=function(o,a){if(typeof a=="string")a=new Buffer(a);else if(!Buffer.isBuffer(a))throw new Error("search must be a Buffer or a string");i.set(o,null);for(var s=0;s+n<=t.length-a.length+1;s++){for(var u=0;u<a.length&&t[n+s+u]===a[u];u++);if(u===a.length)break}return i.set(o,t.slice(n,n+s)),n+=s+a.length,r},r.peek=function(o){var a=n;return o.call(r,i.store),n=a,r},r.flush=function(){return i.store={},r},r.eof=function(){return n>=t.length},r};function nf(e){for(var t=0,r=0;r<e.length;r++)t+=Math.pow(256,r)*e[r];return t}function of(e){for(var t=0,r=0;r<e.length;r++)t+=Math.pow(256,e.length-r-1)*e[r];return t}function Uv(e){var t=of(e);return(e[0]&128)==128&&(t-=Math.pow(256,e.length)),t}function Wv(e){var t=nf(e);return(e[e.length-1]&128)==128&&(t-=Math.pow(256,e.length)),t}function af(e){var t={};return[1,2,4,8].forEach(function(r){var n=r*8;t["word"+n+"le"]=t["word"+n+"lu"]=e(r,nf),t["word"+n+"ls"]=e(r,Wv),t["word"+n+"be"]=t["word"+n+"bu"]=e(r,of),t["word"+n+"bs"]=e(r,Uv)}),t.word8=t.word8u=t.word8be,t.word8s=t.word8bs,t}});var Bt=X((exports,module)=>{(function(e){if(typeof exports=="object"&&typeof module!="undefined")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"&&(t=self),t.Promise=e()}})(function(){var define,module,exports;return function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){var c=typeof _dereq_=="function"&&_dereq_;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(d){var p=t[s][1][d];return i(p||d)},h,h.exports,e,t,r,n)}return r[s].exports}for(var o=typeof _dereq_=="function"&&_dereq_,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";t.exports=function(n){var i=n._SomePromiseArray;function o(a){var s=new i(a),u=s.promise();return s.setHowMany(1),s.setUnwrap(),s.init(),u}n.any=function(a){return o(a)},n.prototype.any=function(){return o(this)}}},{}],2:[function(e,t,r){"use strict";var n;try{throw new Error}catch(h){n=h}var i=e("./schedule"),o=e("./queue"),a=e("./util");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var h=this;this.drainQueues=function(){h._drainQueues()},this._schedule=i}s.prototype.setScheduler=function(h){var d=this._schedule;return this._schedule=h,this._customScheduler=!0,d},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(h,d){d?(process.stderr.write("Fatal "+(h instanceof Error?h.stack:h)+`
`),process.exit(2)):this.throwLater(h)},s.prototype.throwLater=function(h,d){if(arguments.length===1&&(d=h,h=function(){throw d}),typeof setTimeout!="undefined")setTimeout(function(){h(d)},0);else try{this._schedule(function(){h(d)})}catch(p){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function u(h,d,p){this._lateQueue.push(h,d,p),this._queueTick()}function c(h,d,p){this._normalQueue.push(h,d,p),this._queueTick()}function f(h){this._normalQueue._pushOne(h),this._queueTick()}a.hasDevTools?(s.prototype.invokeLater=function(h,d,p){this._trampolineEnabled?u.call(this,h,d,p):this._schedule(function(){setTimeout(function(){h.call(d,p)},100)})},s.prototype.invoke=function(h,d,p){this._trampolineEnabled?c.call(this,h,d,p):this._schedule(function(){h.call(d,p)})},s.prototype.settlePromises=function(h){this._trampolineEnabled?f.call(this,h):this._schedule(function(){h._settlePromises()})}):(s.prototype.invokeLater=u,s.prototype.invoke=c,s.prototype.settlePromises=f),s.prototype._drainQueue=function(h){for(;h.length()>0;){var d=h.shift();if(typeof d!="function"){d._settlePromises();continue}var p=h.shift(),g=h.shift();d.call(p,g)}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},t.exports=s,t.exports.firstLineError=n},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,r){"use strict";t.exports=function(n,i,o,a){var s=!1,u=function(d,p){this._reject(p)},c=function(d,p){p.promiseRejectionQueued=!0,p.bindingPromise._then(u,u,null,this,d)},f=function(d,p){(this._bitField&50397184)==0&&this._resolveCallback(p.target)},h=function(d,p){p.promiseRejectionQueued||this._reject(d)};n.prototype.bind=function(d){s||(s=!0,n.prototype._propagateFrom=a.propagateFromFunction(),n.prototype._boundValue=a.boundValueFunction());var p=o(d),g=new n(i);g._propagateFrom(this,1);var m=this._target();if(g._setBoundTo(p),p instanceof n){var E={promiseRejectionQueued:!1,promise:g,target:m,bindingPromise:p};m._then(i,c,void 0,g,E),p._then(f,h,void 0,g,E),g._setOnCancel(p)}else g._resolveCallback(m);return g},n.prototype._setBoundTo=function(d){d!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=d):this._bitField=this._bitField&~2097152},n.prototype._isBound=function(){return(this._bitField&2097152)==2097152},n.bind=function(d,p){return n.resolve(p).bind(d)}}},{}],4:[function(e,t,r){"use strict";var n;typeof Promise!="undefined"&&(n=Promise);function i(){try{Promise===o&&(Promise=n)}catch(a){}return o}var o=e("./promise")();o.noConflict=i,t.exports=o},{"./promise":22}],5:[function(e,t,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}t.exports=function(a){var s=e("./util"),u=s.canEvaluate,c=s.isIdentifier,f,h;if(!1)var d,p,g;function m(v,y){var w;if(v!=null&&(w=v[y]),typeof w!="function"){var O="Object "+s.classString(v)+" has no method '"+s.toString(y)+"'";throw new a.TypeError(O)}return w}function E(v){var y=this.pop(),w=m(v,y);return w.apply(v,this)}a.prototype.call=function(v){var y=[].slice.call(arguments,1);if(!1&&u)var w;return y.push(v),this._then(E,void 0,void 0,y,void 0)};function _(v){return v[this]}function b(v){var y=+this;return y<0&&(y=Math.max(0,y+v.length)),v[y]}a.prototype.get=function(v){var y=typeof v=="number",w;if(y)w=b;else if(u){var O=h(v);w=O!==null?O:_}else w=_;return this._then(w,void 0,void 0,v,void 0)}}},{"./util":36}],6:[function(e,t,r){"use strict";t.exports=function(n,i,o,a){var s=e("./util"),u=s.tryCatch,c=s.errorObj,f=n._async;n.prototype.break=n.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var h=this,d=h;h._isCancellable();){if(!h._cancelBy(d)){d._isFollowing()?d._followee().cancel():d._cancelBranched();break}var p=h._cancellationParent;if(p==null||!p._isCancellable()){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}else h._isFollowing()&&h._followee().cancel(),h._setWillBeCancelled(),d=h,h=p}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(h){return h===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){!this._isCancellable()||(this._setCancelled(),f.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(h,d){if(s.isArray(h))for(var p=0;p<h.length;++p)this._doInvokeOnCancel(h[p],d);else if(h!==void 0)if(typeof h=="function"){if(!d){var g=u(h).call(this._boundValue());g===c&&(this._attachExtraTrace(g.e),f.throwLater(g.e))}}else h._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var h=this._onCancel();this._unsetOnCancel(),f.invoke(this._doInvokeOnCancel,this,h)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){"use strict";t.exports=function(n){var i=e("./util"),o=e("./es5").keys,a=i.tryCatch,s=i.errorObj;function u(c,f,h){return function(d){var p=h._boundValue();e:for(var g=0;g<c.length;++g){var m=c[g];if(m===Error||m!=null&&m.prototype instanceof Error){if(d instanceof m)return a(f).call(p,d)}else if(typeof m=="function"){var E=a(m).call(p,d);if(E===s)return E;if(E)return a(f).call(p,d)}else if(i.isObject(d)){for(var _=o(m),b=0;b<_.length;++b){var v=_[b];if(m[v]!=d[v])continue e}return a(f).call(p,d)}}return n}}return u}},{"./es5":13,"./util":36}],8:[function(e,t,r){"use strict";t.exports=function(n){var i=!1,o=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function a(){this._trace=new a.CapturedTrace(u())}a.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,o.push(this._trace))},a.prototype._popContext=function(){if(this._trace!==void 0){var c=o.pop(),f=c._promiseCreated;return c._promiseCreated=null,f}return null};function s(){if(i)return new a}function u(){var c=o.length-1;if(c>=0)return o[c]}return a.CapturedTrace=null,a.create=s,a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var c=n.prototype._pushContext,f=n.prototype._popContext,h=n._peekContext,d=n.prototype._peekContext,p=n.prototype._promiseCreated;a.deactivateLongStackTraces=function(){n.prototype._pushContext=c,n.prototype._popContext=f,n._peekContext=h,n.prototype._peekContext=d,n.prototype._promiseCreated=p,i=!1},i=!0,n.prototype._pushContext=a.prototype._pushContext,n.prototype._popContext=a.prototype._popContext,n._peekContext=n.prototype._peekContext=u,n.prototype._promiseCreated=function(){var g=this._peekContext();g&&g._promiseCreated==null&&(g._promiseCreated=this)}},a}},{}],9:[function(e,t,r){"use strict";t.exports=function(n,i){var o=n._getDomain,a=n._async,s=e("./errors").Warning,u=e("./util"),c=u.canAttachTrace,f,h,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,E=null,_=!1,b,v=u.env("BLUEBIRD_DEBUG")!=0,y=!!(u.env("BLUEBIRD_WARNINGS")!=0&&(v||u.env("BLUEBIRD_WARNINGS"))),w=!!(u.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||u.env("BLUEBIRD_LONG_STACK_TRACES"))),O=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(y||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var x=this._target();x._bitField=x._bitField&~1048576|524288},n.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)==0&&(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){it("rejectionHandled",f,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!=0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var x=this._settledValue();this._setUnhandledRejectionIsNotified(),it("unhandledRejection",h,x,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(x,N,F){return C(x,N,F||this)},n.onPossiblyUnhandledRejection=function(x){var N=o();h=typeof x=="function"?N===null?x:u.domainBind(N,x):void 0},n.onUnhandledRejectionHandled=function(x){var N=o();f=typeof x=="function"?N===null?x:u.domainBind(N,x):void 0};var P=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!D.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!D.longStackTraces&&ot()){var x=n.prototype._captureStackTrace,N=n.prototype._attachExtraTrace;D.longStackTraces=!0,P=function(){if(a.haveItemsQueued()&&!D.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=x,n.prototype._attachExtraTrace=N,i.deactivateLongStackTraces(),a.enableTrampoline(),D.longStackTraces=!1},n.prototype._captureStackTrace=ee,n.prototype._attachExtraTrace=re,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return D.longStackTraces&&ot()};var T=function(){try{if(typeof CustomEvent=="function"){var x=new CustomEvent("CustomEvent");return u.global.dispatchEvent(x),function(N,F){var j=new CustomEvent(N.toLowerCase(),{detail:F,cancelable:!0});return!u.global.dispatchEvent(j)}}else if(typeof Event=="function"){var x=new Event("CustomEvent");return u.global.dispatchEvent(x),function(F,j){var W=new Event(F.toLowerCase(),{cancelable:!0});return W.detail=j,!u.global.dispatchEvent(W)}}else{var x=document.createEvent("CustomEvent");return x.initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(x),function(F,j){var W=document.createEvent("CustomEvent");return W.initCustomEvent(F.toLowerCase(),!1,!0,j),!u.global.dispatchEvent(W)}}}catch(N){}return function(){return!1}}(),L=function(){return u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(x){var N="on"+x.toLowerCase(),F=u.global[N];return F?(F.apply(u.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function A(x,N){return{promise:N}}var M={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(x,N,F){return{promise:N,child:F}},warning:function(x,N){return{warning:N}},unhandledRejection:function(x,N,F){return{reason:N,promise:F}},rejectionHandled:A},B=function(x){var N=!1;try{N=L.apply(null,arguments)}catch(j){a.throwLater(j),N=!0}var F=!1;try{F=T(x,M[x].apply(null,arguments))}catch(j){a.throwLater(j),F=!0}return F||N};n.config=function(x){if(x=Object(x),"longStackTraces"in x&&(x.longStackTraces?n.longStackTraces():!x.longStackTraces&&n.hasLongStackTraces()&&P()),"warnings"in x){var N=x.warnings;D.warnings=!!N,O=D.warnings,u.isObject(N)&&"wForgottenReturn"in N&&(O=!!N.wForgottenReturn)}if("cancellation"in x&&x.cancellation&&!D.cancellation){if(a.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=Q,n.prototype._propagateFrom=I,n.prototype._onCancel=U,n.prototype._setOnCancel=Y,n.prototype._attachCancellationCallback=R,n.prototype._execute=te,K=I,D.cancellation=!0}return"monitoring"in x&&(x.monitoring&&!D.monitoring?(D.monitoring=!0,n.prototype._fireEvent=B):!x.monitoring&&D.monitoring&&(D.monitoring=!1,n.prototype._fireEvent=G)),n};function G(){return!1}n.prototype._fireEvent=G,n.prototype._execute=function(x,N,F){try{x(N,F)}catch(j){return j}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(x){},n.prototype._attachCancellationCallback=function(x){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(x,N){};function te(x,N,F){var j=this;try{x(N,F,function(W){if(typeof W!="function")throw new TypeError("onCancel must be a function, got: "+u.toString(W));j._attachCancellationCallback(W)})}catch(W){return W}}function R(x){if(!this._isCancellable())return this;var N=this._onCancel();N!==void 0?u.isArray(N)?N.push(x):this._setOnCancel([N,x]):this._setOnCancel(x)}function U(){return this._onCancelField}function Y(x){this._onCancelField=x}function Q(){this._cancellationParent=void 0,this._onCancelField=void 0}function I(x,N){if((N&1)!=0){this._cancellationParent=x;var F=x._branchesRemainingToCancel;F===void 0&&(F=0),x._branchesRemainingToCancel=F+1}(N&2)!=0&&x._isBound()&&this._setBoundTo(x._boundTo)}function V(x,N){(N&2)!=0&&x._isBound()&&this._setBoundTo(x._boundTo)}var K=V;function J(){var x=this._boundTo;return x!==void 0&&x instanceof n?x.isFulfilled()?x.value():void 0:x}function ee(){this._trace=new Ve(this._peekContext())}function re(x,N){if(c(x)){var F=this._trace;if(F!==void 0&&N&&(F=F._parent),F!==void 0)F.attachExtraTrace(x);else if(!x.__stackCleaned__){var j=Se(x);u.notEnumerableProp(x,"stack",j.message+`
`+j.stack.join(`
`)),u.notEnumerableProp(x,"__stackCleaned__",!0)}}}function ue(x,N,F,j,W){if(x===void 0&&N!==null&&O){if(W!==void 0&&W._returnedNonUndefined()||(j._bitField&65535)==0)return;F&&(F=F+" ");var $="",z="";if(N._trace){for(var Z=N._trace.stack.split(`
`),ie=ce(Z),ne=ie.length-1;ne>=0;--ne){var le=ie[ne];if(!p.test(le)){var Oe=le.match(g);Oe&&($="at "+Oe[1]+":"+Oe[2]+":"+Oe[3]+" ");break}}if(ie.length>0){for(var Be=ie[0],ne=0;ne<Z.length;++ne)if(Z[ne]===Be){ne>0&&(z=`
`+Z[ne-1]);break}}}var Kr="a promise was created in a "+F+"handler "+$+"but was not returned from it, see http://goo.gl/rRqMUw"+z;j._warn(Kr,!0,N)}}function k(x,N){var F=x+" is deprecated and will be removed in a future version.";return N&&(F+=" Use "+N+" instead."),C(F)}function C(x,N,F){if(!!D.warnings){var j=new s(x),W;if(N)F._attachExtraTrace(j);else if(D.longStackTraces&&(W=n._peekContext()))W.attachExtraTrace(j);else{var $=Se(j);j.stack=$.message+`
`+$.stack.join(`
`)}B("warning",j)||De(j,"",!0)}}function H(x,N){for(var F=0;F<N.length-1;++F)N[F].push("From previous event:"),N[F]=N[F].join(`
`);return F<N.length&&(N[F]=N[F].join(`
`)),x+`
`+N.join(`
`)}function q(x){for(var N=0;N<x.length;++N)(x[N].length===0||N+1<x.length&&x[N][0]===x[N+1][0])&&(x.splice(N,1),N--)}function se(x){for(var N=x[0],F=1;F<x.length;++F){for(var j=x[F],W=N.length-1,$=N[W],z=-1,Z=j.length-1;Z>=0;--Z)if(j[Z]===$){z=Z;break}for(var Z=z;Z>=0;--Z){var ie=j[Z];if(N[W]===ie)N.pop(),W--;else break}N=j}}function ce(x){for(var N=[],F=0;F<x.length;++F){var j=x[F],W=j==="    (No stack trace)"||m.test(j),$=W&&Et(j);W&&!$&&(_&&j.charAt(0)!==" "&&(j="    "+j),N.push(j))}return N}function ve(x){for(var N=x.stack.replace(/\s+$/g,"").split(`
`),F=0;F<N.length;++F){var j=N[F];if(j==="    (No stack trace)"||m.test(j))break}return F>0&&x.name!="SyntaxError"&&(N=N.slice(F)),N}function Se(x){var N=x.stack,F=x.toString();return N=typeof N=="string"&&N.length>0?ve(x):["    (No stack trace)"],{message:F,stack:x.name=="SyntaxError"?N:ce(N)}}function De(x,N,F){if(typeof console!="undefined"){var j;if(u.isObject(x)){var W=x.stack;j=N+E(W,x)}else j=N+String(x);typeof b=="function"?b(j,F):(typeof console.log=="function"||typeof console.log=="object")&&console.log(j)}}function it(x,N,F,j){var W=!1;try{typeof N=="function"&&(W=!0,x==="rejectionHandled"?N(j):N(F,j))}catch($){a.throwLater($)}x==="unhandledRejection"?!B(x,F,j)&&!W&&De(F,"Unhandled rejection "):B(x,j)}function Te(x){var N;if(typeof x=="function")N="[function "+(x.name||"anonymous")+"]";else{N=x&&typeof x.toString=="function"?x.toString():u.toString(x);var F=/\[object [a-zA-Z0-9$_]+\]/;if(F.test(N))try{var j=JSON.stringify(x);N=j}catch(W){}N.length===0&&(N="(empty array)")}return"(<"+Ge(N)+">, no stack trace)"}function Ge(x){var N=41;return x.length<N?x:x.substr(0,N-3)+"..."}function ot(){return typeof S=="function"}var Et=function(){return!1},Mt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Ft(x){var N=x.match(Mt);if(N)return{fileName:N[1],line:parseInt(N[2],10)}}function ae(x,N){if(!!ot()){for(var F=x.stack.split(`
`),j=N.stack.split(`
`),W=-1,$=-1,z,Z,ie=0;ie<F.length;++ie){var ne=Ft(F[ie]);if(ne){z=ne.fileName,W=ne.line;break}}for(var ie=0;ie<j.length;++ie){var ne=Ft(j[ie]);if(ne){Z=ne.fileName,$=ne.line;break}}W<0||$<0||!z||!Z||z!==Z||W>=$||(Et=function(le){if(d.test(le))return!0;var Oe=Ft(le);return!!(Oe&&Oe.fileName===z&&W<=Oe.line&&Oe.line<=$)})}}function Ve(x){this._parent=x,this._promisesCreated=0;var N=this._length=1+(x===void 0?0:x._length);S(this,Ve),N>32&&this.uncycle()}u.inherits(Ve,Error),i.CapturedTrace=Ve,Ve.prototype.uncycle=function(){var x=this._length;if(!(x<2)){for(var N=[],F={},j=0,W=this;W!==void 0;++j)N.push(W),W=W._parent;x=this._length=j;for(var j=x-1;j>=0;--j){var $=N[j].stack;F[$]===void 0&&(F[$]=j)}for(var j=0;j<x;++j){var z=N[j].stack,Z=F[z];if(Z!==void 0&&Z!==j){Z>0&&(N[Z-1]._parent=void 0,N[Z-1]._length=1),N[j]._parent=void 0,N[j]._length=1;var ie=j>0?N[j-1]:this;Z<x-1?(ie._parent=N[Z+1],ie._parent.uncycle(),ie._length=ie._parent._length+1):(ie._parent=void 0,ie._length=1);for(var ne=ie._length+1,le=j-2;le>=0;--le)N[le]._length=ne,ne++;return}}}},Ve.prototype.attachExtraTrace=function(x){if(!x.__stackCleaned__){this.uncycle();for(var N=Se(x),F=N.message,j=[N.stack],W=this;W!==void 0;)j.push(ce(W.stack.split(`
`))),W=W._parent;se(j),q(j),u.notEnumerableProp(x,"stack",H(F,j)),u.notEnumerableProp(x,"__stackCleaned__",!0)}};var S=function(){var N=/^\s*at\s*/,F=function(z,Z){return typeof z=="string"?z:Z.name!==void 0&&Z.message!==void 0?Z.toString():Te(Z)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,m=N,E=F;var j=Error.captureStackTrace;return Et=function(z){return d.test(z)},function(z,Z){Error.stackTraceLimit+=6,j(z,Z),Error.stackTraceLimit-=6}}var W=new Error;if(typeof W.stack=="string"&&W.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return m=/@/,E=F,_=!0,function(Z){Z.stack=new Error().stack};var $;try{throw new Error}catch(z){$="stack"in z}return!("stack"in W)&&$&&typeof Error.stackTraceLimit=="number"?(m=N,E=F,function(Z){Error.stackTraceLimit+=6;try{throw new Error}catch(ie){Z.stack=ie.stack}Error.stackTraceLimit-=6}):(E=function(z,Z){return typeof z=="string"?z:(typeof Z=="object"||typeof Z=="function")&&Z.name!==void 0&&Z.message!==void 0?Z.toString():Te(Z)},null)}([]);typeof console!="undefined"&&typeof console.warn!="undefined"&&(b=function(x){console.warn(x)},u.isNode&&process.stderr.isTTY?b=function(x,N){var F=N?"[33m":"[31m";console.warn(F+x+`[0m
`)}:!u.isNode&&typeof new Error().stack=="string"&&(b=function(x,N){console.warn("%c"+x,N?"color: darkorange":"color: red")}));var D={warnings:y,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&n.longStackTraces(),{longStackTraces:function(){return D.longStackTraces},warnings:function(){return D.warnings},cancellation:function(){return D.cancellation},monitoring:function(){return D.monitoring},propagateFromFunction:function(){return K},boundValueFunction:function(){return J},checkForgottenReturns:ue,setBounds:ae,warn:C,deprecated:k,CapturedTrace:Ve,fireDomEvent:T,fireGlobalEvent:L}}},{"./errors":12,"./util":36}],10:[function(e,t,r){"use strict";t.exports=function(n){function i(){return this.value}function o(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(a){return a instanceof n&&a.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:a},void 0)},n.prototype.throw=n.prototype.thenThrow=function(a){return this._then(o,void 0,void 0,{reason:a},void 0)},n.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,o,void 0,{reason:a},void 0);var s=arguments[1],u=function(){throw s};return this.caught(a,u)},n.prototype.catchReturn=function(a){if(arguments.length<=1)return a instanceof n&&a.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:a},void 0);var s=arguments[1];s instanceof n&&s.suppressUnhandledRejections();var u=function(){return s};return this.caught(a,u)}}},{}],11:[function(e,t,r){"use strict";t.exports=function(n,i){var o=n.reduce,a=n.all;function s(){return a(this)}function u(c,f){return o(c,f,i,i)}n.prototype.each=function(c){return o(this,c,i,0)._then(s,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(c){return o(this,c,i,i)},n.each=function(c,f){return o(c,f,i,0)._then(s,void 0,void 0,c,void 0)},n.mapSeries=u}},{}],12:[function(e,t,r){"use strict";var n=e("./es5"),i=n.freeze,o=e("./util"),a=o.inherits,s=o.notEnumerableProp;function u(y,w){function O(P){if(!(this instanceof O))return new O(P);s(this,"message",typeof P=="string"?P:w),s(this,"name",y),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return a(O,Error),O}var c,f,h=u("Warning","warning"),d=u("CancellationError","cancellation error"),p=u("TimeoutError","timeout error"),g=u("AggregateError","aggregate error");try{c=TypeError,f=RangeError}catch(y){c=u("TypeError","type error"),f=u("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),E=0;E<m.length;++E)typeof Array.prototype[m[E]]=="function"&&(g.prototype[m[E]]=Array.prototype[m[E]]);n.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var _=0;g.prototype.toString=function(){var y=Array(_*4+1).join(" "),w=`
`+y+`AggregateError of:
`;_++,y=Array(_*4+1).join(" ");for(var O=0;O<this.length;++O){for(var P=this[O]===this?"[Circular AggregateError]":this[O]+"",T=P.split(`
`),L=0;L<T.length;++L)T[L]=y+T[L];P=T.join(`
`),w+=P+`
`}return _--,w};function b(y){if(!(this instanceof b))return new b(y);s(this,"name","OperationalError"),s(this,"message",y),this.cause=y,this.isOperational=!0,y instanceof Error?(s(this,"message",y.message),s(this,"stack",y.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}a(b,Error);var v=Error.__BluebirdErrorTypes__;v||(v=i({CancellationError:d,TimeoutError:p,OperationalError:b,RejectionError:b,AggregateError:g}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error,TypeError:c,RangeError:f,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(e,t,r){var n=function(){"use strict";return this===void 0}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(p,g){var m=Object.getOwnPropertyDescriptor(p,g);return!!(!m||m.writable||m.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(p){var g=[];for(var m in p)i.call(p,m)&&g.push(m);return g},u=function(p,g){return{value:p[g]}},c=function(p,g,m){return p[g]=m.value,p},f=function(p){return p},h=function(p){try{return Object(p).constructor.prototype}catch(g){return a}},d=function(p){try{return o.call(p)==="[object Array]"}catch(g){return!1}};t.exports={isArray:d,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:f,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){"use strict";t.exports=function(n,i){var o=n.map;n.prototype.filter=function(a,s){return o(this,a,s,i)},n.filter=function(a,s,u){return o(a,s,u,i)}}},{}],15:[function(e,t,r){"use strict";t.exports=function(n,i){var o=e("./util"),a=n.CancellationError,s=o.errorObj;function u(g,m,E){this.promise=g,this.type=m,this.handler=E,this.called=!1,this.cancelPromise=null}u.prototype.isFinallyHandler=function(){return this.type===0};function c(g){this.finallyHandler=g}c.prototype._resultCancelled=function(){f(this.finallyHandler)};function f(g,m){return g.cancelPromise!=null?(arguments.length>1?g.cancelPromise._reject(m):g.cancelPromise._cancel(),g.cancelPromise=null,!0):!1}function h(){return p.call(this,this.promise._target()._settledValue())}function d(g){if(!f(this,g))return s.e=g,s}function p(g){var m=this.promise,E=this.handler;if(!this.called){this.called=!0;var _=this.isFinallyHandler()?E.call(m._boundValue()):E.call(m._boundValue(),g);if(_!==void 0){m._setReturnedNonUndefined();var b=i(_,m);if(b instanceof n){if(this.cancelPromise!=null)if(b._isCancelled()){var v=new a("late cancellation observer");return m._attachExtraTrace(v),s.e=v,s}else b.isPending()&&b._attachCancellationCallback(new c(this));return b._then(h,d,void 0,this,void 0)}}}return m.isRejected()?(f(this),s.e=g,s):(f(this),g)}return n.prototype._passThrough=function(g,m,E,_){return typeof g!="function"?this.then():this._then(E,_,void 0,new u(this,m,g),void 0)},n.prototype.lastly=n.prototype.finally=function(g){return this._passThrough(g,0,p,p)},n.prototype.tap=function(g){return this._passThrough(g,1,p)},u}},{"./util":36}],16:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s,u){var c=e("./errors"),f=c.TypeError,h=e("./util"),d=h.errorObj,p=h.tryCatch,g=[];function m(_,b,v){for(var y=0;y<b.length;++y){v._pushContext();var w=p(b[y])(_);if(v._popContext(),w===d){v._pushContext();var O=n.reject(d.e);return v._popContext(),O}var P=a(w,v);if(P instanceof n)return P}return null}function E(_,b,v,y){if(u.cancellation()){var w=new n(o),O=this._finallyPromise=new n(o);this._promise=w.lastly(function(){return O}),w._captureStackTrace(),w._setOnCancel(this)}else{var P=this._promise=new n(o);P._captureStackTrace()}this._stack=y,this._generatorFunction=_,this._receiver=b,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(g):g,this._yieldedPromise=null,this._cancellationPhase=!1}h.inherits(E,s),E.prototype._isResolved=function(){return this._promise===null},E.prototype._cleanup=function(){this._promise=this._generator=null,u.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},E.prototype._promiseCancelled=function(){if(!this._isResolved()){var _=typeof this._generator.return!="undefined",b;if(_)this._promise._pushContext(),b=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),b=p(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(b)}},E.prototype._promiseFulfilled=function(_){this._yieldedPromise=null,this._promise._pushContext();var b=p(this._generator.next).call(this._generator,_);this._promise._popContext(),this._continue(b)},E.prototype._promiseRejected=function(_){this._yieldedPromise=null,this._promise._attachExtraTrace(_),this._promise._pushContext();var b=p(this._generator.throw).call(this._generator,_);this._promise._popContext(),this._continue(b)},E.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var _=this._yieldedPromise;this._yieldedPromise=null,_.cancel()}},E.prototype.promise=function(){return this._promise},E.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},E.prototype._continue=function(_){var b=this._promise;if(_===d)return this._cleanup(),this._cancellationPhase?b.cancel():b._rejectCallback(_.e,!1);var v=_.value;if(_.done===!0)return this._cleanup(),this._cancellationPhase?b.cancel():b._resolveCallback(v);var y=a(v,this._promise);if(!(y instanceof n)&&(y=m(y,this._yieldHandlers,this._promise),y===null)){this._promiseRejected(new f(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}y=y._target();var w=y._bitField;(w&50397184)==0?(this._yieldedPromise=y,y._proxy(this,null)):(w&33554432)!=0?n._async.invoke(this._promiseFulfilled,this,y._value()):(w&16777216)!=0?n._async.invoke(this._promiseRejected,this,y._reason()):this._promiseCancelled()},n.coroutine=function(_,b){if(typeof _!="function")throw new f(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(b).yieldHandler,y=E,w=new Error().stack;return function(){var O=_.apply(this,arguments),P=new y(void 0,void 0,v,w),T=P.promise();return P._generator=O,P._promiseFulfilled(void 0),T}},n.coroutine.addYieldHandler=function(_){if(typeof _!="function")throw new f("expecting a function but got "+h.classString(_));g.push(_)},n.spawn=function(_){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),typeof _!="function")return i(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=new E(_,this),v=b.promise();return b._run(n.spawn),v}}},{"./errors":12,"./util":36}],17:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s,u){var c=e("./util"),f=c.canEvaluate,h=c.tryCatch,d=c.errorObj,p;if(!1&&f){var g,m,E,_,b,v;for(var y;y<8;++y);}n.join=function(){var w=arguments.length-1,O;if(w>0&&typeof arguments[w]=="function"&&(O=arguments[w],!1&&w<=8&&f)){var R,P,T,L;for(var A;A<w;++A){var M;if(M instanceof n)var B}if(!R._isFateSealed()&&T.asyncNeeded)var G}var te=[].slice.call(arguments);O&&te.pop();var R=new i(te).promise();return O!==void 0?R.spread(O):R}}},{"./util":36}],18:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s,u){var c=n._getDomain,f=e("./util"),h=f.tryCatch,d=f.errorObj,p=n._async;function g(E,_,b,v){this.constructor$(E),this._promise._captureStackTrace();var y=c();this._callback=y===null?_:f.domainBind(y,_),this._preservedValues=v===s?new Array(this.length()):null,this._limit=b,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}f.inherits(g,i),g.prototype._asyncInit=function(){this._init$(void 0,-2)},g.prototype._init=function(){},g.prototype._promiseFulfilled=function(E,_){var b=this._values,v=this.length(),y=this._preservedValues,w=this._limit;if(_<0){if(_=_*-1-1,b[_]=E,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return b[_]=E,this._queue.push(_),!1;y!==null&&(y[_]=E);var O=this._promise,P=this._callback,T=O._boundValue();O._pushContext();var L=h(P).call(T,E,_,v),A=O._popContext();if(u.checkForgottenReturns(L,A,y!==null?"Promise.filter":"Promise.map",O),L===d)return this._reject(L.e),!0;var M=a(L,this._promise);if(M instanceof n){M=M._target();var B=M._bitField;if((B&50397184)==0)return w>=1&&this._inFlight++,b[_]=M,M._proxy(this,(_+1)*-1),!1;if((B&33554432)!=0)L=M._value();else return(B&16777216)!=0?(this._reject(M._reason()),!0):(this._cancel(),!0)}b[_]=L}var G=++this._totalResolved;return G>=v?(y!==null?this._filter(b,y):this._resolve(b),!0):!1},g.prototype._drainQueue=function(){for(var E=this._queue,_=this._limit,b=this._values;E.length>0&&this._inFlight<_;){if(this._isResolved())return;var v=E.pop();this._promiseFulfilled(b[v],v)}},g.prototype._filter=function(E,_){for(var b=_.length,v=new Array(b),y=0,w=0;w<b;++w)E[w]&&(v[y++]=_[w]);v.length=y,this._resolve(v)},g.prototype.preservedValues=function(){return this._preservedValues};function m(E,_,b,v){if(typeof _!="function")return o("expecting a function but got "+f.classString(_));var y=0;if(b!==void 0)if(typeof b=="object"&&b!==null){if(typeof b.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+f.classString(b.concurrency)));y=b.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+f.classString(b)));return y=typeof y=="number"&&isFinite(y)&&y>=1?y:0,new g(E,_,y,v).promise()}n.prototype.map=function(E,_){return m(this,E,_,null)},n.map=function(E,_,b,v){return m(E,_,b,v)}}},{"./util":36}],19:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s){var u=e("./util"),c=u.tryCatch;n.method=function(f){if(typeof f!="function")throw new n.TypeError("expecting a function but got "+u.classString(f));return function(){var h=new n(i);h._captureStackTrace(),h._pushContext();var d=c(f).apply(this,arguments),p=h._popContext();return s.checkForgottenReturns(d,p,"Promise.method",h),h._resolveFromSyncValue(d),h}},n.attempt=n.try=function(f){if(typeof f!="function")return a("expecting a function but got "+u.classString(f));var h=new n(i);h._captureStackTrace(),h._pushContext();var d;if(arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var p=arguments[1],g=arguments[2];d=u.isArray(p)?c(f).apply(g,p):c(f).call(g,p)}else d=c(f)();var m=h._popContext();return s.checkForgottenReturns(d,m,"Promise.try",h),h._resolveFromSyncValue(d),h},n.prototype._resolveFromSyncValue=function(f){f===u.errorObj?this._rejectCallback(f.e,!1):this._resolveCallback(f,!0)}}},{"./util":36}],20:[function(e,t,r){"use strict";var n=e("./util"),i=n.maybeWrapAsError,o=e("./errors"),a=o.OperationalError,s=e("./es5");function u(d){return d instanceof Error&&s.getPrototypeOf(d)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function f(d){var p;if(u(d)){p=new a(d),p.name=d.name,p.message=d.message,p.stack=d.stack;for(var g=s.keys(d),m=0;m<g.length;++m){var E=g[m];c.test(E)||(p[E]=d[E])}return p}return n.markAsOriginatingFromRejection(d),d}function h(d,p){return function(g,m){if(d!==null){if(g){var E=f(i(g));d._attachExtraTrace(E),d._reject(E)}else if(!p)d._fulfill(m);else{var _=[].slice.call(arguments,1);d._fulfill(_)}d=null}}}t.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){"use strict";t.exports=function(n){var i=e("./util"),o=n._async,a=i.tryCatch,s=i.errorObj;function u(h,d){var p=this;if(!i.isArray(h))return c.call(p,h,d);var g=a(d).apply(p._boundValue(),[null].concat(h));g===s&&o.throwLater(g.e)}function c(h,d){var p=this,g=p._boundValue(),m=h===void 0?a(d).call(g,null):a(d).call(g,null,h);m===s&&o.throwLater(m.e)}function f(h,d){var p=this;if(!h){var g=new Error(h+"");g.cause=h,h=g}var m=a(d).call(p._boundValue(),h);m===s&&o.throwLater(m.e)}n.prototype.asCallback=n.prototype.nodeify=function(h,d){if(typeof h=="function"){var p=c;d!==void 0&&Object(d).spread&&(p=u),this._then(p,f,void 0,this,h)}return this}}},{"./util":36}],22:[function(e,t,r){"use strict";t.exports=function(){var n=function(){return new g(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},i=function(){return new R.PromiseInspection(this._target())},o=function(I){return R.reject(new g(I))};function a(){}var s={},u=e("./util"),c;u.isNode?c=function(){var I=process.domain;return I===void 0&&(I=null),I}:c=function(){return null},u.notEnumerableProp(R,"_getDomain",c);var f=e("./es5"),h=e("./async"),d=new h;f.defineProperty(R,"_async",{value:d});var p=e("./errors"),g=R.TypeError=p.TypeError;R.RangeError=p.RangeError;var m=R.CancellationError=p.CancellationError;R.TimeoutError=p.TimeoutError,R.OperationalError=p.OperationalError,R.RejectionError=p.OperationalError,R.AggregateError=p.AggregateError;var E=function(){},_={},b={},v=e("./thenables")(R,E),y=e("./promise_array")(R,E,v,o,a),w=e("./context")(R),O=w.create,P=e("./debuggability")(R,w),T=P.CapturedTrace,L=e("./finally")(R,v),A=e("./catch_filter")(b),M=e("./nodeback"),B=u.errorObj,G=u.tryCatch;function te(I,V){if(typeof V!="function")throw new g("expecting a function but got "+u.classString(V));if(I.constructor!==R)throw new g(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function R(I){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,I!==E&&(te(this,I),this._resolveFromExecutor(I)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}R.prototype.toString=function(){return"[object Promise]"},R.prototype.caught=R.prototype.catch=function(I){var V=arguments.length;if(V>1){var K=new Array(V-1),J=0,ee;for(ee=0;ee<V-1;++ee){var re=arguments[ee];if(u.isObject(re))K[J++]=re;else return o("expecting an object but got A catch statement predicate "+u.classString(re))}return K.length=J,I=arguments[ee],this.then(void 0,A(K,I,this))}return this.then(void 0,I)},R.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},R.prototype.then=function(I,V){if(P.warnings()&&arguments.length>0&&typeof I!="function"&&typeof V!="function"){var K=".then() only accepts functions but was passed: "+u.classString(I);arguments.length>1&&(K+=", "+u.classString(V)),this._warn(K)}return this._then(I,V,void 0,void 0,void 0)},R.prototype.done=function(I,V){var K=this._then(I,V,void 0,void 0,void 0);K._setIsFinal()},R.prototype.spread=function(I){return typeof I!="function"?o("expecting a function but got "+u.classString(I)):this.all()._then(I,void 0,void 0,_,void 0)},R.prototype.toJSON=function(){var I={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(I.fulfillmentValue=this.value(),I.isFulfilled=!0):this.isRejected()&&(I.rejectionReason=this.reason(),I.isRejected=!0),I},R.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new y(this).promise()},R.prototype.error=function(I){return this.caught(u.originatesFromRejection,I)},R.getNewLibraryCopy=t.exports,R.is=function(I){return I instanceof R},R.fromNode=R.fromCallback=function(I){var V=new R(E);V._captureStackTrace();var K=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,J=G(I)(M(V,K));return J===B&&V._rejectCallback(J.e,!0),V._isFateSealed()||V._setAsyncGuaranteed(),V},R.all=function(I){return new y(I).promise()},R.cast=function(I){var V=v(I);return V instanceof R||(V=new R(E),V._captureStackTrace(),V._setFulfilled(),V._rejectionHandler0=I),V},R.resolve=R.fulfilled=R.cast,R.reject=R.rejected=function(I){var V=new R(E);return V._captureStackTrace(),V._rejectCallback(I,!0),V},R.setScheduler=function(I){if(typeof I!="function")throw new g("expecting a function but got "+u.classString(I));return d.setScheduler(I)},R.prototype._then=function(I,V,K,J,ee){var re=ee!==void 0,ue=re?ee:new R(E),k=this._target(),C=k._bitField;re||(ue._propagateFrom(this,3),ue._captureStackTrace(),J===void 0&&(this._bitField&2097152)!=0&&((C&50397184)!=0?J=this._boundValue():J=k===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ue));var H=c();if((C&50397184)!=0){var q,se,ce=k._settlePromiseCtx;(C&33554432)!=0?(se=k._rejectionHandler0,q=I):(C&16777216)!=0?(se=k._fulfillmentHandler0,q=V,k._unsetRejectionIsUnhandled()):(ce=k._settlePromiseLateCancellationObserver,se=new m("late cancellation observer"),k._attachExtraTrace(se),q=V),d.invoke(ce,k,{handler:H===null?q:typeof q=="function"&&u.domainBind(H,q),promise:ue,receiver:J,value:se})}else k._addCallbacks(I,V,ue,J,H);return ue},R.prototype._length=function(){return this._bitField&65535},R.prototype._isFateSealed=function(){return(this._bitField&117506048)!=0},R.prototype._isFollowing=function(){return(this._bitField&67108864)==67108864},R.prototype._setLength=function(I){this._bitField=this._bitField&-65536|I&65535},R.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},R.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},R.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},R.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},R.prototype._isFinal=function(){return(this._bitField&4194304)>0},R.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536},R.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},R.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},R.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},R.prototype._receiverAt=function(I){var V=I===0?this._receiver0:this[I*4-4+3];if(V!==s)return V===void 0&&this._isBound()?this._boundValue():V},R.prototype._promiseAt=function(I){return this[I*4-4+2]},R.prototype._fulfillmentHandlerAt=function(I){return this[I*4-4+0]},R.prototype._rejectionHandlerAt=function(I){return this[I*4-4+1]},R.prototype._boundValue=function(){},R.prototype._migrateCallback0=function(I){var V=I._bitField,K=I._fulfillmentHandler0,J=I._rejectionHandler0,ee=I._promise0,re=I._receiverAt(0);re===void 0&&(re=s),this._addCallbacks(K,J,ee,re,null)},R.prototype._migrateCallbackAt=function(I,V){var K=I._fulfillmentHandlerAt(V),J=I._rejectionHandlerAt(V),ee=I._promiseAt(V),re=I._receiverAt(V);re===void 0&&(re=s),this._addCallbacks(K,J,ee,re,null)},R.prototype._addCallbacks=function(I,V,K,J,ee){var re=this._length();if(re>=65535-4&&(re=0,this._setLength(0)),re===0)this._promise0=K,this._receiver0=J,typeof I=="function"&&(this._fulfillmentHandler0=ee===null?I:u.domainBind(ee,I)),typeof V=="function"&&(this._rejectionHandler0=ee===null?V:u.domainBind(ee,V));else{var ue=re*4-4;this[ue+2]=K,this[ue+3]=J,typeof I=="function"&&(this[ue+0]=ee===null?I:u.domainBind(ee,I)),typeof V=="function"&&(this[ue+1]=ee===null?V:u.domainBind(ee,V))}return this._setLength(re+1),re},R.prototype._proxy=function(I,V){this._addCallbacks(void 0,void 0,V,I,null)},R.prototype._resolveCallback=function(I,V){if((this._bitField&117506048)==0){if(I===this)return this._rejectCallback(n(),!1);var K=v(I,this);if(!(K instanceof R))return this._fulfill(I);V&&this._propagateFrom(K,2);var J=K._target();if(J===this){this._reject(n());return}var ee=J._bitField;if((ee&50397184)==0){var re=this._length();re>0&&J._migrateCallback0(this);for(var ue=1;ue<re;++ue)J._migrateCallbackAt(this,ue);this._setFollowing(),this._setLength(0),this._setFollowee(J)}else if((ee&33554432)!=0)this._fulfill(J._value());else if((ee&16777216)!=0)this._reject(J._reason());else{var k=new m("late cancellation observer");J._attachExtraTrace(k),this._reject(k)}}},R.prototype._rejectCallback=function(I,V,K){var J=u.ensureErrorObject(I),ee=J===I;if(!ee&&!K&&P.warnings()){var re="a promise was rejected with a non-error: "+u.classString(I);this._warn(re,!0)}this._attachExtraTrace(J,V?ee:!1),this._reject(I)},R.prototype._resolveFromExecutor=function(I){var V=this;this._captureStackTrace(),this._pushContext();var K=!0,J=this._execute(I,function(ee){V._resolveCallback(ee)},function(ee){V._rejectCallback(ee,K)});K=!1,this._popContext(),J!==void 0&&V._rejectCallback(J,!0)},R.prototype._settlePromiseFromHandler=function(I,V,K,J){var ee=J._bitField;if((ee&65536)==0){J._pushContext();var re;V===_?!K||typeof K.length!="number"?(re=B,re.e=new g("cannot .spread() a non-array: "+u.classString(K))):re=G(I).apply(this._boundValue(),K):re=G(I).call(V,K);var ue=J._popContext();ee=J._bitField,(ee&65536)==0&&(re===b?J._reject(K):re===B?J._rejectCallback(re.e,!1):(P.checkForgottenReturns(re,ue,"",J,this),J._resolveCallback(re)))}},R.prototype._target=function(){for(var I=this;I._isFollowing();)I=I._followee();return I},R.prototype._followee=function(){return this._rejectionHandler0},R.prototype._setFollowee=function(I){this._rejectionHandler0=I},R.prototype._settlePromise=function(I,V,K,J){var ee=I instanceof R,re=this._bitField,ue=(re&134217728)!=0;(re&65536)!=0?(ee&&I._invokeInternalOnCancel(),K instanceof L&&K.isFinallyHandler()?(K.cancelPromise=I,G(V).call(K,J)===B&&I._reject(B.e)):V===i?I._fulfill(i.call(K)):K instanceof a?K._promiseCancelled(I):ee||I instanceof y?I._cancel():K.cancel()):typeof V=="function"?ee?(ue&&I._setAsyncGuaranteed(),this._settlePromiseFromHandler(V,K,J,I)):V.call(K,J,I):K instanceof a?K._isResolved()||((re&33554432)!=0?K._promiseFulfilled(J,I):K._promiseRejected(J,I)):ee&&(ue&&I._setAsyncGuaranteed(),(re&33554432)!=0?I._fulfill(J):I._reject(J))},R.prototype._settlePromiseLateCancellationObserver=function(I){var V=I.handler,K=I.promise,J=I.receiver,ee=I.value;typeof V=="function"?K instanceof R?this._settlePromiseFromHandler(V,J,ee,K):V.call(J,ee,K):K instanceof R&&K._reject(ee)},R.prototype._settlePromiseCtx=function(I){this._settlePromise(I.promise,I.handler,I.receiver,I.value)},R.prototype._settlePromise0=function(I,V,K){var J=this._promise0,ee=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(J,I,ee,V)},R.prototype._clearCallbackDataAtIndex=function(I){var V=I*4-4;this[V+2]=this[V+3]=this[V+0]=this[V+1]=void 0},R.prototype._fulfill=function(I){var V=this._bitField;if(!((V&117506048)>>>16)){if(I===this){var K=n();return this._attachExtraTrace(K),this._reject(K)}this._setFulfilled(),this._rejectionHandler0=I,(V&65535)>0&&((V&134217728)!=0?this._settlePromises():d.settlePromises(this))}},R.prototype._reject=function(I){var V=this._bitField;if(!((V&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=I,this._isFinal())return d.fatalError(I,u.isNode);(V&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},R.prototype._fulfillPromises=function(I,V){for(var K=1;K<I;K++){var J=this._fulfillmentHandlerAt(K),ee=this._promiseAt(K),re=this._receiverAt(K);this._clearCallbackDataAtIndex(K),this._settlePromise(ee,J,re,V)}},R.prototype._rejectPromises=function(I,V){for(var K=1;K<I;K++){var J=this._rejectionHandlerAt(K),ee=this._promiseAt(K),re=this._receiverAt(K);this._clearCallbackDataAtIndex(K),this._settlePromise(ee,J,re,V)}},R.prototype._settlePromises=function(){var I=this._bitField,V=I&65535;if(V>0){if((I&16842752)!=0){var K=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,K,I),this._rejectPromises(V,K)}else{var J=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,J,I),this._fulfillPromises(V,J)}this._setLength(0)}this._clearCancellationData()},R.prototype._settledValue=function(){var I=this._bitField;if((I&33554432)!=0)return this._rejectionHandler0;if((I&16777216)!=0)return this._fulfillmentHandler0};function U(I){this.promise._resolveCallback(I)}function Y(I){this.promise._rejectCallback(I,!1)}R.defer=R.pending=function(){P.deprecated("Promise.defer","new Promise");var I=new R(E);return{promise:I,resolve:U,reject:Y}},u.notEnumerableProp(R,"_makeSelfResolutionError",n),e("./method")(R,E,v,o,P),e("./bind")(R,E,v,P),e("./cancel")(R,y,o,P),e("./direct_resolve")(R),e("./synchronous_inspection")(R),e("./join")(R,y,v,E,d,c),R.Promise=R,R.version="3.4.7",e("./map.js")(R,y,o,v,E,P),e("./call_get.js")(R),e("./using.js")(R,o,v,O,E,P),e("./timers.js")(R,E,P),e("./generators.js")(R,o,E,v,a,P),e("./nodeify.js")(R),e("./promisify.js")(R,E),e("./props.js")(R,y,v,o),e("./race.js")(R,E,v,o),e("./reduce.js")(R,y,o,v,E,P),e("./settle.js")(R,y,P),e("./some.js")(R,y,o),e("./filter.js")(R,E),e("./each.js")(R,E),e("./any.js")(R),u.toFastProperties(R),u.toFastProperties(R.prototype);function Q(I){var V=new R(E);V._fulfillmentHandler0=I,V._rejectionHandler0=I,V._promise0=I,V._receiver0=I}return Q({a:1}),Q({b:2}),Q({c:3}),Q(1),Q(function(){}),Q(void 0),Q(!1),Q(new R(E)),P.setBounds(h.firstLineError,u.lastLineError),R}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s){var u=e("./util"),c=u.isArray;function f(d){switch(d){case-2:return[];case-3:return{}}}function h(d){var p=this._promise=new n(i);d instanceof n&&p._propagateFrom(d,3),p._setOnCancel(this),this._values=d,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return u.inherits(h,s),h.prototype.length=function(){return this._length},h.prototype.promise=function(){return this._promise},h.prototype._init=function d(p,g){var m=o(this._values,this._promise);if(m instanceof n){m=m._target();var E=m._bitField;if(this._values=m,(E&50397184)==0)return this._promise._setAsyncGuaranteed(),m._then(d,this._reject,void 0,this,g);if((E&33554432)!=0)m=m._value();else return(E&16777216)!=0?this._reject(m._reason()):this._cancel()}if(m=u.asArray(m),m===null){var _=a("expecting an array or an iterable object but got "+u.classString(m)).reason();this._promise._rejectCallback(_,!1);return}if(m.length===0){g===-5?this._resolveEmptyArray():this._resolve(f(g));return}this._iterate(m)},h.prototype._iterate=function(d){var p=this.getActualLength(d.length);this._length=p,this._values=this.shouldCopyValues()?new Array(p):this._values;for(var g=this._promise,m=!1,E=null,_=0;_<p;++_){var b=o(d[_],g);b instanceof n?(b=b._target(),E=b._bitField):E=null,m?E!==null&&b.suppressUnhandledRejections():E!==null?(E&50397184)==0?(b._proxy(this,_),this._values[_]=b):(E&33554432)!=0?m=this._promiseFulfilled(b._value(),_):(E&16777216)!=0?m=this._promiseRejected(b._reason(),_):m=this._promiseCancelled(_):m=this._promiseFulfilled(b,_)}m||g._setAsyncGuaranteed()},h.prototype._isResolved=function(){return this._values===null},h.prototype._resolve=function(d){this._values=null,this._promise._fulfill(d)},h.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},h.prototype._reject=function(d){this._values=null,this._promise._rejectCallback(d,!1)},h.prototype._promiseFulfilled=function(d,p){this._values[p]=d;var g=++this._totalResolved;return g>=this._length?(this._resolve(this._values),!0):!1},h.prototype._promiseCancelled=function(){return this._cancel(),!0},h.prototype._promiseRejected=function(d){return this._totalResolved++,this._reject(d),!0},h.prototype._resultCancelled=function(){if(!this._isResolved()){var d=this._values;if(this._cancel(),d instanceof n)d.cancel();else for(var p=0;p<d.length;++p)d[p]instanceof n&&d[p].cancel()}},h.prototype.shouldCopyValues=function(){return!0},h.prototype.getActualLength=function(d){return d},h}},{"./util":36}],24:[function(e,t,r){"use strict";t.exports=function(n,i){var o={},a=e("./util"),s=e("./nodeback"),u=a.withAppended,c=a.maybeWrapAsError,f=a.canEvaluate,h=e("./errors").TypeError,d="Async",p={__isPromisified__:!0},g=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],m=new RegExp("^(?:"+g.join("|")+")$"),E=function(U){return a.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function _(U){return!m.test(U)}function b(U){try{return U.__isPromisified__===!0}catch(Y){return!1}}function v(U,Y,Q){var I=a.getDataPropertyOrDefault(U,Y+Q,p);return I?b(I):!1}function y(U,Y,Q){for(var I=0;I<U.length;I+=2){var V=U[I];if(Q.test(V)){for(var K=V.replace(Q,""),J=0;J<U.length;J+=2)if(U[J]===K)throw new h(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",Y))}}}function w(U,Y,Q,I){for(var V=a.inheritedDataKeys(U),K=[],J=0;J<V.length;++J){var ee=V[J],re=U[ee],ue=I===E?!0:E(ee,re,U);typeof re=="function"&&!b(re)&&!v(U,ee,Y)&&I(ee,re,U,ue)&&K.push(ee,re)}return y(K,Y,Q),K}var O=function(U){return U.replace(/([$])/,"\\$")},P;if(!1)var T,L,A,M;function B(U,Y,Q,I,V,K){var J=function(){return this}(),ee=U;typeof ee=="string"&&(U=I);function re(){var ue=Y;Y===o&&(ue=this);var k=new n(i);k._captureStackTrace();var C=typeof ee=="string"&&this!==J?this[ee]:U,H=s(k,K);try{C.apply(ue,u(arguments,H))}catch(q){k._rejectCallback(c(q),!0,!0)}return k._isFateSealed()||k._setAsyncGuaranteed(),k}return a.notEnumerableProp(re,"__isPromisified__",!0),re}var G=f?P:B;function te(U,Y,Q,I,V){for(var K=new RegExp(O(Y)+"$"),J=w(U,Y,K,Q),ee=0,re=J.length;ee<re;ee+=2){var ue=J[ee],k=J[ee+1],C=ue+Y;if(I===G)U[C]=G(ue,o,ue,k,Y,V);else{var H=I(k,function(){return G(ue,o,ue,k,Y,V)});a.notEnumerableProp(H,"__isPromisified__",!0),U[C]=H}}return a.toFastProperties(U),U}function R(U,Y,Q){return G(U,Y,void 0,U,null,Q)}n.promisify=function(U,Y){if(typeof U!="function")throw new h("expecting a function but got "+a.classString(U));if(b(U))return U;Y=Object(Y);var Q=Y.context===void 0?o:Y.context,I=!!Y.multiArgs,V=R(U,Q,I);return a.copyDescriptors(U,V,_),V},n.promisifyAll=function(U,Y){if(typeof U!="function"&&typeof U!="object")throw new h(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);Y=Object(Y);var Q=!!Y.multiArgs,I=Y.suffix;typeof I!="string"&&(I=d);var V=Y.filter;typeof V!="function"&&(V=E);var K=Y.promisifier;if(typeof K!="function"&&(K=G),!a.isIdentifier(I))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var J=a.inheritedDataKeys(U),ee=0;ee<J.length;++ee){var re=U[J[ee]];J[ee]!=="constructor"&&a.isClass(re)&&(te(re.prototype,I,V,K,Q),te(re,I,V,K,Q))}return te(U,I,V,K,Q)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){"use strict";t.exports=function(n,i,o,a){var s=e("./util"),u=s.isObject,c=e("./es5"),f;typeof Map=="function"&&(f=Map);var h=function(){var m=0,E=0;function _(b,v){this[m]=b,this[m+E]=v,m++}return function(v){E=v.size,m=0;var y=new Array(v.size*2);return v.forEach(_,y),y}}(),d=function(m){for(var E=new f,_=m.length/2|0,b=0;b<_;++b){var v=m[_+b],y=m[b];E.set(v,y)}return E};function p(m){var E=!1,_;if(f!==void 0&&m instanceof f)_=h(m),E=!0;else{var b=c.keys(m),v=b.length;_=new Array(v*2);for(var y=0;y<v;++y){var w=b[y];_[y]=m[w],_[y+v]=w}}this.constructor$(_),this._isMap=E,this._init$(void 0,-3)}s.inherits(p,i),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(m,E){this._values[E]=m;var _=++this._totalResolved;if(_>=this._length){var b;if(this._isMap)b=d(this._values);else{b={};for(var v=this.length(),y=0,w=this.length();y<w;++y)b[this._values[y+v]]=this._values[y]}return this._resolve(b),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(m){return m>>1};function g(m){var E,_=o(m);if(u(_))_ instanceof n?E=_._then(n.props,void 0,void 0,void 0,void 0):E=new p(_).promise();else return a(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return _ instanceof n&&E._propagateFrom(_,2),E}n.prototype.props=function(){return g(this)},n.props=function(m){return g(m)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){"use strict";function n(o,a,s,u,c){for(var f=0;f<c;++f)s[f+u]=o[f+a],o[f+a]=void 0}function i(o){this._capacity=o,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(o){return this._capacity<o},i.prototype._pushOne=function(o){var a=this.length();this._checkCapacity(a+1);var s=this._front+a&this._capacity-1;this[s]=o,this._length=a+1},i.prototype.push=function(o,a,s){var u=this.length()+3;if(this._willBeOverCapacity(u)){this._pushOne(o),this._pushOne(a),this._pushOne(s);return}var c=this._front+u-3;this._checkCapacity(u);var f=this._capacity-1;this[c+0&f]=o,this[c+1&f]=a,this[c+2&f]=s,this._length=u},i.prototype.shift=function(){var o=this._front,a=this[o];return this[o]=void 0,this._front=o+1&this._capacity-1,this._length--,a},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(o){this._capacity<o&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(o){var a=this._capacity;this._capacity=o;var s=this._front,u=this._length,c=s+u&a-1;n(this,0,this,a,c)},t.exports=i},{}],27:[function(e,t,r){"use strict";t.exports=function(n,i,o,a){var s=e("./util"),u=function(f){return f.then(function(h){return c(h,f)})};function c(f,h){var d=o(f);if(d instanceof n)return u(d);if(f=s.asArray(f),f===null)return a("expecting an array or an iterable object but got "+s.classString(f));var p=new n(i);h!==void 0&&p._propagateFrom(h,3);for(var g=p._fulfill,m=p._reject,E=0,_=f.length;E<_;++E){var b=f[E];b===void 0&&!(E in f)||n.cast(b)._then(g,m,void 0,p,null)}return p}n.race=function(f){return c(f,void 0)},n.prototype.race=function(){return c(this,void 0)}}},{"./util":36}],28:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s,u){var c=n._getDomain,f=e("./util"),h=f.tryCatch;function d(_,b,v,y){this.constructor$(_);var w=c();this._fn=w===null?b:f.domainBind(w,b),v!==void 0&&(v=n.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,y===s?this._eachValues=Array(this._length):y===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}f.inherits(d,i),d.prototype._gotAccum=function(_){this._eachValues!==void 0&&this._eachValues!==null&&_!==s&&this._eachValues.push(_)},d.prototype._eachComplete=function(_){return this._eachValues!==null&&this._eachValues.push(_),this._eachValues},d.prototype._init=function(){},d.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},d.prototype.shouldCopyValues=function(){return!1},d.prototype._resolve=function(_){this._promise._resolveCallback(_),this._values=null},d.prototype._resultCancelled=function(_){if(_===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},d.prototype._iterate=function(_){this._values=_;var b,v,y=_.length;if(this._initialValue!==void 0?(b=this._initialValue,v=0):(b=n.resolve(_[0]),v=1),this._currentCancellable=b,!b.isRejected())for(;v<y;++v){var w={accum:null,value:_[v],index:v,length:y,array:this};b=b._then(m,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(b=b._then(this._eachComplete,void 0,void 0,this,void 0)),b._then(p,p,void 0,b,this)},n.prototype.reduce=function(_,b){return g(this,_,b,null)},n.reduce=function(_,b,v,y){return g(_,b,v,y)};function p(_,b){this.isFulfilled()?b._resolve(_):b._reject(_)}function g(_,b,v,y){if(typeof b!="function")return o("expecting a function but got "+f.classString(b));var w=new d(_,b,v,y);return w.promise()}function m(_){this.accum=_,this.array._gotAccum(_);var b=a(this.value,this.array._promise);return b instanceof n?(this.array._currentCancellable=b,b._then(E,void 0,void 0,this,void 0)):E.call(this,b)}function E(_){var b=this.array,v=b._promise,y=h(b._fn);v._pushContext();var w;b._eachValues!==void 0?w=y.call(v._boundValue(),_,this.index,this.length):w=y.call(v._boundValue(),this.accum,_,this.index,this.length),w instanceof n&&(b._currentCancellable=w);var O=v._popContext();return u.checkForgottenReturns(w,O,b._eachValues!==void 0?"Promise.each":"Promise.reduce",v),w}}},{"./util":36}],29:[function(e,t,r){"use strict";var n=e("./util"),i,o=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},a=n.getNativePromise();if(n.isNode&&typeof MutationObserver=="undefined"){var s=global.setImmediate,u=process.nextTick;i=n.isRecentNode?function(f){s.call(global,f)}:function(f){u.call(process,f)}}else if(typeof a=="function"&&typeof a.resolve=="function"){var c=a.resolve();i=function(f){c.then(f)}}else typeof MutationObserver!="undefined"&&!(typeof window!="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))?i=function(){var f=document.createElement("div"),h={attributes:!0},d=!1,p=document.createElement("div"),g=new MutationObserver(function(){f.classList.toggle("foo"),d=!1});g.observe(p,h);var m=function(){d||(d=!0,p.classList.toggle("foo"))};return function(_){var b=new MutationObserver(function(){b.disconnect(),_()});b.observe(f,h),m()}}():typeof setImmediate!="undefined"?i=function(f){setImmediate(f)}:typeof setTimeout!="undefined"?i=function(f){setTimeout(f,0)}:i=o;t.exports=i},{"./util":36}],30:[function(e,t,r){"use strict";t.exports=function(n,i,o){var a=n.PromiseInspection,s=e("./util");function u(c){this.constructor$(c)}s.inherits(u,i),u.prototype._promiseResolved=function(c,f){this._values[c]=f;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseFulfilled=function(c,f){var h=new a;return h._bitField=33554432,h._settledValueField=c,this._promiseResolved(f,h)},u.prototype._promiseRejected=function(c,f){var h=new a;return h._bitField=16777216,h._settledValueField=c,this._promiseResolved(f,h)},n.settle=function(c){return o.deprecated(".settle()",".reflect()"),new u(c).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(e,t,r){"use strict";t.exports=function(n,i,o){var a=e("./util"),s=e("./errors").RangeError,u=e("./errors").AggregateError,c=a.isArray,f={};function h(p){this.constructor$(p),this._howMany=0,this._unwrap=!1,this._initialized=!1}a.inherits(h,i),h.prototype._init=function(){if(!!this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var p=c(this._values);!this._isResolved()&&p&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},h.prototype.init=function(){this._initialized=!0,this._init()},h.prototype.setUnwrap=function(){this._unwrap=!0},h.prototype.howMany=function(){return this._howMany},h.prototype.setHowMany=function(p){this._howMany=p},h.prototype._promiseFulfilled=function(p){return this._addFulfilled(p),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},h.prototype._promiseRejected=function(p){return this._addRejected(p),this._checkOutcome()},h.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(f),this._checkOutcome())},h.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var p=new u,g=this.length();g<this._values.length;++g)this._values[g]!==f&&p.push(this._values[g]);return p.length>0?this._reject(p):this._cancel(),!0}return!1},h.prototype._fulfilled=function(){return this._totalResolved},h.prototype._rejected=function(){return this._values.length-this.length()},h.prototype._addRejected=function(p){this._values.push(p)},h.prototype._addFulfilled=function(p){this._values[this._totalResolved++]=p},h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},h.prototype._getRangeError=function(p){var g="Input array must contain at least "+this._howMany+" items but contains only "+p+" items";return new s(g)},h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function d(p,g){if((g|0)!==g||g<0)return o(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new h(p),E=m.promise();return m.setHowMany(g),m.init(),E}n.some=function(p,g){return d(p,g)},n.prototype.some=function(p){return d(this,p)},n._SomePromiseArray=h}},{"./errors":12,"./util":36}],32:[function(e,t,r){"use strict";t.exports=function(n){function i(h){h!==void 0?(h=h._target(),this._bitField=h._bitField,this._settledValueField=h._isFateSealed()?h._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}i.prototype._settledValue=function(){return this._settledValueField};var o=i.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},a=i.prototype.error=i.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},s=i.prototype.isFulfilled=function(){return(this._bitField&33554432)!=0},u=i.prototype.isRejected=function(){return(this._bitField&16777216)!=0},c=i.prototype.isPending=function(){return(this._bitField&50397184)==0},f=i.prototype.isResolved=function(){return(this._bitField&50331648)!=0};i.prototype.isCancelled=function(){return(this._bitField&8454144)!=0},n.prototype.__isCancelled=function(){return(this._bitField&65536)==65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!=0},n.prototype.isPending=function(){return c.call(this._target())},n.prototype.isRejected=function(){return u.call(this._target())},n.prototype.isFulfilled=function(){return s.call(this._target())},n.prototype.isResolved=function(){return f.call(this._target())},n.prototype.value=function(){return o.call(this._target())},n.prototype.reason=function(){var h=this._target();return h._unsetRejectionIsUnhandled(),a.call(h)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=i}},{}],33:[function(e,t,r){"use strict";t.exports=function(n,i){var o=e("./util"),a=o.errorObj,s=o.isObject;function u(g,m){if(s(g)){if(g instanceof n)return g;var E=f(g);if(E===a){m&&m._pushContext();var _=n.reject(E.e);return m&&m._popContext(),_}else if(typeof E=="function"){if(d(g)){var _=new n(i);return g._then(_._fulfill,_._reject,void 0,_,null),_}return p(g,E,m)}}return g}function c(g){return g.then}function f(g){try{return c(g)}catch(m){return a.e=m,a}}var h={}.hasOwnProperty;function d(g){try{return h.call(g,"_promise0")}catch(m){return!1}}function p(g,m,E){var _=new n(i),b=_;E&&E._pushContext(),_._captureStackTrace(),E&&E._popContext();var v=!0,y=o.tryCatch(m).call(g,w,O);v=!1,_&&y===a&&(_._rejectCallback(y.e,!0,!0),_=null);function w(P){!_||(_._resolveCallback(P),_=null)}function O(P){!_||(_._rejectCallback(P,v,!0),_=null)}return b}return u}},{"./util":36}],34:[function(e,t,r){"use strict";t.exports=function(n,i,o){var a=e("./util"),s=n.TimeoutError;function u(g){this.handle=g}u.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(g){return f(+this).thenReturn(g)},f=n.delay=function(g,m){var E,_;return m!==void 0?(E=n.resolve(m)._then(c,null,null,g,void 0),o.cancellation()&&m instanceof n&&E._setOnCancel(m)):(E=new n(i),_=setTimeout(function(){E._fulfill()},+g),o.cancellation()&&E._setOnCancel(new u(_)),E._captureStackTrace()),E._setAsyncGuaranteed(),E};n.prototype.delay=function(g){return f(g,this)};var h=function(g,m,E){var _;typeof m!="string"?m instanceof Error?_=m:_=new s("operation timed out"):_=new s(m),a.markAsOriginatingFromRejection(_),g._attachExtraTrace(_),g._reject(_),E!=null&&E.cancel()};function d(g){return clearTimeout(this.handle),g}function p(g){throw clearTimeout(this.handle),g}n.prototype.timeout=function(g,m){g=+g;var E,_,b=new u(setTimeout(function(){E.isPending()&&h(E,m,_)},g));return o.cancellation()?(_=this.then(),E=_._then(d,p,void 0,b,void 0),E._setOnCancel(b)):E=this._then(d,p,void 0,b,void 0),E}}},{"./util":36}],35:[function(e,t,r){"use strict";t.exports=function(n,i,o,a,s,u){var c=e("./util"),f=e("./errors").TypeError,h=e("./util").inherits,d=c.errorObj,p=c.tryCatch,g={};function m(O){setTimeout(function(){throw O},0)}function E(O){var P=o(O);return P!==O&&typeof O._isDisposable=="function"&&typeof O._getDisposer=="function"&&O._isDisposable()&&P._setDisposable(O._getDisposer()),P}function _(O,P){var T=0,L=O.length,A=new n(s);function M(){if(T>=L)return A._fulfill();var B=E(O[T++]);if(B instanceof n&&B._isDisposable()){try{B=o(B._getDisposer().tryDispose(P),O.promise)}catch(G){return m(G)}if(B instanceof n)return B._then(M,m,null,null,null)}M()}return M(),A}function b(O,P,T){this._data=O,this._promise=P,this._context=T}b.prototype.data=function(){return this._data},b.prototype.promise=function(){return this._promise},b.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},b.prototype.tryDispose=function(O){var P=this.resource(),T=this._context;T!==void 0&&T._pushContext();var L=P!==g?this.doDispose(P,O):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,L},b.isDisposer=function(O){return O!=null&&typeof O.resource=="function"&&typeof O.tryDispose=="function"};function v(O,P,T){this.constructor$(O,P,T)}h(v,b),v.prototype.doDispose=function(O,P){var T=this.data();return T.call(O,O,P)};function y(O){return b.isDisposer(O)?(this.resources[this.index]._setDisposable(O),O.promise()):O}function w(O){this.length=O,this.promise=null,this[O-1]=null}w.prototype._resultCancelled=function(){for(var O=this.length,P=0;P<O;++P){var T=this[P];T instanceof n&&T.cancel()}},n.using=function(){var O=arguments.length;if(O<2)return i("you must pass at least 2 arguments to Promise.using");var P=arguments[O-1];if(typeof P!="function")return i("expecting a function but got "+c.classString(P));var T,L=!0;O===2&&Array.isArray(arguments[0])?(T=arguments[0],O=T.length,L=!1):(T=arguments,O--);for(var A=new w(O),M=0;M<O;++M){var B=T[M];if(b.isDisposer(B)){var G=B;B=B.promise(),B._setDisposable(G)}else{var te=o(B);te instanceof n&&(B=te._then(y,null,null,{resources:A,index:M},void 0))}A[M]=B}for(var R=new Array(A.length),M=0;M<R.length;++M)R[M]=n.resolve(A[M]).reflect();var U=n.all(R).then(function(Q){for(var I=0;I<Q.length;++I){var V=Q[I];if(V.isRejected())return d.e=V.error(),d;if(!V.isFulfilled()){U.cancel();return}Q[I]=V.value()}Y._pushContext(),P=p(P);var K=L?P.apply(void 0,Q):P(Q),J=Y._popContext();return u.checkForgottenReturns(K,J,"Promise.using",Y),K}),Y=U.lastly(function(){var Q=new n.PromiseInspection(U);return _(A,Q)});return A.promise=Y,Y._setOnCancel(A),Y},n.prototype._setDisposable=function(O){this._bitField=this._bitField|131072,this._disposer=O},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072,this._disposer=void 0},n.prototype.disposer=function(O){if(typeof O=="function")return new v(O,this,a());throw new f}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5"),canEvaluate=typeof navigator=="undefined",errorObj={e:{}},tryCatchTarget,globalObject=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:this!==void 0?this:null;function tryCatcher(){try{var e=tryCatchTarget;return tryCatchTarget=null,e.apply(this,arguments)}catch(t){return errorObj.e=t,errorObj}}function tryCatch(e){return tryCatchTarget=e,tryCatcher}var inherits=function(e,t){var r={}.hasOwnProperty;function n(){this.constructor=e,this.constructor$=t;for(var i in t.prototype)r.call(t.prototype,i)&&i.charAt(i.length-1)!=="$"&&(this[i+"$"]=t.prototype[i])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function isPrimitive(e){return e==null||e===!0||e===!1||typeof e=="string"||typeof e=="number"}function isObject(e){return typeof e=="function"||typeof e=="object"&&e!==null}function maybeWrapAsError(e){return isPrimitive(e)?new Error(safeToString(e)):e}function withAppended(e,t){var r=e.length,n=new Array(r+1),i;for(i=0;i<r;++i)n[i]=e[i];return n[i]=t,n}function getDataPropertyOrDefault(e,t,r){if(es5.isES5){var n=Object.getOwnPropertyDescriptor(e,t);if(n!=null)return n.get==null&&n.set==null?n.value:r}else return{}.hasOwnProperty.call(e,t)?e[t]:void 0}function notEnumerableProp(e,t,r){if(isPrimitive(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(e,t,n),e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(i){for(var o=0;o<e.length;++o)if(e[o]===i)return!0;return!1};if(es5.isES5){var r=Object.getOwnPropertyNames;return function(i){for(var o=[],a=Object.create(null);i!=null&&!t(i);){var s;try{s=r(i)}catch(h){return o}for(var u=0;u<s.length;++u){var c=s[u];if(!a[c]){a[c]=!0;var f=Object.getOwnPropertyDescriptor(i,c);f!=null&&f.get==null&&f.set==null&&o.push(c)}}i=es5.getPrototypeOf(i)}return o}}else{var n={}.hasOwnProperty;return function(i){if(t(i))return[];var o=[];e:for(var a in i)if(n.call(i,a))o.push(a);else{for(var s=0;s<e.length;++s)if(n.call(e[s],a))continue e;o.push(a)}return o}}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e=="function"){var t=es5.names(e.prototype),r=es5.isES5&&t.length>1,n=t.length>0&&!(t.length===1&&t[0]==="constructor"),i=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(r||n||i)return!0}return!1}catch(o){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,t,r){for(var n=new Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function safeToString(e){try{return e+""}catch(t){return"[no string representation]"}}function isError(e){return e!==null&&typeof e=="object"&&typeof e.message=="string"&&typeof e.name=="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(t){}}function originatesFromRejection(e){return e==null?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){return"stack"in new Error?function(e){return canAttachTrace(e)?e:new Error(safeToString(e))}:function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(t){return t}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,r){for(var n=es5.names(e),i=0;i<n.length;++i){var o=n[i];if(r(o))try{es5.defineProperty(t,o,es5.getDescriptor(e,o))}catch(a){}}}var asArray=function(e){return es5.isArray(e)?e:null};if(typeof Symbol!="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from=="function"?function(e){return Array.from(e)}:function(e){for(var t=[],r=e[Symbol.iterator](),n;!(n=r.next()).done;)t.push(n.value);return t};asArray=function(e){return es5.isArray(e)?e:e!=null&&typeof e[Symbol.iterator]=="function"?ArrayFrom(e):null}}var isNode=typeof process!="undefined"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process!="undefined"&&typeof process.env!="undefined";function env(e){return hasEnvVariables?process.env[e]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]")return Promise}catch(t){}}function domainBind(e,t){return e.bind(t)}var ret={isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,hasDevTools:typeof chrome!="undefined"&&chrome&&typeof chrome.loadTimes=="function",isNode,hasEnvVariables,env,global:globalObject,getNativePromise,domainBind};ret.isRecentNode=ret.isNode&&function(){var e=process.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)});typeof window!="undefined"&&window!==null?window.P=window.Promise:typeof self!="undefined"&&self!==null&&(self.P=self.Promise)});var Er=X((M1,uf)=>{var _r=require("buffer").Buffer;_r.from===void 0&&(_r.from=function(e,t,r){return new _r(e,t,r)},_r.alloc=_r.from);uf.exports=_r});var Ot=X((F1,Aa)=>{"use strict";typeof process=="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Aa.exports={nextTick:Xv}:Aa.exports=process;function Xv(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,a;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),a=0;a<o.length;)o[a++]=arguments[a];return process.nextTick(function(){e.apply(null,o)})}}});var cf=X((R1,lf)=>{var Vv={}.toString;lf.exports=Array.isArray||function(e){return Vv.call(e)=="[object Array]"}});var Pa=X((q1,ff)=>{ff.exports=require("stream")});var fi=X((La,pf)=>{var ci=require("buffer"),xt=ci.Buffer;function hf(e,t){for(var r in e)t[r]=e[r]}xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?pf.exports=ci:(hf(ci,La),La.Buffer=Sr);function Sr(e,t,r){return xt(e,t,r)}hf(xt,Sr);Sr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return xt(e,t,r)};Sr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=xt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Sr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return xt(e)};Sr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ci.SlowBuffer(e)}});var st=X(We=>{function $v(e){return Array.isArray?Array.isArray(e):hi(e)==="[object Array]"}We.isArray=$v;function Hv(e){return typeof e=="boolean"}We.isBoolean=Hv;function zv(e){return e===null}We.isNull=zv;function Gv(e){return e==null}We.isNullOrUndefined=Gv;function Kv(e){return typeof e=="number"}We.isNumber=Kv;function Yv(e){return typeof e=="string"}We.isString=Yv;function Qv(e){return typeof e=="symbol"}We.isSymbol=Qv;function Jv(e){return e===void 0}We.isUndefined=Jv;function Zv(e){return hi(e)==="[object RegExp]"}We.isRegExp=Zv;function eb(e){return typeof e=="object"&&e!==null}We.isObject=eb;function tb(e){return hi(e)==="[object Date]"}We.isDate=tb;function rb(e){return hi(e)==="[object Error]"||e instanceof Error}We.isError=rb;function nb(e){return typeof e=="function"}We.isFunction=nb;function ib(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}We.isPrimitive=ib;We.isBuffer=require("buffer").Buffer.isBuffer;function hi(e){return Object.prototype.toString.call(e)}});var _e=X((U1,Ia)=>{typeof Object.create=="function"?Ia.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ia.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var gf=X((W1,ja)=>{"use strict";function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var df=fi().Buffer,en=require("util");function ab(e,t,r){e.copy(t,r)}ja.exports=function(){function e(){ob(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return df.alloc(0);for(var n=df.allocUnsafe(r>>>0),i=this.head,o=0;i;)ab(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();en&&en.inspect&&en.inspect.custom&&(ja.exports.prototype[en.inspect.custom]=function(){var e=en.inspect({length:this.length});return this.constructor.name+" "+e})});var Ma=X((X1,yf)=>{"use strict";var pi=Ot();function sb(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pi.nextTick(di,this,e)):pi.nextTick(di,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,pi.nextTick(di,r,o)):pi.nextTick(di,r,o):t&&t(o)}),this)}function ub(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function di(e,t){e.emit("error",t)}yf.exports={destroy:sb,undestroy:ub}});var Ra=X((V1,mf)=>{mf.exports=lb;function lb(e,t){if(Fa("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Fa("throwDeprecation"))throw new Error(t);Fa("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Fa(e){try{if(!global.localStorage)return!1}catch(r){return!1}var t=global.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}});var Ba=X(($1,Of)=>{"use strict";var nr=Ot();Of.exports=Ne;function vf(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Cb(t,e)}}var cb=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:nr.nextTick,Tr;Ne.WritableState=tn;var bf=Object.create(st());bf.inherits=_e();var fb={deprecate:Ra()},wf=Pa(),gi=fi().Buffer,hb=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function pb(e){return gi.from(e)}function db(e){return gi.isBuffer(e)||e instanceof hb}var _f=Ma();bf.inherits(Ne,wf);function gb(){}function tn(e,t){Tr=Tr||ir(),e=e||{};var r=t instanceof Tr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){Eb(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new vf(this)}tn.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(tn.prototype,"buffer",{get:fb.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var yi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yi=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ne,Symbol.hasInstance,{value:function(e){return yi.call(this,e)?!0:this!==Ne?!1:e&&e._writableState instanceof tn}})):yi=function(e){return e instanceof this};function Ne(e){if(Tr=Tr||ir(),!yi.call(Ne,this)&&!(this instanceof Tr))return new Ne(e);this._writableState=new tn(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),wf.call(this)}Ne.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function yb(e,t){var r=new Error("write after end");e.emit("error",r),nr.nextTick(t,r)}function mb(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),nr.nextTick(n,o),i=!1),i}Ne.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&db(e);return o&&!gi.isBuffer(e)&&(e=pb(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=gb),n.ended?yb(this,r):(o||mb(this,n,e,r))&&(n.pendingcb++,i=bb(this,n,o,e,t,r)),i};Ne.prototype.cork=function(){var e=this._writableState;e.corked++};Ne.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Sf(this,e))};Ne.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function vb(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=gi.from(t,r)),t}Object.defineProperty(Ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bb(e,t,r,n,i,o){if(!r){var a=vb(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else qa(e,t,!1,s,n,i,o);return u}function qa(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function wb(e,t,r,n,i){--t.pendingcb,r?(nr.nextTick(i,n),nr.nextTick(rn,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),rn(e,t))}function _b(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Eb(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(_b(r),t)wb(e,r,n,t,i);else{var o=Tf(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Sf(e,r),n?cb(Ef,e,r,o,i):Ef(e,r,o,i)}}function Ef(e,t,r,n){r||Sb(e,t),t.pendingcb--,n(),rn(e,t)}function Sb(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Sf(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,qa(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new vf(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback,h=t.objectMode?1:u.length;if(qa(e,t,!1,h,u,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Ne.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};Ne.prototype._writev=null;Ne.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||xb(this,n,r)};function Tf(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Tb(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),rn(e,t)})}function Ob(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,nr.nextTick(Tb,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function rn(e,t){var r=Tf(t);return r&&(Ob(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function xb(e,t,r){t.ending=!0,rn(e,t),r&&(t.finished?nr.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Cb(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Ne.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ne.prototype.destroy=_f.destroy;Ne.prototype._undestroy=_f.undestroy;Ne.prototype._destroy=function(e,t){this.end(),t(e)}});var ir=X((H1,Nf)=>{"use strict";var xf=Ot(),Db=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Nf.exports=Ct;var Cf=Object.create(st());Cf.inherits=_e();var Df=Xa(),Ua=Ba();Cf.inherits(Ct,Df);for(Wa=Db(Ua.prototype),mi=0;mi<Wa.length;mi++)vi=Wa[mi],Ct.prototype[vi]||(Ct.prototype[vi]=Ua.prototype[vi]);var Wa,vi,mi;function Ct(e){if(!(this instanceof Ct))return new Ct(e);Df.call(this,e),Ua.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Nb)}Object.defineProperty(Ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Nb(){this.allowHalfOpen||this._writableState.ended||xf.nextTick(kb,this)}function kb(e){e.end()}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ct.prototype._destroy=function(e,t){this.push(null),this.end(),xf.nextTick(t,e)}});var Xa=X((G1,Uf)=>{"use strict";var Or=Ot();Uf.exports=be;var Ab=cf(),nn;be.ReadableState=Lf;var z1=require("events").EventEmitter,kf=function(e,t){return e.listeners(t).length},Va=Pa(),on=fi().Buffer,Pb=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function Lb(e){return on.from(e)}function Ib(e){return on.isBuffer(e)||e instanceof Pb}var Af=Object.create(st());Af.inherits=_e();var $a=require("util"),de=void 0;$a&&$a.debuglog?de=$a.debuglog("stream"):de=function(){};var jb=gf(),Pf=Ma(),xr;Af.inherits(be,Va);var Ha=["error","close","destroy","pause","resume"];function Mb(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Ab(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Lf(e,t){nn=nn||ir(),e=e||{};var r=t instanceof nn;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new jb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(xr||(xr=require("string_decoder/").StringDecoder),this.decoder=new xr(e.encoding),this.encoding=e.encoding)}function be(e){if(nn=nn||ir(),!(this instanceof be))return new be(e);this._readableState=new Lf(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Va.call(this)}Object.defineProperty(be.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});be.prototype.destroy=Pf.destroy;be.prototype._undestroy=Pf.undestroy;be.prototype._destroy=function(e,t){this.push(null),t(e)};be.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=on.from(e,t),t=""),n=!0),If(this,e,t,!1,n)};be.prototype.unshift=function(e){return If(this,e,null,!0,!1)};function If(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Bb(e,o);else{var a;i||(a=Fb(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==on.prototype&&(t=Lb(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):za(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?za(e,o,t,!1):Rf(e,o)):za(e,o,t,!1))):n||(o.reading=!1)}return Rb(o)}function za(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&bi(e)),Rf(e,t)}function Fb(e,t){var r;return!Ib(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Rb(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}be.prototype.isPaused=function(){return this._readableState.flowing===!1};be.prototype.setEncoding=function(e){return xr||(xr=require("string_decoder/").StringDecoder),this._readableState.decoder=new xr(e),this._readableState.encoding=e,this};var jf=8388608;function qb(e){return e>=jf?e=jf:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Mf(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=qb(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}be.prototype.read=function(e){de("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return de("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ka(this):bi(this),null;if(e=Mf(e,t),e===0&&t.ended)return t.length===0&&Ka(this),null;var n=t.needReadable;de("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,de("length less than watermark",n)),t.ended||t.reading?(n=!1,de("reading or ended",n)):n&&(de("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Mf(r,t)));var i;return e>0?i=qf(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ka(this)),i!==null&&this.emit("data",i),i};function Bb(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,bi(e)}}function bi(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(de("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Or.nextTick(Ff,e):Ff(e))}function Ff(e){de("emit readable"),e.emit("readable"),Ga(e)}function Rf(e,t){t.readingMore||(t.readingMore=!0,Or.nextTick(Ub,e,t))}function Ub(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(de("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}be.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};be.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,de("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:E;n.endEmitted?Or.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(_,b){de("onunpipe"),_===r&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,f())}function s(){de("onend"),e.end()}var u=Wb(r);e.on("drain",u);var c=!1;function f(){de("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var h=!1;r.on("data",d);function d(_){de("ondata"),h=!1;var b=e.write(_);b===!1&&!h&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Bf(n.pipes,e)!==-1)&&!c&&(de("false write response, pause",n.awaitDrain),n.awaitDrain++,h=!0),r.pause())}function p(_){de("onerror",_),E(),e.removeListener("error",p),kf(e,"error")===0&&e.emit("error",_)}Mb(e,"error",p);function g(){e.removeListener("finish",m),E()}e.once("close",g);function m(){de("onfinish"),e.removeListener("close",g),E()}e.once("finish",m);function E(){de("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(de("pipe resume"),r.resume()),e};function Wb(e){return function(){var t=e._readableState;de("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&kf(e,"data")&&(t.flowing=!0,Ga(e))}}be.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Bf(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};be.prototype.on=function(e,t){var r=Va.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&bi(this):Or.nextTick(Xb,this))}return r};be.prototype.addListener=be.prototype.on;function Xb(e){de("readable nexttick read 0"),e.read(0)}be.prototype.resume=function(){var e=this._readableState;return e.flowing||(de("resume"),e.flowing=!0,Vb(this,e)),this};function Vb(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Or.nextTick($b,e,t))}function $b(e,t){t.reading||(de("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Ga(e),t.flowing&&!t.reading&&e.read(0)}be.prototype.pause=function(){return de("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(de("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ga(e){var t=e._readableState;for(de("flow",t.flowing);t.flowing&&e.read()!==null;);}be.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(de("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(de("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var o=0;o<Ha.length;o++)e.on(Ha[o],this.emit.bind(this,Ha[o]));return this._read=function(a){de("wrapped _read",a),n&&(n=!1,e.resume())},this};Object.defineProperty(be.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});be._fromList=qf;function qf(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Hb(e,t.buffer,t.decoder),r}function Hb(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?zb(e,t):Gb(e,t),n}function zb(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),e-=a,e===0){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function Gb(e,t){var r=on.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,e===0){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function Ka(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Or.nextTick(Kb,t,e))}function Kb(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Bf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ya=X((K1,Vf)=>{"use strict";Vf.exports=Dt;var wi=ir(),Wf=Object.create(st());Wf.inherits=_e();Wf.inherits(Dt,wi);function Yb(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Dt(e){if(!(this instanceof Dt))return new Dt(e);wi.call(this,e),this._transformState={afterTransform:Yb.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Qb)}function Qb(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Xf(e,t,r)}):Xf(this,null,null)}Dt.prototype.push=function(e,t){return this._transformState.needTransform=!1,wi.prototype.push.call(this,e,t)};Dt.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Dt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Dt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Dt.prototype._destroy=function(e,t){var r=this;wi.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Xf(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Gf=X((Y1,zf)=>{"use strict";zf.exports=an;var $f=Ya(),Hf=Object.create(st());Hf.inherits=_e();Hf.inherits(an,$f);function an(e){if(!(this instanceof an))return new an(e);$f.call(this,e)}an.prototype._transform=function(e,t,r){r(null,e)}});var Nt=X((Le,_i)=>{var dt=require("stream");process.env.READABLE_STREAM==="disable"&&dt?(_i.exports=dt,Le=_i.exports=dt.Readable,Le.Readable=dt.Readable,Le.Writable=dt.Writable,Le.Duplex=dt.Duplex,Le.Transform=dt.Transform,Le.PassThrough=dt.PassThrough,Le.Stream=dt):(Le=_i.exports=Xa(),Le.Stream=dt||Le,Le.Readable=Le,Le.Writable=Ba(),Le.Duplex=ir(),Le.Transform=Ya(),Le.PassThrough=Gf())});var Si=X((Q1,Kf)=>{var or=require("stream"),Qa=Bt(),Jb=require("util"),Ei=Er(),Zb="function";(!or.Writable||!or.Writable.prototype.destroy)&&(or=Nt());function Ut(){if(!(this instanceof Ut))return new Ut;or.Duplex.call(this,{decodeStrings:!1,objectMode:!0}),this.buffer=Ei.from("");var e=this;e.on("finish",function(){e.finished=!0,e.emit("chunk",!1)})}Jb.inherits(Ut,or.Duplex);Ut.prototype._write=function(e,t,r){this.buffer=Ei.concat([this.buffer,e]),this.cb=r,this.emit("chunk")};Ut.prototype.stream=function(e,t){var r=or.PassThrough(),n,i=this;function o(){if(typeof i.cb===Zb){var s=i.cb;return i.cb=void 0,s()}}function a(){var s;if(i.buffer&&i.buffer.length){if(typeof e=="number")s=i.buffer.slice(0,e),i.buffer=i.buffer.slice(e),e-=s.length,n=!e;else{var u=i.buffer.indexOf(e);if(u!==-1)i.match=u,t&&(u=u+e.length),s=i.buffer.slice(0,u),i.buffer=i.buffer.slice(u),n=!0;else{var c=i.buffer.length-e.length;c<=0?o():(s=i.buffer.slice(0,c),i.buffer=i.buffer.slice(c))}}s&&r.write(s,function(){(i.buffer.length===0||e.length&&i.buffer.length<=e.length)&&o()})}if(n)i.removeListener("chunk",a),r.end();else if(i.finished&&!this.__ended){i.removeListener("chunk",a),i.emit("error",new Error("FILE_ENDED")),this.__ended=!0;return}}return i.on("chunk",a),a(),r};Ut.prototype.pull=function(e,t){if(e===0)return Qa.resolve("");if(!isNaN(e)&&this.buffer.length>e){var r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),Qa.resolve(r)}var n=Ei.from(""),i=this,o=or.Transform();o._transform=function(u,c,f){n=Ei.concat([n,u]),f()};var a,s;return new Qa(function(u,c){if(a=c,s=function(f){i.__emittedError=f,c(f)},i.finished)return c(new Error("FILE_ENDED"));i.once("error",s),i.stream(e,t).on("error",c).pipe(o).on("finish",function(){u(n)}).on("error",c)}).finally(function(){i.removeListener("error",a),i.removeListener("error",s)})};Ut.prototype._read=function(){};Kf.exports=Ut});var Qf=X((J1,Yf)=>{var sn=require("stream"),ew=require("util");(!sn.Writable||!sn.Writable.prototype.destroy)&&(sn=Nt());function un(){if(!(this instanceof un))return new un;sn.Transform.call(this)}ew.inherits(un,sn.Transform);un.prototype._transform=function(e,t,r){r()};Yf.exports=un});var Oi=X((Z1,Jf)=>{var tw=Bt(),Ti=require("stream"),rw=Er();(!Ti.Writable||!Ti.Writable.prototype.destroy)&&(Ti=Nt());Jf.exports=function(e){return new tw(function(t,r){var n=[],i=Ti.Transform().on("finish",function(){t(rw.concat(n))}).on("error",r);i._transform=function(o,a,s){n.push(o),s()},e.on("error",r).pipe(i)})}});var xi=X((eO,Zf)=>{var nw=Zr();Zf.exports=function(e,t){for(var r;!r&&e&&e.length;){var n=nw.parse(e).word16lu("signature").word16lu("partsize").word64lu("uncompressedSize").word64lu("compressedSize").word64lu("offset").word64lu("disknum").vars;n.signature===1?r=n:e=e.slice(n.partsize+4)}return r=r||{},t.compressedSize===4294967295&&(t.compressedSize=r.compressedSize),t.uncompressedSize===4294967295&&(t.uncompressedSize=r.uncompressedSize),t.offsetToLocalFileHeader===4294967295&&(t.offsetToLocalFileHeader=r.offset),r}});var Ci=X((tO,eh)=>{eh.exports=function(t,r){let n=t&31,i=t>>5&15,o=(t>>9&127)+1980,a=r?(r&31)*2:0,s=r?r>>5&63:0,u=r?r>>11:0;return new Date(Date.UTC(o,i-1,n,u,s,a))}});var Di=X((rO,ih)=>{var iw=require("util"),ow=require("zlib"),ln=require("stream"),cn=Zr(),Ja=Bt(),th=Si(),aw=Qf(),sw=Oi(),uw=xi(),rh=Er(),lw=Ci();(!ln.Writable||!ln.Writable.prototype.destroy)&&(ln=Nt());var nh=rh.alloc(4);nh.writeUInt32LE(101010256,0);function ut(e){if(!(this instanceof ut))return new ut(e);var t=this;t._opts=e||{verbose:!1},th.call(t,t._opts),t.on("finish",function(){t.emit("close")}),t._readRecord().catch(function(r){(!t.__emittedError||t.__emittedError!==r)&&t.emit("error",r)})}iw.inherits(ut,th);ut.prototype._readRecord=function(){var e=this;return e.pull(4).then(function(t){if(t.length!==0){var r=t.readUInt32LE(0);if(r===875721283)return e._readCrxHeader();if(r===67324752)return e._readFile();if(r===33639248)return e.__ended=!0,e._readCentralDirectoryFileHeader();if(r===101010256)return e._readEndOfCentralDirectoryRecord();if(e.__ended)return e.pull(nh).then(function(){return e._readEndOfCentralDirectoryRecord()});e.emit("error",new Error("invalid signature: 0x"+r.toString(16)))}})};ut.prototype._readCrxHeader=function(){var e=this;return e.pull(12).then(function(t){return e.crxHeader=cn.parse(t).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars,e.pull(e.crxHeader.pubKeyLength+e.crxHeader.signatureLength)}).then(function(t){return e.crxHeader.publicKey=t.slice(0,e.crxHeader.pubKeyLength),e.crxHeader.signature=t.slice(e.crxHeader.pubKeyLength),e.emit("crx-header",e.crxHeader),e._readRecord()})};ut.prototype._readFile=function(){var e=this;return e.pull(26).then(function(t){var r=cn.parse(t).word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return r.lastModifiedDateTime=lw(r.lastModifiedDate,r.lastModifiedTime),e.crxHeader&&(r.crxHeader=e.crxHeader),e.pull(r.fileNameLength).then(function(n){var i=n.toString("utf8"),o=ln.PassThrough(),a=!1;return o.autodrain=function(){a=!0;var s=o.pipe(aw());return s.promise=function(){return new Ja(function(u,c){s.on("finish",u),s.on("error",c)})},s},o.buffer=function(){return sw(o)},o.path=i,o.props={},o.props.path=i,o.props.pathBuffer=n,o.props.flags={isUnicode:r.flags&17},o.type=r.uncompressedSize===0&&/[\/\\]$/.test(i)?"Directory":"File",e._opts.verbose&&(o.type==="Directory"?console.log("   creating:",i):o.type==="File"&&(r.compressionMethod===0?console.log(" extracting:",i):console.log("  inflating:",i))),e.pull(r.extraFieldLength).then(function(s){var u=uw(s,r);o.vars=r,o.extra=u,e._opts.forceStream?e.push(o):(e.emit("entry",o),(e._readableState.pipesCount||e._readableState.pipes&&e._readableState.pipes.length)&&e.push(o)),e._opts.verbose&&console.log({filename:i,vars:r,extra:u});var c=!(r.flags&8)||r.compressedSize>0,f;o.__autodraining=a;var h=r.compressionMethod&&!a?ow.createInflateRaw():ln.PassThrough();return c?(o.size=r.uncompressedSize,f=r.compressedSize):(f=rh.alloc(4),f.writeUInt32LE(134695760,0)),new Ja(function(d,p){e.stream(f).pipe(h).on("error",function(g){e.emit("error",g)}).pipe(o).on("finish",function(){return c?e._readRecord().then(d).catch(p):e._processDataDescriptor(o).then(d).catch(p)})})})})})};ut.prototype._processDataDescriptor=function(e){var t=this;return t.pull(16).then(function(r){var n=cn.parse(r).word32lu("dataDescriptorSignature").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").vars;return e.size=n.uncompressedSize,t._readRecord()})};ut.prototype._readCentralDirectoryFileHeader=function(){var e=this;return e.pull(42).then(function(t){var r=cn.parse(t).word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return e.pull(r.fileNameLength).then(function(n){return r.fileName=n.toString("utf8"),e.pull(r.extraFieldLength)}).then(function(n){return e.pull(r.fileCommentLength)}).then(function(n){return e._readRecord()})})};ut.prototype._readEndOfCentralDirectoryRecord=function(){var e=this;return e.pull(18).then(function(t){var r=cn.parse(t).word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars;return e.pull(r.commentLength).then(function(n){n=n.toString("utf8"),e.end(),e.push(null)})})};ut.prototype.promise=function(){var e=this;return new Ja(function(t,r){e.on("finish",t),e.on("error",r)})};ih.exports=ut});var ah=X((nO,oh)=>{var cw={}.toString;oh.exports=Array.isArray||function(e){return cw.call(e)=="[object Array]"}});var Za=X((iO,sh)=>{sh.exports=require("stream")});var ki=X((es,lh)=>{var Ni=require("buffer"),kt=Ni.Buffer;function uh(e,t){for(var r in e)t[r]=e[r]}kt.from&&kt.alloc&&kt.allocUnsafe&&kt.allocUnsafeSlow?lh.exports=Ni:(uh(Ni,es),es.Buffer=Cr);function Cr(e,t,r){return kt(e,t,r)}uh(kt,Cr);Cr.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return kt(e,t,r)};Cr.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=kt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Cr.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return kt(e)};Cr.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ni.SlowBuffer(e)}});var fh=X((oO,ts)=>{"use strict";function fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ch=ki().Buffer,fn=require("util");function hw(e,t,r){e.copy(t,r)}ts.exports=function(){function e(){fw(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return ch.alloc(0);for(var n=ch.allocUnsafe(r>>>0),i=this.head,o=0;i;)hw(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();fn&&fn.inspect&&fn.inspect.custom&&(ts.exports.prototype[fn.inspect.custom]=function(){var e=fn.inspect({length:this.length});return this.constructor.name+" "+e})});var rs=X((aO,hh)=>{"use strict";var Ai=Ot();function pw(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ai.nextTick(Pi,this,e)):Ai.nextTick(Pi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Ai.nextTick(Pi,r,o)):Ai.nextTick(Pi,r,o):t&&t(o)}),this)}function dw(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Pi(e,t){e.emit("error",t)}hh.exports={destroy:pw,undestroy:dw}});var is=X((sO,wh)=>{"use strict";var ar=Ot();wh.exports=ke;function ph(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Pw(t,e)}}var gw=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ar.nextTick,Dr;ke.WritableState=hn;var dh=Object.create(st());dh.inherits=_e();var yw={deprecate:Ra()},gh=Za(),Li=ki().Buffer,mw=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function vw(e){return Li.from(e)}function bw(e){return Li.isBuffer(e)||e instanceof mw}var yh=rs();dh.inherits(ke,gh);function ww(){}function hn(e,t){Dr=Dr||sr(),e=e||{};var r=t instanceof Dr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){Cw(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ph(this)}hn.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(hn.prototype,"buffer",{get:yw.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var Ii;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ii=Function.prototype[Symbol.hasInstance],Object.defineProperty(ke,Symbol.hasInstance,{value:function(e){return Ii.call(this,e)?!0:this!==ke?!1:e&&e._writableState instanceof hn}})):Ii=function(e){return e instanceof this};function ke(e){if(Dr=Dr||sr(),!Ii.call(ke,this)&&!(this instanceof Dr))return new ke(e);this._writableState=new hn(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gh.call(this)}ke.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function _w(e,t){var r=new Error("write after end");e.emit("error",r),ar.nextTick(t,r)}function Ew(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ar.nextTick(n,o),i=!1),i}ke.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&bw(e);return o&&!Li.isBuffer(e)&&(e=vw(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=ww),n.ended?_w(this,r):(o||Ew(this,n,e,r))&&(n.pendingcb++,i=Tw(this,n,o,e,t,r)),i};ke.prototype.cork=function(){var e=this._writableState;e.corked++};ke.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&vh(this,e))};ke.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Sw(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Li.from(t,r)),t}Object.defineProperty(ke.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Tw(e,t,r,n,i,o){if(!r){var a=Sw(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ns(e,t,!1,s,n,i,o);return u}function ns(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Ow(e,t,r,n,i){--t.pendingcb,r?(ar.nextTick(i,n),ar.nextTick(pn,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),pn(e,t))}function xw(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Cw(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(xw(r),t)Ow(e,r,n,t,i);else{var o=bh(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&vh(e,r),n?gw(mh,e,r,o,i):mh(e,r,o,i)}}function mh(e,t,r,n){r||Dw(e,t),t.pendingcb--,n(),pn(e,t)}function Dw(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function vh(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,ns(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new ph(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback,h=t.objectMode?1:u.length;if(ns(e,t,!1,h,u,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}ke.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};ke.prototype._writev=null;ke.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Aw(this,n,r)};function bh(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Nw(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),pn(e,t)})}function kw(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,ar.nextTick(Nw,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function pn(e,t){var r=bh(t);return r&&(kw(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Aw(e,t,r){t.ending=!0,pn(e,t),r&&(t.finished?ar.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Pw(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(ke.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});ke.prototype.destroy=yh.destroy;ke.prototype._undestroy=yh.undestroy;ke.prototype._destroy=function(e,t){this.end(),t(e)}});var sr=X((uO,Th)=>{"use strict";var _h=Ot(),Lw=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Th.exports=At;var Eh=Object.create(st());Eh.inherits=_e();var Sh=ss(),os=is();Eh.inherits(At,Sh);for(as=Lw(os.prototype),ji=0;ji<as.length;ji++)Mi=as[ji],At.prototype[Mi]||(At.prototype[Mi]=os.prototype[Mi]);var as,Mi,ji;function At(e){if(!(this instanceof At))return new At(e);Sh.call(this,e),os.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Iw)}Object.defineProperty(At.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Iw(){this.allowHalfOpen||this._writableState.ended||_h.nextTick(jw,this)}function jw(e){e.end()}Object.defineProperty(At.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});At.prototype._destroy=function(e,t){this.push(null),this.end(),_h.nextTick(t,e)}});var ss=X((cO,Mh)=>{"use strict";var Nr=Ot();Mh.exports=we;var Mw=ah(),dn;we.ReadableState=Dh;var lO=require("events").EventEmitter,Oh=function(e,t){return e.listeners(t).length},us=Za(),gn=ki().Buffer,Fw=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function Rw(e){return gn.from(e)}function qw(e){return gn.isBuffer(e)||e instanceof Fw}var xh=Object.create(st());xh.inherits=_e();var ls=require("util"),ge=void 0;ls&&ls.debuglog?ge=ls.debuglog("stream"):ge=function(){};var Bw=fh(),Ch=rs(),kr;xh.inherits(we,us);var cs=["error","close","destroy","pause","resume"];function Uw(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Mw(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Dh(e,t){dn=dn||sr(),e=e||{};var r=t instanceof dn;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Bw,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(kr||(kr=require("string_decoder/").StringDecoder),this.decoder=new kr(e.encoding),this.encoding=e.encoding)}function we(e){if(dn=dn||sr(),!(this instanceof we))return new we(e);this._readableState=new Dh(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),us.call(this)}Object.defineProperty(we.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});we.prototype.destroy=Ch.destroy;we.prototype._undestroy=Ch.undestroy;we.prototype._destroy=function(e,t){this.push(null),t(e)};we.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=gn.from(e,t),t=""),n=!0),Nh(this,e,t,!1,n)};we.prototype.unshift=function(e){return Nh(this,e,null,!0,!1)};function Nh(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,$w(e,o);else{var a;i||(a=Ww(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==gn.prototype&&(t=Rw(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):fs(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?fs(e,o,t,!1):Lh(e,o)):fs(e,o,t,!1))):n||(o.reading=!1)}return Xw(o)}function fs(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Fi(e)),Lh(e,t)}function Ww(e,t){var r;return!qw(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Xw(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}we.prototype.isPaused=function(){return this._readableState.flowing===!1};we.prototype.setEncoding=function(e){return kr||(kr=require("string_decoder/").StringDecoder),this._readableState.decoder=new kr(e),this._readableState.encoding=e,this};var kh=8388608;function Vw(e){return e>=kh?e=kh:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Ah(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Vw(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}we.prototype.read=function(e){ge("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return ge("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ps(this):Fi(this),null;if(e=Ah(e,t),e===0&&t.ended)return t.length===0&&ps(this),null;var n=t.needReadable;ge("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,ge("length less than watermark",n)),t.ended||t.reading?(n=!1,ge("reading or ended",n)):n&&(ge("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Ah(r,t)));var i;return e>0?i=Ih(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ps(this)),i!==null&&this.emit("data",i),i};function $w(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Fi(e)}}function Fi(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(ge("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Nr.nextTick(Ph,e):Ph(e))}function Ph(e){ge("emit readable"),e.emit("readable"),hs(e)}function Lh(e,t){t.readingMore||(t.readingMore=!0,Nr.nextTick(Hw,e,t))}function Hw(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(ge("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}we.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};we.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,ge("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:E;n.endEmitted?Nr.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(_,b){ge("onunpipe"),_===r&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,f())}function s(){ge("onend"),e.end()}var u=zw(r);e.on("drain",u);var c=!1;function f(){ge("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var h=!1;r.on("data",d);function d(_){ge("ondata"),h=!1;var b=e.write(_);b===!1&&!h&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&jh(n.pipes,e)!==-1)&&!c&&(ge("false write response, pause",n.awaitDrain),n.awaitDrain++,h=!0),r.pause())}function p(_){ge("onerror",_),E(),e.removeListener("error",p),Oh(e,"error")===0&&e.emit("error",_)}Uw(e,"error",p);function g(){e.removeListener("finish",m),E()}e.once("close",g);function m(){ge("onfinish"),e.removeListener("close",g),E()}e.once("finish",m);function E(){ge("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(ge("pipe resume"),r.resume()),e};function zw(e){return function(){var t=e._readableState;ge("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Oh(e,"data")&&(t.flowing=!0,hs(e))}}we.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=jh(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};we.prototype.on=function(e,t){var r=us.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Fi(this):Nr.nextTick(Gw,this))}return r};we.prototype.addListener=we.prototype.on;function Gw(e){ge("readable nexttick read 0"),e.read(0)}we.prototype.resume=function(){var e=this._readableState;return e.flowing||(ge("resume"),e.flowing=!0,Kw(this,e)),this};function Kw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Nr.nextTick(Yw,e,t))}function Yw(e,t){t.reading||(ge("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),hs(e),t.flowing&&!t.reading&&e.read(0)}we.prototype.pause=function(){return ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function hs(e){var t=e._readableState;for(ge("flow",t.flowing);t.flowing&&e.read()!==null;);}we.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(ge("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(ge("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(a){return function(){return e[a].apply(e,arguments)}}(i));for(var o=0;o<cs.length;o++)e.on(cs[o],this.emit.bind(this,cs[o]));return this._read=function(a){ge("wrapped _read",a),n&&(n=!1,e.resume())},this};Object.defineProperty(we.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});we._fromList=Ih;function Ih(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Qw(e,t.buffer,t.decoder),r}function Qw(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Jw(e,t):Zw(e,t),n}function Jw(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),e-=a,e===0){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function Zw(e,t){var r=gn.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,e===0){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function ps(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Nr.nextTick(e_,t,e))}function e_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function jh(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var ds=X((fO,qh)=>{"use strict";qh.exports=Pt;var Ri=sr(),Fh=Object.create(st());Fh.inherits=_e();Fh.inherits(Pt,Ri);function t_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Pt(e){if(!(this instanceof Pt))return new Pt(e);Ri.call(this,e),this._transformState={afterTransform:t_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",r_)}function r_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Rh(e,t,r)}):Rh(this,null,null)}Pt.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ri.prototype.push.call(this,e,t)};Pt.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Pt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Pt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Pt.prototype._destroy=function(e,t){var r=this;Ri.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Rh(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Xh=X((hO,Wh)=>{"use strict";Wh.exports=yn;var Bh=ds(),Uh=Object.create(st());Uh.inherits=_e();Uh.inherits(yn,Bh);function yn(e){if(!(this instanceof yn))return new yn(e);Bh.call(this,e)}yn.prototype._transform=function(e,t,r){r(null,e)}});var Vh=X((Ie,qi)=>{var gt=require("stream");process.env.READABLE_STREAM==="disable"&&gt?(qi.exports=gt,Ie=qi.exports=gt.Readable,Ie.Readable=gt.Readable,Ie.Writable=gt.Writable,Ie.Duplex=gt.Duplex,Ie.Transform=gt.Transform,Ie.PassThrough=gt.PassThrough,Ie.Stream=gt):(Ie=qi.exports=ss(),Ie.Stream=gt||Ie,Ie.Readable=Ie,Ie.Writable=is(),Ie.Duplex=sr(),Ie.Transform=ds(),Ie.PassThrough=Xh())});var ms=X((pO,ys)=>{"use strict";var gs=Vh();function Ar(e,t,r){typeof r=="undefined"&&(r=t,t=e,e=null),gs.Duplex.call(this,e),typeof r.read!="function"&&(r=new gs.Readable(e).wrap(r)),this._writable=t,this._readable=r,this._waiting=!1;var n=this;t.once("finish",function(){n.end()}),this.once("finish",function(){t.end()}),r.on("readable",function(){n._waiting&&(n._waiting=!1,n._read())}),r.once("end",function(){n.push(null)}),(!e||typeof e.bubbleErrors=="undefined"||e.bubbleErrors)&&(t.on("error",function(i){n.emit("error",i)}),r.on("error",function(i){n.emit("error",i)}))}Ar.prototype=Object.create(gs.Duplex.prototype,{constructor:{value:Ar}});Ar.prototype._write=function(t,r,n){this._writable.write(t,r,n)};Ar.prototype._read=function(){for(var t,r=0;(t=this._readable.read())!==null;)this.push(t),r++;r===0&&(this._waiting=!0)};ys.exports=function(t,r,n){return new Ar(t,r,n)};ys.exports.DuplexWrapper=Ar});var Hh=X((dO,$h)=>{var Pr=require("stream"),n_=Di(),i_=ms(),o_=Oi();(!Pr.Writable||!Pr.Writable.prototype.destroy)&&(Pr=Nt());function a_(e,t){var r=Pr.PassThrough({objectMode:!0}),n=Pr.PassThrough(),i=Pr.Transform({objectMode:!0}),o=e instanceof RegExp?e:e&&new RegExp(e),a;i._transform=function(u,c,f){if(a||o&&!o.exec(u.path))return u.autodrain(),f();a=!0,s.emit("entry",u),u.on("error",function(h){n.emit("error",h)}),u.pipe(n).on("error",function(h){f(h)}).on("finish",function(h){f(null,h)})},r.pipe(n_(t)).on("error",function(u){n.emit("error",u)}).pipe(i).on("error",Object).on("finish",function(){a?n.end():n.emit("error",new Error("PATTERN_NOT_FOUND"))});var s=i_(r,n);return s.buffer=function(){return o_(n)},s}$h.exports=a_});var Bi=X((gO,Gh)=>{Gh.exports=Wt;var vs=require("stream").Stream,s_=_e();function Wt(){vs.call(this)}s_(Wt,vs);Wt.prototype.on=function(e,t){return e==="ready"&&this.ready?process.nextTick(t.bind(this)):vs.prototype.on.call(this,e,t),this};Wt.prototype.abort=function(){this._aborted=!0,this.emit("abort")};Wt.prototype.destroy=function(){};Wt.prototype.warn=function(e,t){var r=this,n=zh(e,t,r);r.listeners("warn")?r.emit("warn",n):console.error(`%s %s
path = %s
syscall = %s
fstream_type = %s
fstream_path = %s
fstream_unc_path = %s
fstream_class = %s
fstream_stack =
%s
`,t||"UNKNOWN",n.stack,n.path,n.syscall,n.fstream_type,n.fstream_path,n.fstream_unc_path,n.fstream_class,n.fstream_stack.join(`
`))};Wt.prototype.info=function(e,t){this.emit("info",e,t)};Wt.prototype.error=function(e,t,r){var n=zh(e,t,this);if(r)throw n;this.emit("error",n)};function zh(e,t,r){return e instanceof Error||(e=new Error(e)),e.code=e.code||t,e.path=e.path||r.path,e.fstream_type=e.fstream_type||r.type,e.fstream_path=e.fstream_path||r.path,r._path!==r.path&&(e.fstream_unc_path=e.fstream_unc_path||r._path),r.linkpath&&(e.fstream_linkpath=e.fstream_linkpath||r.linkpath),e.fstream_class=e.fstream_class||r.constructor.name,e.fstream_stack=e.fstream_stack||new Error().stack.split(/\n/).slice(3).map(function(n){return n.replace(/^ {4}at /,"")}),e}});var Yh=X((yO,Kh)=>{var Xt=require("constants"),u_=process.cwd,Ui=null,l_=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ui||(Ui=u_.call(process)),Ui};try{process.cwd()}catch(e){}typeof process.chdir=="function"&&(bs=process.chdir,process.chdir=function(e){Ui=null,bs.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,bs));var bs;Kh.exports=c_;function c_(e){Xt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,h,d){d&&process.nextTick(d)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,h,d,p){p&&process.nextTick(p)},e.lchownSync=function(){}),l_==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(f){function h(d,p,g){var m=Date.now(),E=0;f(d,p,function _(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-m<6e4){setTimeout(function(){e.stat(p,function(v,y){v&&v.code==="ENOENT"?f(d,p,_):g(b)})},E),E<100&&(E+=10);return}g&&g(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(h,f),h}(e.rename)),e.read=typeof e.read!="function"?e.read:function(f){function h(d,p,g,m,E,_){var b;if(_&&typeof _=="function"){var v=0;b=function(y,w,O){if(y&&y.code==="EAGAIN"&&v<10)return v++,f.call(e,d,p,g,m,E,b);_.apply(this,arguments)}}return f.call(e,d,p,g,m,E,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(h,f),h}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(f){return function(h,d,p,g,m){for(var E=0;;)try{return f.call(e,h,d,p,g,m)}catch(_){if(_.code==="EAGAIN"&&E<10){E++;continue}throw _}}}(e.readSync);function t(f){f.lchmod=function(h,d,p){f.open(h,Xt.O_WRONLY|Xt.O_SYMLINK,d,function(g,m){if(g){p&&p(g);return}f.fchmod(m,d,function(E){f.close(m,function(_){p&&p(E||_)})})})},f.lchmodSync=function(h,d){var p=f.openSync(h,Xt.O_WRONLY|Xt.O_SYMLINK,d),g=!0,m;try{m=f.fchmodSync(p,d),g=!1}finally{if(g)try{f.closeSync(p)}catch(E){}else f.closeSync(p)}return m}}function r(f){Xt.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(h,d,p,g){f.open(h,Xt.O_SYMLINK,function(m,E){if(m){g&&g(m);return}f.futimes(E,d,p,function(_){f.close(E,function(b){g&&g(_||b)})})})},f.lutimesSync=function(h,d,p){var g=f.openSync(h,Xt.O_SYMLINK),m,E=!0;try{m=f.futimesSync(g,d,p),E=!1}finally{if(E)try{f.closeSync(g)}catch(_){}else f.closeSync(g)}return m}):f.futimes&&(f.lutimes=function(h,d,p,g){g&&process.nextTick(g)},f.lutimesSync=function(){})}function n(f){return f&&function(h,d,p){return f.call(e,h,d,function(g){c(g)&&(g=null),p&&p.apply(this,arguments)})}}function i(f){return f&&function(h,d){try{return f.call(e,h,d)}catch(p){if(!c(p))throw p}}}function o(f){return f&&function(h,d,p,g){return f.call(e,h,d,p,function(m){c(m)&&(m=null),g&&g.apply(this,arguments)})}}function a(f){return f&&function(h,d,p){try{return f.call(e,h,d,p)}catch(g){if(!c(g))throw g}}}function s(f){return f&&function(h,d,p){typeof d=="function"&&(p=d,d=null);function g(m,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),p&&p.apply(this,arguments)}return d?f.call(e,h,d,g):f.call(e,h,g)}}function u(f){return f&&function(h,d){var p=d?f.call(e,h,d):f.call(e,h);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(f){if(!f||f.code==="ENOSYS")return!0;var h=!process.getuid||process.getuid()!==0;return!!(h&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var Zh=X((mO,Jh)=>{var Qh=require("stream").Stream;Jh.exports=f_;function f_(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Qh.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var a=Object.keys(i),s=0,u=a.length;s<u;s++){var c=a[s];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(f,h){if(f){o.emit("error",f),o.readable=!1;return}o.fd=h,o.emit("open",h),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Qh.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),a=0,s=o.length;a<s;a++){var u=o[a];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var tp=X((vO,ep)=>{"use strict";ep.exports=p_;var h_=Object.getPrototypeOf||function(e){return e.__proto__};function p_(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:h_(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var yt=X((bO,Es)=>{var xe=require("fs"),d_=Yh(),g_=Zh(),y_=tp(),Wi=require("util"),je,Xi;typeof Symbol=="function"&&typeof Symbol.for=="function"?(je=Symbol.for("graceful-fs.queue"),Xi=Symbol.for("graceful-fs.previous")):(je="___graceful-fs.queue",Xi="___graceful-fs.previous");function m_(){}function rp(e,t){Object.defineProperty(e,je,{get:function(){return t}})}var ur=m_;Wi.debuglog?ur=Wi.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ur=function(){var e=Wi.format.apply(Wi,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});xe[je]||(np=global[je]||[],rp(xe,np),xe.close=function(e){function t(r,n){return e.call(xe,r,function(i){i||ip(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Xi,{value:e}),t}(xe.close),xe.closeSync=function(e){function t(r){e.apply(xe,arguments),ip()}return Object.defineProperty(t,Xi,{value:e}),t}(xe.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ur(xe[je]),require("assert").equal(xe[je].length,0)}));var np;global[je]||rp(global,xe[je]);Es.exports=ws(y_(xe));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!xe.__patched&&(Es.exports=ws(xe),xe.__patched=!0);function ws(e){d_(e),e.gracefulify=ws,e.createReadStream=w,e.createWriteStream=O;var t=e.readFile;e.readFile=r;function r(L,A,M){return typeof A=="function"&&(M=A,A=null),B(L,A,M);function B(G,te,R,U){return t(G,te,function(Y){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?Lr([B,[G,te,R],Y,U||Date.now(),Date.now()]):typeof R=="function"&&R.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(L,A,M,B){return typeof M=="function"&&(B=M,M=null),G(L,A,M,B);function G(te,R,U,Y,Q){return n(te,R,U,function(I){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Lr([G,[te,R,U,Y],I,Q||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=a);function a(L,A,M,B){return typeof M=="function"&&(B=M,M=null),G(L,A,M,B);function G(te,R,U,Y,Q){return o(te,R,U,function(I){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Lr([G,[te,R,U,Y],I,Q||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var s=e.copyFile;s&&(e.copyFile=u);function u(L,A,M,B){return typeof M=="function"&&(B=M,M=0),G(L,A,M,B);function G(te,R,U,Y,Q){return s(te,R,U,function(I){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Lr([G,[te,R,U,Y],I,Q||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var c=e.readdir;e.readdir=h;var f=/^v[0-5]\./;function h(L,A,M){typeof A=="function"&&(M=A,A=null);var B=f.test(process.version)?function(R,U,Y,Q){return c(R,G(R,U,Y,Q))}:function(R,U,Y,Q){return c(R,U,G(R,U,Y,Q))};return B(L,A,M);function G(te,R,U,Y){return function(Q,I){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?Lr([B,[te,R,U],Q,Y||Date.now(),Date.now()]):(I&&I.sort&&I.sort(),typeof U=="function"&&U.call(this,Q,I))}}}if(process.version.substr(0,4)==="v0.8"){var d=g_(e);_=d.ReadStream,v=d.WriteStream}var p=e.ReadStream;p&&(_.prototype=Object.create(p.prototype),_.prototype.open=b);var g=e.WriteStream;g&&(v.prototype=Object.create(g.prototype),v.prototype.open=y),Object.defineProperty(e,"ReadStream",{get:function(){return _},set:function(L){_=L},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return v},set:function(L){v=L},enumerable:!0,configurable:!0});var m=_;Object.defineProperty(e,"FileReadStream",{get:function(){return m},set:function(L){m=L},enumerable:!0,configurable:!0});var E=v;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(L){E=L},enumerable:!0,configurable:!0});function _(L,A){return this instanceof _?(p.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function b(){var L=this;T(L.path,L.flags,L.mode,function(A,M){A?(L.autoClose&&L.destroy(),L.emit("error",A)):(L.fd=M,L.emit("open",M),L.read())})}function v(L,A){return this instanceof v?(g.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}function y(){var L=this;T(L.path,L.flags,L.mode,function(A,M){A?(L.destroy(),L.emit("error",A)):(L.fd=M,L.emit("open",M))})}function w(L,A){return new e.ReadStream(L,A)}function O(L,A){return new e.WriteStream(L,A)}var P=e.open;e.open=T;function T(L,A,M,B){return typeof M=="function"&&(B=M,M=null),G(L,A,M,B);function G(te,R,U,Y,Q){return P(te,R,U,function(I,V){I&&(I.code==="EMFILE"||I.code==="ENFILE")?Lr([G,[te,R,U,Y],I,Q||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}return e}function Lr(e){ur("ENQUEUE",e[0].name,e[1]),xe[je].push(e),_s()}var Vi;function ip(){for(var e=Date.now(),t=0;t<xe[je].length;++t)xe[je][t].length>2&&(xe[je][t][3]=e,xe[je][t][4]=e);_s()}function _s(){if(clearTimeout(Vi),Vi=void 0,xe[je].length!==0){var e=xe[je].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)ur("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ur("TIMEOUT",t.name,r);var a=r.pop();typeof a=="function"&&a.call(null,n)}else{var s=Date.now()-o,u=Math.max(o-i,1),c=Math.min(u*1.2,100);s>=c?(ur("RETRY",t.name,r),t.apply(null,r.concat([i]))):xe[je].push(e)}Vi===void 0&&(Vi=setTimeout(_s,0))}}});var mn=X((wO,op)=>{op.exports=v_;function v_(e){var t=["Directory","File","SymbolicLink","Link","BlockDevice","CharacterDevice","FIFO","Socket"],r;if(e.type&&t.indexOf(e.type)!==-1)return e[e.type]=!0,e.type;for(var n=0,i=t.length;n<i;n++){r=t[n];var o=e[r]||e["is"+r];if(typeof o=="function"&&(o=o.call(e)),o)return e[r]=!0,e.type=r,r}return null}});var Ts=X((_O,ap)=>{ap.exports=vn;var b_=yt(),w_=_e(),Ss=lr();w_(vn,Ss);function vn(e){var t=this;if(!(t instanceof vn))throw new Error("LinkReader must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="SymbolicLink"&&e.SymbolicLink))throw new Error("Non-link type "+e.type);Ss.call(t,e)}vn.prototype._stat=function(e){var t=this;b_.readlink(t._path,function(r,n){if(r)return t.error(r);t.linkpath=t.props.linkpath=n,t.emit("linkpath",n),Ss.prototype._stat.call(t,e)})};vn.prototype._read=function(){var e=this;e._paused||e._ended||(e.emit("end"),e.emit("close"),e._ended=!0)}});var xs=X((EO,lp)=>{lp.exports=mt;var sp=yt(),__=_e(),bn=require("path"),Os=lr(),up=require("assert").ok;__(mt,Os);function mt(e){var t=this;if(!(t instanceof mt))throw new Error("DirReader must be called as constructor.");if(e.type!=="Directory"||!e.Directory)throw new Error("Non-directory type "+e.type);t.entries=null,t._index=-1,t._paused=!1,t._length=-1,e.sort&&(this.sort=e.sort),Os.call(this,e)}mt.prototype._getEntries=function(){var e=this;e._gotEntries||(e._gotEntries=!0,sp.readdir(e._path,function(t,r){if(t)return e.error(t);e.entries=r,e.emit("entries",r),e._paused?e.once("resume",n):n();function n(){e._length=e.entries.length,typeof e.sort=="function"&&(e.entries=e.entries.sort(e.sort.bind(e))),e._read()}}))};mt.prototype._read=function(){var e=this;if(!e.entries)return e._getEntries();if(!(e._paused||e._currentEntry||e._aborted)){if(e._index++,e._index>=e.entries.length){e._ended||(e._ended=!0,e.emit("end"),e.emit("close"));return}var t=bn.resolve(e._path,e.entries[e._index]);up(t!==e._path),up(e.entries[e._index]),e._currentEntry=t,sp[e.props.follow?"stat":"lstat"](t,function(r,n){if(r)return e.error(r);var i=e._proxy||e;n.path=t,n.basename=bn.basename(t),n.dirname=bn.dirname(t);var o=e.getChildProps.call(i,n);o.path=t,o.basename=bn.basename(t),o.dirname=bn.dirname(t);var a=Os(o,n);e._currentEntry=a,a.on("pause",function(c){!e._paused&&!a._disowned&&e.pause(c)}),a.on("resume",function(c){e._paused&&!a._disowned&&e.resume(c)}),a.on("stat",function(c){e.emit("_entryStat",a,c),!a._aborted&&(a._paused?a.once("resume",function(){e.emit("entryStat",a,c)}):e.emit("entryStat",a,c))}),a.on("ready",function c(){if(e._paused)return a.pause(e),e.once("resume",c);a.type==="Socket"?e.emit("socket",a):e.emitEntry(a)});var s=!1;a.on("close",u),a.on("disown",u);function u(){s||(s=!0,e.emit("childEnd",a),e.emit("entryEnd",a),e._currentEntry=null,e._paused||e._read())}a.on("error",function(c){a._swallowErrors?(e.warn(c),a.emit("end"),a.emit("close")):e.emit("error",c)}),["child","childEnd","warn"].forEach(function(c){a.on(c,e.emit.bind(e,c))})})}};mt.prototype.disown=function(e){e.emit("beforeDisown"),e._disowned=!0,e.parent=e.root=null,e===this._currentEntry&&(this._currentEntry=null),e.emit("disown")};mt.prototype.getChildProps=function(){return{depth:this.depth+1,root:this.root||this,parent:this,follow:this.follow,filter:this.filter,sort:this.props.sort,hardlinks:this.props.hardlinks}};mt.prototype.pause=function(e){var t=this;t._paused||(e=e||t,t._paused=!0,t._currentEntry&&t._currentEntry.pause&&t._currentEntry.pause(e),t.emit("pause",e))};mt.prototype.resume=function(e){var t=this;!t._paused||(e=e||t,t._paused=!1,t.emit("resume",e),!t._paused&&(t._currentEntry?t._currentEntry.resume&&t._currentEntry.resume(e):t._read()))};mt.prototype.emitEntry=function(e){this.emit("entry",e),this.emit("child",e)}});var Cs=X((SO,pp)=>{pp.exports=cr;var E_=yt(),S_=_e(),cp=lr(),fp={EOF:!0},hp={CLOSE:!0};S_(cr,cp);function cr(e){var t=this;if(!(t instanceof cr))throw new Error("FileReader must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="File"&&e.File))throw new Error("Non-file type "+e.type);t._buffer=[],t._bytesEmitted=0,cp.call(t,e)}cr.prototype._getStream=function(){var e=this,t=e._stream=E_.createReadStream(e._path,e.props);e.props.blksize&&(t.bufferSize=e.props.blksize),t.on("open",e.emit.bind(e,"open")),t.on("data",function(r){if(e._bytesEmitted+=r.length,r.length)e._paused||e._buffer.length?(e._buffer.push(r),e._read()):e.emit("data",r);else return}),t.on("end",function(){e._paused||e._buffer.length?(e._buffer.push(fp),e._read()):e.emit("end"),e._bytesEmitted!==e.props.size&&e.error(`Didn't get expected byte count
expect: `+e.props.size+`
actual: `+e._bytesEmitted)}),t.on("close",function(){e._paused||e._buffer.length?(e._buffer.push(hp),e._read()):e.emit("close")}),t.on("error",function(r){e.emit("error",r)}),e._read()};cr.prototype._read=function(){var e=this;if(!e._paused){if(!e._stream)return e._getStream();if(e._buffer.length){for(var t=e._buffer,r=0,n=t.length;r<n;r++){var i=t[r];if(i===fp?e.emit("end"):i===hp?e.emit("close"):e.emit("data",i),e._paused){e._buffer=t.slice(r);return}}e._buffer.length=0}}};cr.prototype.pause=function(e){var t=this;t._paused||(e=e||t,t._paused=!0,t._stream&&t._stream.pause(),t.emit("pause",e))};cr.prototype.resume=function(e){var t=this;!t._paused||(e=e||t,t.emit("resume",e),t._paused=!1,t._stream&&t._stream.resume(),t._read())}});var yp=X((TO,gp)=>{gp.exports=$i;var T_=_e(),dp=lr();T_($i,dp);function $i(e){var t=this;if(!(t instanceof $i))throw new Error("SocketReader must be called as constructor.");if(!(e.type==="Socket"&&e.Socket))throw new Error("Non-socket type "+e.type);dp.call(t,e)}$i.prototype._read=function(){var e=this;e._paused||e._ended||(e.emit("end"),e.emit("close"),e._ended=!0)}});var Ns=X((OO,mp)=>{mp.exports=fr;var Ds=lr(),O_=mn(),x_=_e(),C_=yt();x_(fr,Ds);function fr(e){var t=this;if(!(t instanceof fr))throw new Error("ProxyReader must be called as constructor.");t.props=e,t._buffer=[],t.ready=!1,Ds.call(t,e)}fr.prototype._stat=function(){var e=this,t=e.props,r=t.follow?"stat":"lstat";C_[r](t.path,function(n,i){var o;n||!i?o="File":o=O_(i),t[o]=!0,t.type=e.type=o,e._old=i,e._addProxy(Ds(t,i))})};fr.prototype._addProxy=function(e){var t=this;if(t._proxyTarget)return t.error("proxy already set");t._proxyTarget=e,e._proxy=t,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(n){e.on(n,t.emit.bind(t,n))}),t.emit("proxy",e),e.on("ready",function(){t.ready=!0,t.emit("ready")});var r=t._buffer;t._buffer.length=0,r.forEach(function(n){e[n[0]].apply(e,n[1])})};fr.prototype.pause=function(){return this._proxyTarget?this._proxyTarget.pause():!1};fr.prototype.resume=function(){return this._proxyTarget?this._proxyTarget.resume():!1}});var lr=X((xO,wp)=>{wp.exports=lt;var D_=yt(),N_=require("stream").Stream,k_=_e(),ks=require("path"),As=mn(),Hi=lt.hardLinks={},vp=Bi();k_(lt,vp);var bp=Ts();function lt(e,t){var r=this;if(!(r instanceof lt))return new lt(e,t);typeof e=="string"&&(e={path:e});var n,i;switch(e.type&&typeof e.type=="function"?(n=e.type,i=n):(n=As(e),i=lt),t&&!n&&(n=As(t),e[n]=!0,e.type=n),n){case"Directory":i=xs();break;case"Link":case"File":i=Cs();break;case"SymbolicLink":i=bp;break;case"Socket":i=yp();break;case null:i=Ns();break}if(!(r instanceof i))return new i(e);vp.call(r),e.path||r.error("Must provide a path",null,!0),r.readable=!0,r.writable=!1,r.type=n,r.props=e,r.depth=e.depth=e.depth||0,r.parent=e.parent||null,r.root=e.root||e.parent&&e.parent.root||r,r._path=r.path=ks.resolve(e.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=e.basename=ks.basename(r.path),r.dirname=e.dirname=ks.dirname(r.path),e.parent=e.root=null,r.size=e.size,r.filter=typeof e.filter=="function"?e.filter:null,e.sort==="alpha"&&(e.sort=A_),r._stat(t)}function A_(e,t){return e===t?0:e.toLowerCase()>t.toLowerCase()?1:e.toLowerCase()<t.toLowerCase()?-1:e>t?1:-1}lt.prototype._stat=function(e){var t=this,r=t.props,n=r.follow?"stat":"lstat";e?process.nextTick(i.bind(null,null,e)):D_[n](t._path,i);function i(o,a){if(o)return t.error(o);if(Object.keys(a).forEach(function(p){r[p]=a[p]}),t.size!==void 0&&r.size!==t.size)return t.error("incorrect size");t.size=r.size;var s=As(r),u=r.hardlinks!==!1;if(u&&s!=="Directory"&&r.nlink&&r.nlink>1){var c=r.dev+":"+r.ino;Hi[c]===t._path||!Hi[c]?Hi[c]=t._path:(s=t.type=t.props.type="Link",t.Link=t.props.Link=!0,t.linkpath=t.props.linkpath=Hi[c],t._stat=t._read=bp.prototype._read)}if(t.type&&t.type!==s&&t.error("Unexpected type: "+s),t.filter){var f=t._proxy||t;if(!t.filter.call(f,f,r)){t._disowned||(t.abort(),t.emit("end"),t.emit("close"));return}}var h=["_stat","stat","ready"],d=0;(function p(){if(t._aborted){t.emit("end"),t.emit("close");return}if(t._paused&&t.type!=="Directory"){t.once("resume",p);return}var g=h[d++];if(!g)return t._read();t.emit(g,r),p()})()}};lt.prototype.pipe=function(e){var t=this;return typeof e.add=="function"&&t.on("entry",function(r){var n=e.add(r);n===!1&&t.pause()}),N_.prototype.pipe.apply(this,arguments)};lt.prototype.pause=function(e){this._paused=!0,e=e||this,this.emit("pause",e),this._stream&&this._stream.pause(e)};lt.prototype.resume=function(e){this._paused=!1,e=e||this,this.emit("resume",e),this._stream&&this._stream.resume(e),this._read()};lt.prototype._read=function(){this.error("Cannot read unknown type: "+this.type)}});var _p=X(Ps=>{var hr=require("path"),Vt=process.platform==="win32",$t=require("fs"),P_=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function L_(){var e;if(P_){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function I_(e){return typeof e=="function"?e:L_()}var CO=hr.normalize;Vt?Lt=/(.*?)(?:[\/\\]+|$)/g:Lt=/(.*?)(?:[\/]+|$)/g;var Lt;Vt?wn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:wn=/^[\/]*/;var wn;Ps.realpathSync=function(t,r){if(t=hr.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},a,s,u,c;f();function f(){var E=wn.exec(t);a=E[0].length,s=E[0],u=E[0],c="",Vt&&!o[u]&&($t.lstatSync(u),o[u]=!0)}for(;a<t.length;){Lt.lastIndex=a;var h=Lt.exec(t);if(c=s,s+=h[0],u=c+h[1],a=Lt.lastIndex,!(o[u]||r&&r[u]===u)){var d;if(r&&Object.prototype.hasOwnProperty.call(r,u))d=r[u];else{var p=$t.lstatSync(u);if(!p.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var g=null;if(!Vt){var m=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(m)&&(g=i[m])}g===null&&($t.statSync(u),g=$t.readlinkSync(u)),d=hr.resolve(c,g),r&&(r[u]=d),Vt||(i[m]=g)}t=hr.resolve(d,t.slice(a)),f()}}return r&&(r[n]=t),t};Ps.realpath=function(t,r,n){if(typeof n!="function"&&(n=I_(r),r=null),t=hr.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},a={},s,u,c,f;h();function h(){var E=wn.exec(t);s=E[0].length,u=E[0],c=E[0],f="",Vt&&!a[c]?$t.lstat(c,function(_){if(_)return n(_);a[c]=!0,d()}):process.nextTick(d)}function d(){if(s>=t.length)return r&&(r[i]=t),n(null,t);Lt.lastIndex=s;var E=Lt.exec(t);return f=u,u+=E[0],c=f+E[1],s=Lt.lastIndex,a[c]||r&&r[c]===c?process.nextTick(d):r&&Object.prototype.hasOwnProperty.call(r,c)?m(r[c]):$t.lstat(c,p)}function p(E,_){if(E)return n(E);if(!_.isSymbolicLink())return a[c]=!0,r&&(r[c]=c),process.nextTick(d);if(!Vt){var b=_.dev.toString(32)+":"+_.ino.toString(32);if(o.hasOwnProperty(b))return g(null,o[b],c)}$t.stat(c,function(v){if(v)return n(v);$t.readlink(c,function(y,w){Vt||(o[b]=w),g(y,w)})})}function g(E,_,b){if(E)return n(E);var v=hr.resolve(f,_);r&&(r[b]=v),m(v)}function m(E){t=hr.resolve(E,t.slice(s)),h()}}});var Ms=X((NO,Op)=>{Op.exports=Ht;Ht.realpath=Ht;Ht.sync=js;Ht.realpathSync=js;Ht.monkeypatch=M_;Ht.unmonkeypatch=F_;var Ir=require("fs"),Ls=Ir.realpath,Is=Ir.realpathSync,j_=process.version,Ep=/^v[0-5]\./.test(j_),Sp=_p();function Tp(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ht(e,t,r){if(Ep)return Ls(e,t,r);typeof t=="function"&&(r=t,t=null),Ls(e,t,function(n,i){Tp(n)?Sp.realpath(e,t,r):r(n,i)})}function js(e,t){if(Ep)return Is(e,t);try{return Is(e,t)}catch(r){if(Tp(r))return Sp.realpathSync(e,t);throw r}}function M_(){Ir.realpath=Ht,Ir.realpathSync=js}function F_(){Ir.realpath=Ls,Ir.realpathSync=Is}});var Cp=X((kO,xp)=>{xp.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);R_(i)?r.push.apply(r,i):r.push(i)}return r};var R_=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Fs=X((AO,Ap)=>{"use strict";Ap.exports=Dp;function Dp(e,t,r){e instanceof RegExp&&(e=Np(e,r)),t instanceof RegExp&&(t=Np(t,r));var n=kp(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Np(e,t){var r=t.match(e);return r?r[0]:null}Dp.range=kp;function kp(e,t,r){var n,i,o,a,s,u=r.indexOf(e),c=r.indexOf(t,u+1),f=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],o=r.length;f>=0&&!s;)f==u?(n.push(f),u=r.indexOf(e,f+1)):n.length==1?s=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,a=c),c=r.indexOf(t,f+1)),f=u<c&&u>=0?u:c;n.length&&(s=[o,a])}return s}});var qp=X((PO,Rp)=>{var q_=Cp(),Pp=Fs();Rp.exports=W_;var Lp="\0SLASH"+Math.random()+"\0",Ip="\0OPEN"+Math.random()+"\0",Rs="\0CLOSE"+Math.random()+"\0",jp="\0COMMA"+Math.random()+"\0",Mp="\0PERIOD"+Math.random()+"\0";function qs(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function B_(e){return e.split("\\\\").join(Lp).split("\\{").join(Ip).split("\\}").join(Rs).split("\\,").join(jp).split("\\.").join(Mp)}function U_(e){return e.split(Lp).join("\\").split(Ip).join("{").split(Rs).join("}").split(jp).join(",").split(Mp).join(".")}function Fp(e){if(!e)return[""];var t=[],r=Pp("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var s=Fp(o);return o.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function W_(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),jr(B_(e),!0).map(U_)):[]}function X_(e){return"{"+e+"}"}function V_(e){return/^-?0\d/.test(e)}function $_(e,t){return e<=t}function H_(e,t){return e>=t}function jr(e,t){var r=[],n=Pp("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=i||o,s=n.body.indexOf(",")>=0;if(!a&&!s)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Rs+n.post,jr(e)):[e];var u;if(a)u=n.body.split(/\.\./);else if(u=Fp(n.body),u.length===1&&(u=jr(u[0],!1).map(X_),u.length===1)){var f=n.post.length?jr(n.post,!1):[""];return f.map(function(M){return n.pre+u[0]+M})}var c=n.pre,f=n.post.length?jr(n.post,!1):[""],h;if(a){var d=qs(u[0]),p=qs(u[1]),g=Math.max(u[0].length,u[1].length),m=u.length==3?Math.abs(qs(u[2])):1,E=$_,_=p<d;_&&(m*=-1,E=H_);var b=u.some(V_);h=[];for(var v=d;E(v,p);v+=m){var y;if(o)y=String.fromCharCode(v),y==="\\"&&(y="");else if(y=String(v),b){var w=g-y.length;if(w>0){var O=new Array(w+1).join("0");v<0?y="-"+O+y.slice(1):y=O+y}}h.push(y)}}else h=q_(u,function(A){return jr(A,!1)});for(var P=0;P<h.length;P++)for(var T=0;T<f.length;T++){var L=c+h[P]+f[T];(!t||a||L)&&r.push(L)}return r}});var Ki=X((LO,Vp)=>{Vp.exports=Ye;Ye.Minimatch=Me;var _n=function(){try{return require("path")}catch(e){}}()||{sep:"/"};Ye.sep=_n.sep;var Bs=Ye.GLOBSTAR=Me.GLOBSTAR={},z_=qp(),Bp={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Us="[^/]",Ws=Us+"*?",G_="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",K_="(?:(?!(?:\\/|^)\\.).)*?",Up=Y_("().*{}+?[]^$\\!");function Y_(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Wp=/\/+/;Ye.filter=Q_;function Q_(e,t){return t=t||{},function(r,n,i){return Ye(r,e,t)}}function zt(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}Ye.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return Ye;var t=Ye,r=function(i,o,a){return t(i,o,zt(e,a))};return r.Minimatch=function(i,o){return new t.Minimatch(i,zt(e,o))},r.Minimatch.defaults=function(i){return t.defaults(zt(e,i)).Minimatch},r.filter=function(i,o){return t.filter(i,zt(e,o))},r.defaults=function(i){return t.defaults(zt(e,i))},r.makeRe=function(i,o){return t.makeRe(i,zt(e,o))},r.braceExpand=function(i,o){return t.braceExpand(i,zt(e,o))},r.match=function(n,i,o){return t.match(n,i,zt(e,o))},r};Me.defaults=function(e){return Ye.defaults(e).Minimatch};function Ye(e,t,r){return zi(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new Me(t,r).match(e)}function Me(e,t){if(!(this instanceof Me))return new Me(e,t);zi(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&_n.sep!=="/"&&(e=e.split(_n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}Me.prototype.debug=function(){};Me.prototype.make=J_;function J_(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Wp)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Me.prototype.parseNegate=Z_;function Z_(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Ye.braceExpand=function(e,t){return Xp(e,t)};Me.prototype.braceExpand=Xp;function Xp(e,t){return t||(this instanceof Me?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,zi(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:z_(e)}var e0=1024*64,zi=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>e0)throw new TypeError("pattern is too long")};Me.prototype.parse=t0;var Gi={};function t0(e,t){zi(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Bs;if(e==="")return"";var n="",i=!!r.nocase,o=!1,a=[],s=[],u,c=!1,f=-1,h=-1,d=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function g(){if(u){switch(u){case"*":n+=Ws,i=!0;break;case"?":n+=Us,i=!0;break;default:n+="\\"+u;break}p.debug("clearStateChar %j %j",u,n),u=!1}}for(var m=0,E=e.length,_;m<E&&(_=e.charAt(m));m++){if(this.debug("%s	%s %s %j",e,m,n,_),o&&Up[_]){n+="\\"+_,o=!1;continue}switch(_){case"/":return!1;case"\\":g(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,m,n,_),c){this.debug("  in class"),_==="!"&&m===h+1&&(_="^"),n+=_;continue}p.debug("call clearStateChar %j",u),g(),u=_,r.noext&&g();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}a.push({type:u,start:m-1,reStart:n.length,open:Bp[u].open,close:Bp[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!a.length){n+="\\)";continue}g(),i=!0;var b=a.pop();n+=b.close,b.type==="!"&&s.push(b),b.reEnd=n.length;continue;case"|":if(c||!a.length||o){n+="\\|",o=!1;continue}g(),n+="|";continue;case"[":if(g(),c){n+="\\"+_;continue}c=!0,h=m,f=n.length,n+=_;continue;case"]":if(m===h+1||!c){n+="\\"+_,o=!1;continue}var v=e.substring(h+1,m);try{RegExp("["+v+"]")}catch(V){var y=this.parse(v,Gi);n=n.substr(0,f)+"\\["+y[0]+"\\]",i=i||y[1],c=!1;continue}i=!0,c=!1,n+=_;continue;default:g(),o?o=!1:Up[_]&&!(_==="^"&&c)&&(n+="\\"),n+=_}}for(c&&(v=e.substr(h+1),y=this.parse(v,Gi),n=n.substr(0,f)+"\\["+y[0],i=i||y[1]),b=a.pop();b;b=a.pop()){var w=n.slice(b.reStart+b.open.length);this.debug("setting tail",n,b),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(V,K,J){return J||(J="\\"),K+K+J+"|"}),this.debug(`tail=%j
   %s`,w,w,b,n);var O=b.type==="*"?Ws:b.type==="?"?Us:"\\"+b.type;i=!0,n=n.slice(0,b.reStart)+O+"\\("+w}g(),o&&(n+="\\\\");var P=!1;switch(n.charAt(0)){case"[":case".":case"(":P=!0}for(var T=s.length-1;T>-1;T--){var L=s[T],A=n.slice(0,L.reStart),M=n.slice(L.reStart,L.reEnd-8),B=n.slice(L.reEnd-8,L.reEnd),G=n.slice(L.reEnd);B+=G;var te=A.split("(").length-1,R=G;for(m=0;m<te;m++)R=R.replace(/\)[+*?]?/,"");G=R;var U="";G===""&&t!==Gi&&(U="$");var Y=A+M+G+U+B;n=Y}if(n!==""&&i&&(n="(?=.)"+n),P&&(n=d+n),t===Gi)return[n,i];if(!i)return n0(e);var Q=r.nocase?"i":"";try{var I=new RegExp("^"+n+"$",Q)}catch(V){return new RegExp("$.")}return I._glob=e,I._src=n,I}Ye.makeRe=function(e,t){return new Me(e,t||{}).makeRe()};Me.prototype.makeRe=r0;function r0(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Ws:t.dot?G_:K_,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(a){return a===Bs?r:typeof a=="string"?i0(a):a._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Ye.match=function(e,t,r){r=r||{};var n=new Me(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};Me.prototype.match=function(t,r){if(typeof r=="undefined"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;_n.sep!=="/"&&(t=t.split(_n.sep).join("/")),t=t.split(Wp),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var o,a;for(a=t.length-1;a>=0&&(o=t[a],!o);a--);for(a=0;a<i.length;a++){var s=i[a],u=t;n.matchBase&&s.length===1&&(u=[o]);var c=this.matchOne(u,s,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Me.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,s=t.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var u=t[o],c=e[i];if(this.debug(t,u,c),u===!1)return!1;if(u===Bs){this.debug("GLOBSTAR",[t,u,c]);var f=i,h=o+1;if(h===s){for(this.debug("** at the end");i<a;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;f<a;){var d=e[f];if(this.debug(`
globstar while`,e,f,t,h,d),this.matchOne(e.slice(f),t.slice(h),r))return this.debug("globstar found match!",f,a,d),!0;if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",e,f,t,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,f,t,h),f===a))}var p;if(typeof u=="string"?(p=c===u,this.debug("string match",u,c,p)):(p=c.match(u),this.debug("pattern match",u,c,p)),!p)return!1}if(i===a&&o===s)return!0;if(i===a)return r;if(o===s)return i===a-1&&e[i]==="";throw new Error("wtf?")};function n0(e){return e.replace(/\\(.)/g,"$1")}function i0(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Qi=X((IO,Yi)=>{"use strict";function $p(e){return e.charAt(0)==="/"}function Hp(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Yi.exports=process.platform==="win32"?Hp:$p;Yi.exports.posix=$p;Yi.exports.win32=Hp});var Vs=X(Gt=>{Gt.setopts=c0;Gt.ownProp=zp;Gt.makeAbs=En;Gt.finish=f0;Gt.mark=h0;Gt.isIgnored=Kp;Gt.childrenIgnored=p0;function zp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o0=require("fs"),Mr=require("path"),a0=Ki(),Gp=Qi(),Xs=a0.Minimatch;function s0(e,t){return e.localeCompare(t,"en")}function u0(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(l0))}function l0(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Xs(r,{dot:!0})}return{matcher:new Xs(e,{dot:!0}),gmatcher:t}}function c0(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||o0,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),u0(e,r),e.changedCwd=!1;var n=process.cwd();zp(r,"cwd")?(e.cwd=Mr.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Mr.resolve(e.cwd,"/"),e.root=Mr.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Gp(e.cwd)?e.cwd:En(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new Xs(t,r),e.options=e.minimatch.options}function f0(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}else{var s=Object.keys(o);t?r.push.apply(r,s):s.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(s0)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),f=e.cache[u]||e.cache[En(e,u)];return c&&f&&(c=f!=="DIR"&&!Array.isArray(f)),c}))}e.ignore.length&&(r=r.filter(function(u){return!Kp(e,u)})),e.found=r}function h0(e,t){var r=En(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),a=t.slice(-1)==="/";if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==t){var s=En(e,i);e.statCache[s]=e.statCache[r],e.cache[s]=e.cache[r]}}return i}function En(e,t){var r=t;return t.charAt(0)==="/"?r=Mr.join(e.root,t):Gp(t)||t===""?r=t:e.changedCwd?r=Mr.resolve(e.cwd,t):r=Mr.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Kp(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function p0(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var ed=X((qO,Zp)=>{Zp.exports=Jp;Jp.GlobSync=Ae;var d0=Ms(),Yp=Ki(),MO=Yp.Minimatch,FO=zs().Glob,RO=require("util"),$s=require("path"),Qp=require("assert"),Ji=Qi(),pr=Vs(),g0=pr.setopts,Hs=pr.ownProp,y0=pr.childrenIgnored,m0=pr.isIgnored;function Jp(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Ae(e,t).found}function Ae(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Ae))return new Ae(e,t);if(g0(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Ae.prototype._finish=function(){if(Qp.ok(this instanceof Ae),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=d0.realpathSync(i,e.realpathCache);n[o]=!0}catch(a){if(a.syscall==="stat")n[e._makeAbs(i)]=!0;else throw a}})}pr.finish(this)};Ae.prototype._process=function(e,t,r){Qp.ok(this instanceof Ae);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),a;i===null?a=".":((Ji(i)||Ji(e.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Ji(i))&&(i="/"+i),a=i);var s=this._makeAbs(a);if(!y0(this,a)){var u=o[0]===Yp.GLOBSTAR;u?this._processGlobStar(i,a,s,o,t,r):this._processReaddir(i,a,s,o,t,r)}};Ae.prototype._processReaddir=function(e,t,r,n,i,o){var a=this._readdir(r,o);if(!!a){for(var s=n[0],u=!!this.minimatch.negate,c=s._glob,f=this.dot||c.charAt(0)===".",h=[],d=0;d<a.length;d++){var p=a[d];if(p.charAt(0)!=="."||f){var g;u&&!e?g=!p.match(s):g=p.match(s),g&&h.push(p)}}var m=h.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<m;d++){var p=h[d];e&&(e.slice(-1)!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=$s.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var d=0;d<m;d++){var p=h[d],E;e?E=[e,p]:E=[p],this._process(E.concat(n),i,o)}}}};Ae.prototype._emitMatch=function(e,t){if(!m0(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Ae.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Ae.prototype._readdir=function(e,t){var r;if(t&&!Hs(this.symlinks,e))return this._readdirInGlobStar(e);if(Hs(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Ae.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Ae.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Ae.prototype._processGlobStar=function(e,t,r,n,i,o){var a=this._readdir(r,o);if(!!a){var s=n.slice(1),u=e?[e]:[],c=u.concat(s);this._process(c,i,!1);var f=a.length,h=this.symlinks[r];if(!(h&&o))for(var d=0;d<f;d++){var p=a[d];if(!(p.charAt(0)==="."&&!this.dot)){var g=u.concat(a[d],s);this._process(g,i,!0);var m=u.concat(a[d],n);this._process(m,i,!0)}}}};Ae.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&Ji(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=$s.join(this.root,e):(e=$s.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Ae.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Hs(this.cache,t)){var a=this.cache[t];if(Array.isArray(a)&&(a="DIR"),!r||a==="DIR")return a;if(r&&a==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(s){if(s&&(s.code==="ENOENT"||s.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(s){i=o}else i=o}this.statCache[t]=i;var a=!0;return i&&(a=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,r&&a==="FILE"?!1:a};Ae.prototype._mark=function(e){return pr.mark(this,e)};Ae.prototype._makeAbs=function(e){return pr.makeAbs(this,e)}});var Gs=X((BO,rd)=>{rd.exports=td;function td(e,t){if(e&&t)return td(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),a=n[n.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(s){o[s]=a[s]}),o}}});var Ys=X((UO,Ks)=>{var nd=Gs();Ks.exports=nd(Zi);Ks.exports.strict=nd(id);Zi.proto=Zi(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Zi(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return id(this)},configurable:!0})});function Zi(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function id(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var ad=X((WO,od)=>{var v0=Gs(),Sn=Object.create(null),b0=Ys();od.exports=v0(w0);function w0(e,t){return Sn[e]?(Sn[e].push(t),null):(Sn[e]=[t],_0(e))}function _0(e){return b0(function t(){var r=Sn[e],n=r.length,i=E0(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Sn[e]}})}function E0(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var zs=X(($O,ud)=>{ud.exports=gr;var S0=Ms(),sd=Ki(),XO=sd.Minimatch,T0=_e(),O0=require("events").EventEmitter,Qs=require("path"),Js=require("assert"),Tn=Qi(),Zs=ed(),dr=Vs(),x0=dr.setopts,eu=dr.ownProp,tu=ad(),VO=require("util"),C0=dr.childrenIgnored,D0=dr.isIgnored,N0=Ys();function gr(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Zs(e,t)}return new me(e,t,r)}gr.sync=Zs;var k0=gr.GlobSync=Zs.GlobSync;gr.glob=gr;function A0(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}gr.hasMagic=function(e,t){var r=A0({},t);r.noprocess=!0;var n=new me(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};gr.Glob=me;T0(me,O0);function me(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new k0(e,t)}if(!(this instanceof me))return new me(e,t,r);x0(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=N0(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return s();for(var o=!0,a=0;a<n;a++)this._process(this.minimatch.set[a],a,!1,s);o=!1;function s(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}me.prototype._finish=function(){if(Js(this instanceof me),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();dr.finish(this),this.emit("end",this.found)}};me.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};me.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var a=this.matches[e]=Object.create(null);n.forEach(function(s,u){s=i._makeAbs(s),S0.realpath(s,i.realpathCache,function(c,f){c?c.syscall==="stat"?a[s]=!0:i.emit("error",c):a[f]=!0,--o==0&&(i.matches[e]=a,t())})})};me.prototype._mark=function(e){return dr.mark(this,e)};me.prototype._makeAbs=function(e){return dr.makeAbs(this,e)};me.prototype.abort=function(){this.aborted=!0,this.emit("abort")};me.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};me.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};me.prototype._process=function(e,t,r,n){if(Js(this instanceof me),Js(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var a=e.slice(i),s;o===null?s=".":((Tn(o)||Tn(e.map(function(f){return typeof f=="string"?f:"[*]"}).join("/")))&&(!o||!Tn(o))&&(o="/"+o),s=o);var u=this._makeAbs(s);if(C0(this,s))return n();var c=a[0]===sd.GLOBSTAR;c?this._processGlobStar(o,s,u,a,t,r,n):this._processReaddir(o,s,u,a,t,r,n)}};me.prototype._processReaddir=function(e,t,r,n,i,o,a){var s=this;this._readdir(r,o,function(u,c){return s._processReaddir2(e,t,r,n,i,o,c,a)})};me.prototype._processReaddir2=function(e,t,r,n,i,o,a,s){if(!a)return s();for(var u=n[0],c=!!this.minimatch.negate,f=u._glob,h=this.dot||f.charAt(0)===".",d=[],p=0;p<a.length;p++){var g=a[p];if(g.charAt(0)!=="."||h){var m;c&&!e?m=!g.match(u):m=g.match(u),m&&d.push(g)}}var E=d.length;if(E===0)return s();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<E;p++){var g=d[p];e&&(e!=="/"?g=e+"/"+g:g=e+g),g.charAt(0)==="/"&&!this.nomount&&(g=Qs.join(this.root,g)),this._emitMatch(i,g)}return s()}n.shift();for(var p=0;p<E;p++){var g=d[p],_;e&&(e!=="/"?g=e+"/"+g:g=e+g),this._process([g].concat(n),i,o,s)}s()};me.prototype._emitMatch=function(e,t){if(!this.aborted&&!D0(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Tn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};me.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=tu(r,o);i&&n.fs.lstat(e,i);function o(a,s){if(a&&a.code==="ENOENT")return t();var u=s&&s.isSymbolicLink();n.symlinks[e]=u,!u&&s&&!s.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};me.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=tu("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!eu(this.symlinks,e))return this._readdirInGlobStar(e,r);if(eu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,P0(this,e,r))}};function P0(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}me.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};me.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};me.prototype._processGlobStar=function(e,t,r,n,i,o,a){var s=this;this._readdir(r,o,function(u,c){s._processGlobStar2(e,t,r,n,i,o,c,a)})};me.prototype._processGlobStar2=function(e,t,r,n,i,o,a,s){if(!a)return s();var u=n.slice(1),c=e?[e]:[],f=c.concat(u);this._process(f,i,!1,s);var h=this.symlinks[r],d=a.length;if(h&&o)return s();for(var p=0;p<d;p++){var g=a[p];if(!(g.charAt(0)==="."&&!this.dot)){var m=c.concat(a[p],u);this._process(m,i,!0,s);var E=c.concat(a[p],n);this._process(E,i,!0,s)}}s()};me.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};me.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Tn(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Qs.join(this.root,e):(e=Qs.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};me.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&eu(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,a=this.statCache[r];if(a!==void 0){if(a===!1)return t(null,a);var s=a.isDirectory()?"DIR":"FILE";return n&&s==="FILE"?t():t(null,s,a)}var u=this,c=tu("stat\0"+r,f);c&&u.fs.lstat(r,c);function f(h,d){if(d&&d.isSymbolicLink())return u.fs.stat(r,function(p,g){p?u._stat2(e,r,null,d,t):u._stat2(e,r,p,g,t)});u._stat2(e,r,h,d,t)}};me.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var a=!0;return n&&(a=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,o&&a==="FILE"?i():i(null,a,n)}});var ou=X((HO,yd)=>{yd.exports=nu;nu.sync=gd;var ye=require("assert"),ld=require("path"),cd=require("fs"),Fr=void 0;try{Fr=zs()}catch(e){}var fd=parseInt("666",8),L0={nosort:!0,silent:!0},ru=0,On=process.platform==="win32";function hd(e){var t=["unlink","chmod","stat","lstat","rmdir","readdir"];if(t.forEach(function(r){e[r]=e[r]||cd[r],r=r+"Sync",e[r]=e[r]||cd[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&Fr===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||L0}function nu(e,t,r){typeof t=="function"&&(r=t,t={}),ye(e,"rimraf: missing path"),ye.equal(typeof e,"string","rimraf: path should be a string"),ye.equal(typeof r,"function","rimraf: callback function required"),ye(t,"rimraf: invalid options argument provided"),ye.equal(typeof t,"object","rimraf: options should be object"),hd(t);var n=0,i=null,o=0;if(t.disableGlob||!Fr.hasMagic(e))return s(null,[e]);t.lstat(e,function(u,c){if(!u)return s(null,[e]);Fr(e,t.glob,s)});function a(u){i=i||u,--o==0&&r(i)}function s(u,c){if(u)return r(u);if(o=c.length,o===0)return r();c.forEach(function(f){iu(f,t,function h(d){if(d){if((d.code==="EBUSY"||d.code==="ENOTEMPTY"||d.code==="EPERM")&&n<t.maxBusyTries){n++;var p=n*100;return setTimeout(function(){iu(f,t,h)},p)}if(d.code==="EMFILE"&&ru<t.emfileWait)return setTimeout(function(){iu(f,t,h)},ru++);d.code==="ENOENT"&&(d=null)}ru=0,a(d)})})}}function iu(e,t,r){ye(e),ye(t),ye(typeof r=="function"),t.lstat(e,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&On&&pd(e,t,n,r),i&&i.isDirectory())return eo(e,t,n,r);t.unlink(e,function(o){if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return On?pd(e,t,o,r):eo(e,t,o,r);if(o.code==="EISDIR")return eo(e,t,o,r)}return r(o)})})}function pd(e,t,r,n){ye(e),ye(t),ye(typeof n=="function"),r&&ye(r instanceof Error),t.chmod(e,fd,function(i){i?n(i.code==="ENOENT"?null:r):t.stat(e,function(o,a){o?n(o.code==="ENOENT"?null:r):a.isDirectory()?eo(e,t,r,n):t.unlink(e,n)})})}function dd(e,t,r){ye(e),ye(t),r&&ye(r instanceof Error);try{t.chmodSync(e,fd)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?to(e,t,r):t.unlinkSync(e)}function eo(e,t,r,n){ye(e),ye(t),r&&ye(r instanceof Error),ye(typeof n=="function"),t.rmdir(e,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?I0(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function I0(e,t,r){ye(e),ye(t),ye(typeof r=="function"),t.readdir(e,function(n,i){if(n)return r(n);var o=i.length;if(o===0)return t.rmdir(e,r);var a;i.forEach(function(s){nu(ld.join(e,s),t,function(u){if(!a){if(u)return r(a=u);--o==0&&t.rmdir(e,r)}})})})}function gd(e,t){t=t||{},hd(t),ye(e,"rimraf: missing path"),ye.equal(typeof e,"string","rimraf: path should be a string"),ye(t,"rimraf: missing options"),ye.equal(typeof t,"object","rimraf: options should be object");var r;if(t.disableGlob||!Fr.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(o){r=Fr.sync(e,t.glob)}if(!!r.length)for(var n=0;n<r.length;n++){var e=r[n];try{var i=t.lstatSync(e)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&On&&dd(e,t,a)}try{i&&i.isDirectory()?to(e,t,null):t.unlinkSync(e)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return On?dd(e,t,a):to(e,t,a);if(a.code!=="EISDIR")throw a;to(e,t,a)}}}function to(e,t,r){ye(e),ye(t),r&&ye(r instanceof Error);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&j0(e,t)}}function j0(e,t){ye(e),ye(t),t.readdirSync(e).forEach(function(a){gd(ld.join(e,a),t)});var r=On?100:1,n=0;do{var i=!0;try{var o=t.rmdirSync(e,t);return i=!1,o}finally{if(++n<r&&i)continue}}while(!0)}});var au=X((zO,bd)=>{var xn=require("path"),md=require("fs"),vd=parseInt("0777",8);bd.exports=Rr.mkdirp=Rr.mkdirP=Rr;function Rr(e,t,r,n){typeof t=="function"?(r=t,t={}):(!t||typeof t!="object")&&(t={mode:t});var i=t.mode,o=t.fs||md;i===void 0&&(i=vd),n||(n=null);var a=r||function(){};e=xn.resolve(e),o.mkdir(e,i,function(s){if(!s)return n=n||e,a(null,n);switch(s.code){case"ENOENT":if(xn.dirname(e)===e)return a(s);Rr(xn.dirname(e),t,function(u,c){u?a(u,c):Rr(e,t,a,c)});break;default:o.stat(e,function(u,c){u||!c.isDirectory()?a(s,n):a(null,n)});break}})}Rr.sync=function e(t,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,o=r.fs||md;i===void 0&&(i=vd),n||(n=null),t=xn.resolve(t);try{o.mkdirSync(t,i),n=n||t}catch(s){switch(s.code){case"ENOENT":n=e(xn.dirname(t),r,n),e(t,r,n);break;default:var a;try{a=o.statSync(t)}catch(u){throw s}if(!a.isDirectory())throw s;break}}return n}});var ro=X((GO,wd)=>{wd.exports=su;function su(e){if(e._collected)return;if(e._paused)return e.on("resume",su.bind(null,e));e._collected=!0,e.pause(),e.on("data",r),e.on("end",r);var t=[];function r(a){typeof a=="string"&&(a=new Buffer(a)),!(Buffer.isBuffer(a)&&!a.length)&&t.push(a)}e.on("entry",i);var n=[];function i(a){su(a),n.push(a)}e.on("proxy",o);function o(a){a.pause()}e.pipe=function(a){return function(s){var u=0;(function f(){var h=n[u++];if(!h)return c();h.on("end",f),s?s.add(h):e.emit("entry",h)})();function c(){e.removeListener("entry",i),e.removeListener("data",r),e.removeListener("end",r),e.pipe=a,s&&e.pipe(s),t.forEach(function(f){f?e.emit("data",f):e.emit("end")}),e.resume()}return s}}(e.pipe)}});var uu=X((KO,Ed)=>{Ed.exports=Kt;var no=qr(),M0=_e(),F0=au(),_d=require("path"),R0=ro();M0(Kt,no);function Kt(e){var t=this;t instanceof Kt||t.error("DirWriter must be called as constructor.",null,!0),(e.type!=="Directory"||!e.Directory)&&t.error("Non-directory type "+e.type+" "+JSON.stringify(e),null,!0),no.call(this,e)}Kt.prototype._create=function(){var e=this;F0(e._path,no.dirmode,function(t){if(t)return e.error(t);e.ready=!0,e.emit("ready"),e._process()})};Kt.prototype.write=function(){return!0};Kt.prototype.end=function(){this._ended=!0,this._process()};Kt.prototype.add=function(e){var t=this;return R0(e),!t.ready||t._currentEntry?(t._buffer.push(e),!1):t._ended?t.error("add after end"):(t._buffer.push(e),t._process(),this._buffer.length===0)};Kt.prototype._process=function(){var e=this;if(e._processing)return;var t=e._buffer.shift();if(!t){e.emit("drain"),e._ended&&e._finish();return}e._processing=!0,e.emit("entry",t);var r=t,n;do{if(n=r._path||r.path,n===e.root._path||n===e._path||n&&n.indexOf(e._path)===0)return e._processing=!1,t._collected&&t.pipe(),e._process();r=r.parent}while(r);var i={parent:e,root:e.root||e,type:t.type,depth:e.depth+1};n=t._path||t.path||t.props.path,t.parent&&(n=n.substr(t.parent._path.length+1)),i.path=_d.join(e.path,_d.join("/",n)),i.filter=e.filter,Object.keys(t.props).forEach(function(u){i.hasOwnProperty(u)||(i[u]=t.props[u])});var o=e._currentChild=new no(i);o.on("ready",function(){t.pipe(o),t.resume()}),o.on("error",function(u){o._swallowErrors?(e.warn(u),o.emit("end"),o.emit("close")):e.emit("error",u)}),o.on("close",s);var a=!1;function s(){a||(a=!0,e._currentChild=null,e._processing=!1,e._process())}}});var lu=X((YO,Cd)=>{Cd.exports=Cn;var Sd=yt(),Td=qr(),q0=_e(),B0=require("path"),U0=ou();q0(Cn,Td);function Cn(e){var t=this;if(!(t instanceof Cn))throw new Error("LinkWriter must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="SymbolicLink"&&e.SymbolicLink))throw new Error("Non-link type "+e.type);e.linkpath===""&&(e.linkpath="."),e.linkpath||t.error("Need linkpath property to create "+e.type),Td.call(this,e)}Cn.prototype._create=function(){var e=this,t=e.type==="Link"||process.platform==="win32",r=t?"link":"symlink",n=t?B0.resolve(e.dirname,e.linkpath):e.linkpath;if(t)return Od(e,n,r);Sd.readlink(e._path,function(i,o){if(o&&o===n)return xd(e);Od(e,n,r)})};function Od(e,t,r){U0(e._path,function(n){if(n)return e.error(n);W0(e,t,r)})}function W0(e,t,r){Sd[r](t,e._path,function(n){if(n)if((n.code==="ENOENT"||n.code==="EACCES"||n.code==="EPERM")&&process.platform==="win32")e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),e.end=e._finish=function(){};else return e.error(n);xd(e)})}function xd(e){e.ready=!0,e.emit("ready"),e._ended&&!e._finished&&e._finish()}Cn.prototype.end=function(){this._ended=!0,this.ready&&(this._finished=!0,this._finish())}});var cu=X((QO,Nd)=>{Nd.exports=yr;var X0=yt(),io=qr(),V0=_e(),Dd={};V0(yr,io);function yr(e){var t=this;if(!(t instanceof yr))throw new Error("FileWriter must be called as constructor.");if(e.type!=="File"||!e.File)throw new Error("Non-file type "+e.type);t._buffer=[],t._bytesWritten=0,io.call(this,e)}yr.prototype._create=function(){var e=this;if(!e._stream){var t={};e.props.flags&&(t.flags=e.props.flags),t.mode=io.filemode,e._old&&e._old.blksize&&(t.bufferSize=e._old.blksize),e._stream=X0.createWriteStream(e._path,t),e._stream.on("open",function(){e.ready=!0,e._buffer.forEach(function(r){r===Dd?e._stream.end():e._stream.write(r)}),e.emit("ready"),e.emit("drain")}),e._stream.on("error",function(r){e.emit("error",r)}),e._stream.on("drain",function(){e.emit("drain")}),e._stream.on("close",function(){e._finish()})}};yr.prototype.write=function(e){var t=this;if(t._bytesWritten+=e.length,!t.ready){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new Error("invalid write data");return t._buffer.push(e),!1}var r=t._stream.write(e);return r===!1&&t._stream._queue?t._stream._queue.length<=2:r};yr.prototype.end=function(e){var t=this;return e&&t.write(e),t.ready?t._stream.end():(t._buffer.push(Dd),!1)};yr.prototype._finish=function(){var e=this;typeof e.size=="number"&&e._bytesWritten!==e.size&&e.error(`Did not get expected byte count.
expect: `+e.size+`
actual: `+e._bytesWritten),io.prototype._finish.call(e)}});var hu=X((JO,kd)=>{kd.exports=Yt;var fu=qr(),$0=mn(),H0=_e(),z0=ro(),G0=require("fs");H0(Yt,fu);function Yt(e){var t=this;if(!(t instanceof Yt))throw new Error("ProxyWriter must be called as constructor.");t.props=e,t._needDrain=!1,fu.call(t,e)}Yt.prototype._stat=function(){var e=this,t=e.props,r=t.follow?"stat":"lstat";G0[r](t.path,function(n,i){var o;n||!i?o="File":o=$0(i),t[o]=!0,t.type=e.type=o,e._old=i,e._addProxy(fu(t,i))})};Yt.prototype._addProxy=function(e){var t=this;if(t._proxy)return t.error("proxy already set");t._proxy=e,["ready","error","close","pipe","drain","warn"].forEach(function(n){e.on(n,t.emit.bind(t,n))}),t.emit("proxy",e);var r=t._buffer;r.forEach(function(n){e[n[0]].apply(e,n[1])}),t._buffer.length=0,t._needsDrain&&t.emit("drain")};Yt.prototype.add=function(e){return z0(e),this._proxy?this._proxy.add(e):(this._buffer.push(["add",[e]]),this._needDrain=!0,!1)};Yt.prototype.write=function(e){return this._proxy?this._proxy.write(e):(this._buffer.push(["write",[e]]),this._needDrain=!0,!1)};Yt.prototype.end=function(e){return this._proxy?this._proxy.end(e):(this._buffer.push(["end",[e]]),!1)}});var qr=X((ZO,qd)=>{qd.exports=et;var Ze=yt(),K0=_e(),Y0=ou(),Q0=au(),Dn=require("path"),Ad=process.platform==="win32"?0:process.umask(),Pd=mn(),Ld=Bi();K0(et,Ld);et.dirmode=parseInt("0777",8)&~Ad;et.filemode=parseInt("0666",8)&~Ad;var J0=uu(),Z0=lu(),eE=cu(),tE=hu();function et(e,t){var r=this;typeof e=="string"&&(e={path:e});var n=Pd(e),i=et;switch(n){case"Directory":i=J0;break;case"File":i=eE;break;case"Link":case"SymbolicLink":i=Z0;break;case null:default:i=tE;break}if(!(r instanceof i))return new i(e);Ld.call(r),e.path||r.error("Must provide a path",null,!0),r.type=e.type,r.props=e,r.depth=e.depth||0,r.clobber=e.clobber===!1?e.clobber:!0,r.parent=e.parent||null,r.root=e.root||e.parent&&e.parent.root||r,r._path=r.path=Dn.resolve(e.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=Dn.basename(e.path),r.dirname=Dn.dirname(e.path),r.linkpath=e.linkpath||null,e.parent=e.root=null,r.size=e.size,typeof e.mode=="string"&&(e.mode=parseInt(e.mode,8)),r.readable=!1,r.writable=!0,r._buffer=[],r.ready=!1,r.filter=typeof e.filter=="function"?e.filter:null,r._stat(t)}et.prototype._create=function(){var e=this;Ze[e.props.follow?"stat":"lstat"](e._path,function(t){if(t)return e.warn("Cannot create "+e._path+`
Unsupported type: `+e.type,"ENOTSUP");e._finish()})};et.prototype._stat=function(e){var t=this,r=t.props,n=r.follow?"stat":"lstat",i=t._proxy||t;e?o(null,e):Ze[n](t._path,o);function o(a,s){if(t.filter&&!t.filter.call(i,i,s)){t._aborted=!0,t.emit("end"),t.emit("close");return}if(a||!s)return pu(t);t._old=s;var u=Pd(s);if(u!==t.type||t.type==="File"&&s.nlink>1)return Y0(t._path,function(c){if(c)return t.error(c);t._old=null,pu(t)});pu(t)}};function pu(e){Q0(Dn.dirname(e._path),et.dirmode,function(t,r){return t?e.error(t):(e._madeDir=r,e._create())})}function Id(e,t,r,n,i){var o=t.mode,a=t.follow||e.type!=="SymbolicLink"?"chmod":"lchmod";if(!Ze[a]||typeof o!="number")return i();var s=r.mode&parseInt("0777",8);if(o=o&parseInt("0777",8),o===s)return i();Ze[a](n,o,i)}function jd(e,t,r,n,i){if(process.platform==="win32"||!process.getuid||process.getuid()!==0||typeof t.uid!="number"&&typeof t.gid!="number"||r.uid===t.uid&&r.gid===t.gid)return i();var o=e.props.follow||e.type!=="SymbolicLink"?"chown":"lchown";if(!Ze[o])return i();typeof t.uid!="number"&&(t.uid=r.uid),typeof t.gid!="number"&&(t.gid=r.gid),Ze[o](n,t.uid,t.gid,i)}function Md(e,t,r,n,i){if(!Ze.utimes||process.platform==="win32")return i();var o=t.follow||e.type!=="SymbolicLink"?"utimes":"lutimes";if(o==="lutimes"&&!Ze[o]&&(o="utimes"),!Ze[o])return i();var a=r.atime,s=r.mtime,u=t.atime,c=t.mtime;if(u===void 0&&(u=a),c===void 0&&(c=s),Rd(u)||(u=new Date(u)),Rd(c)||(u=new Date(c)),u.getTime()===a.getTime()&&c.getTime()===s.getTime())return i();Ze[o](n,u,c,i)}et.prototype._finish=function(){var e=this;if(e._finishing)return;e._finishing=!0;var t=0,r=null,n=!1;if(e._old)e._old.atime=new Date(0),e._old.mtime=new Date(0),o(e._old);else{var i=e.props.follow?"stat":"lstat";Ze[i](e._path,function(s,u){if(s)if(s.code==="ENOENT"&&(e.type==="Link"||e.type==="SymbolicLink")&&process.platform==="win32"){e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),e.end=e._finish=function(){};return}else return e.error(s);o(e._old=u)})}return;function o(s){t+=3,Id(e,e.props,s,e._path,a("chmod")),jd(e,e.props,s,e._path,a("chown")),Md(e,e.props,s,e._path,a("utimes"))}function a(s){return function(u){if(r)return;if(u)return u.fstream_finish_call=s,e.error(r=u);if(--t>0||n)return;if(n=!0,e._madeDir)Fd(e,e._path,c);else return c();function c(f){if(f)return f.fstream_finish_call="setupMadeDir",e.error(f);e.emit("end"),e.emit("close")}}}};function Fd(e,t,r){var n=e._madeDir,i=Dn.dirname(t);rE(e,i,function(o){if(o)return r(o);if(i===n)return r();Fd(e,i,r)})}function rE(e,t,r){var n={};Object.keys(e.props).forEach(function(s){n[s]=e.props[s],s==="mode"&&e.type!=="Directory"&&(n[s]=n[s]|parseInt("0111",8))});var i=3,o=null;Ze.stat(t,function(s,u){if(s)return r(o=s);Id(e,n,u,t,a),jd(e,n,u,t,a),Md(e,n,u,t,a)});function a(s){if(!o){if(s)return r(o=s);if(--i==0)return r()}}}et.prototype.pipe=function(){this.error("Can't pipe from writable stream")};et.prototype.add=function(){this.error("Can't add to non-Directory type")};et.prototype.write=function(){return!0};function nE(e){return Object.prototype.toString.call(e)}function Rd(e){return typeof e=="object"&&nE(e)==="[object Date]"}});var du=X(pe=>{pe.Abstract=Bi();pe.Reader=lr();pe.Writer=qr();pe.File={Reader:Cs(),Writer:cu()};pe.Dir={Reader:xs(),Writer:uu()};pe.Link={Reader:Ts(),Writer:lu()};pe.Proxy={Reader:Ns(),Writer:hu()};pe.Reader.Dir=pe.DirReader=pe.Dir.Reader;pe.Reader.File=pe.FileReader=pe.File.Reader;pe.Reader.Link=pe.LinkReader=pe.Link.Reader;pe.Reader.Proxy=pe.ProxyReader=pe.Proxy.Reader;pe.Writer.Dir=pe.DirWriter=pe.Dir.Writer;pe.Writer.File=pe.FileWriter=pe.File.Writer;pe.Writer.Link=pe.LinkWriter=pe.Link.Writer;pe.Writer.Proxy=pe.ProxyWriter=pe.Proxy.Writer;pe.collect=ro()});var Ud=X((tx,Bd)=>{Bd.exports=lE;var iE=Di(),oE=du().Writer,gu=require("path"),aE=require("stream"),sE=ms(),uE=Bt();function lE(e){e.path=gu.resolve(gu.normalize(e.path));var t=new iE(e),r=new aE.Writable({objectMode:!0});r._write=function(i,o,a){if(i.type=="Directory")return a();var s=gu.join(e.path,i.path);if(s.indexOf(e.path)!=0)return a();let u=e.getWriter?e.getWriter({path:s}):oE({path:s});i.pipe(u).on("error",a).on("close",a)};var n=sE(t,r);return t.once("crx-header",function(i){n.crxHeader=i}),t.pipe(r).on("finish",function(){n.emit("close")}),n.promise=function(){return new uE(function(i,o){n.on("close",i),n.on("error",o)})},n}});var Wd=X((rx,oo)=>{var Pe=function(e){"use strict";var t=1e7,r=7,n=9007199254740992,i=d(n),o="0123456789abcdefghijklmnopqrstuvwxyz",a=typeof BigInt=="function";function s(S,D,x,N){return typeof S=="undefined"?s[0]:typeof D!="undefined"?+D==10&&!x?ae(S):it(S,D,x,N):ae(S)}function u(S,D){this.value=S,this.sign=D,this.isSmall=!1}u.prototype=Object.create(s.prototype);function c(S){this.value=S,this.sign=S<0,this.isSmall=!0}c.prototype=Object.create(s.prototype);function f(S){this.value=S}f.prototype=Object.create(s.prototype);function h(S){return-n<S&&S<n}function d(S){return S<1e7?[S]:S<1e14?[S%1e7,Math.floor(S/1e7)]:[S%1e7,Math.floor(S/1e7)%1e7,Math.floor(S/1e14)]}function p(S){g(S);var D=S.length;if(D<4&&Q(S,i)<0)switch(D){case 0:return 0;case 1:return S[0];case 2:return S[0]+S[1]*t;default:return S[0]+(S[1]+S[2]*t)*t}return S}function g(S){for(var D=S.length;S[--D]===0;);S.length=D+1}function m(S){for(var D=new Array(S),x=-1;++x<S;)D[x]=0;return D}function E(S){return S>0?Math.floor(S):Math.ceil(S)}function _(S,D){var x=S.length,N=D.length,F=new Array(x),j=0,W=t,$,z;for(z=0;z<N;z++)$=S[z]+D[z]+j,j=$>=W?1:0,F[z]=$-j*W;for(;z<x;)$=S[z]+j,j=$===W?1:0,F[z++]=$-j*W;return j>0&&F.push(j),F}function b(S,D){return S.length>=D.length?_(S,D):_(D,S)}function v(S,D){var x=S.length,N=new Array(x),F=t,j,W;for(W=0;W<x;W++)j=S[W]-F+D,D=Math.floor(j/F),N[W]=j-D*F,D+=1;for(;D>0;)N[W++]=D%F,D=Math.floor(D/F);return N}u.prototype.add=function(S){var D=ae(S);if(this.sign!==D.sign)return this.subtract(D.negate());var x=this.value,N=D.value;return D.isSmall?new u(v(x,Math.abs(N)),this.sign):new u(b(x,N),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(S){var D=ae(S),x=this.value;if(x<0!==D.sign)return this.subtract(D.negate());var N=D.value;if(D.isSmall){if(h(x+N))return new c(x+N);N=d(Math.abs(N))}return new u(v(N,Math.abs(x)),x<0)},c.prototype.plus=c.prototype.add,f.prototype.add=function(S){return new f(this.value+ae(S).value)},f.prototype.plus=f.prototype.add;function y(S,D){var x=S.length,N=D.length,F=new Array(x),j=0,W=t,$,z;for($=0;$<N;$++)z=S[$]-j-D[$],z<0?(z+=W,j=1):j=0,F[$]=z;for($=N;$<x;$++){if(z=S[$]-j,z<0)z+=W;else{F[$++]=z;break}F[$]=z}for(;$<x;$++)F[$]=S[$];return g(F),F}function w(S,D,x){var N;return Q(S,D)>=0?N=y(S,D):(N=y(D,S),x=!x),N=p(N),typeof N=="number"?(x&&(N=-N),new c(N)):new u(N,x)}function O(S,D,x){var N=S.length,F=new Array(N),j=-D,W=t,$,z;for($=0;$<N;$++)z=S[$]+j,j=Math.floor(z/W),z%=W,F[$]=z<0?z+W:z;return F=p(F),typeof F=="number"?(x&&(F=-F),new c(F)):new u(F,x)}u.prototype.subtract=function(S){var D=ae(S);if(this.sign!==D.sign)return this.add(D.negate());var x=this.value,N=D.value;return D.isSmall?O(x,Math.abs(N),this.sign):w(x,N,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(S){var D=ae(S),x=this.value;if(x<0!==D.sign)return this.add(D.negate());var N=D.value;return D.isSmall?new c(x-N):O(N,Math.abs(x),x>=0)},c.prototype.minus=c.prototype.subtract,f.prototype.subtract=function(S){return new f(this.value-ae(S).value)},f.prototype.minus=f.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var S=this.sign,D=new c(-this.value);return D.sign=!S,D},f.prototype.negate=function(){return new f(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},f.prototype.abs=function(){return new f(this.value>=0?this.value:-this.value)};function P(S,D){var x=S.length,N=D.length,F=x+N,j=m(F),W=t,$,z,Z,ie,ne;for(Z=0;Z<x;++Z){ie=S[Z];for(var le=0;le<N;++le)ne=D[le],$=ie*ne+j[Z+le],z=Math.floor($/W),j[Z+le]=$-z*W,j[Z+le+1]+=z}return g(j),j}function T(S,D){var x=S.length,N=new Array(x),F=t,j=0,W,$;for($=0;$<x;$++)W=S[$]*D+j,j=Math.floor(W/F),N[$]=W-j*F;for(;j>0;)N[$++]=j%F,j=Math.floor(j/F);return N}function L(S,D){for(var x=[];D-- >0;)x.push(0);return x.concat(S)}function A(S,D){var x=Math.max(S.length,D.length);if(x<=30)return P(S,D);x=Math.ceil(x/2);var N=S.slice(x),F=S.slice(0,x),j=D.slice(x),W=D.slice(0,x),$=A(F,W),z=A(N,j),Z=A(b(F,N),b(W,j)),ie=b(b($,L(y(y(Z,$),z),x)),L(z,2*x));return g(ie),ie}function M(S,D){return-.012*S-.012*D+15e-6*S*D>0}u.prototype.multiply=function(S){var D=ae(S),x=this.value,N=D.value,F=this.sign!==D.sign,j;if(D.isSmall){if(N===0)return s[0];if(N===1)return this;if(N===-1)return this.negate();if(j=Math.abs(N),j<t)return new u(T(x,j),F);N=d(j)}return M(x.length,N.length)?new u(A(x,N),F):new u(P(x,N),F)},u.prototype.times=u.prototype.multiply;function B(S,D,x){return S<t?new u(T(D,S),x):new u(P(D,d(S)),x)}c.prototype._multiplyBySmall=function(S){return h(S.value*this.value)?new c(S.value*this.value):B(Math.abs(S.value),d(Math.abs(this.value)),this.sign!==S.sign)},u.prototype._multiplyBySmall=function(S){return S.value===0?s[0]:S.value===1?this:S.value===-1?this.negate():B(Math.abs(S.value),this.value,this.sign!==S.sign)},c.prototype.multiply=function(S){return ae(S)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,f.prototype.multiply=function(S){return new f(this.value*ae(S).value)},f.prototype.times=f.prototype.multiply;function G(S){var D=S.length,x=m(D+D),N=t,F,j,W,$,z;for(W=0;W<D;W++){$=S[W],j=0-$*$;for(var Z=W;Z<D;Z++)z=S[Z],F=2*($*z)+x[W+Z]+j,j=Math.floor(F/N),x[W+Z]=F-j*N;x[W+D]=j}return g(x),x}u.prototype.square=function(){return new u(G(this.value),!1)},c.prototype.square=function(){var S=this.value*this.value;return h(S)?new c(S):new u(G(d(Math.abs(this.value))),!1)},f.prototype.square=function(S){return new f(this.value*this.value)};function te(S,D){var x=S.length,N=D.length,F=t,j=m(D.length),W=D[N-1],$=Math.ceil(F/(2*W)),z=T(S,$),Z=T(D,$),ie,ne,le,Oe,Be,Kr,va;for(z.length<=x&&z.push(0),Z.push(0),W=Z[N-1],ne=x-N;ne>=0;ne--){for(ie=F-1,z[ne+N]!==W&&(ie=Math.floor((z[ne+N]*F+z[ne+N-1])/W)),le=0,Oe=0,Kr=Z.length,Be=0;Be<Kr;Be++)le+=ie*Z[Be],va=Math.floor(le/F),Oe+=z[ne+Be]-(le-va*F),le=va,Oe<0?(z[ne+Be]=Oe+F,Oe=-1):(z[ne+Be]=Oe,Oe=0);for(;Oe!==0;){for(ie-=1,le=0,Be=0;Be<Kr;Be++)le+=z[ne+Be]-F+Z[Be],le<0?(z[ne+Be]=le+F,le=0):(z[ne+Be]=le,le=1);Oe+=le}j[ne]=ie}return z=U(z,$)[0],[p(j),p(z)]}function R(S,D){for(var x=S.length,N=D.length,F=[],j=[],W=t,$,z,Z,ie,ne;x;){if(j.unshift(S[--x]),g(j),Q(j,D)<0){F.push(0);continue}z=j.length,Z=j[z-1]*W+j[z-2],ie=D[N-1]*W+D[N-2],z>N&&(Z=(Z+1)*W),$=Math.ceil(Z/ie);do{if(ne=T(D,$),Q(ne,j)<=0)break;$--}while($);F.push($),j=y(j,ne)}return F.reverse(),[p(F),p(j)]}function U(S,D){var x=S.length,N=m(x),F=t,j,W,$,z;for($=0,j=x-1;j>=0;--j)z=$*F+S[j],W=E(z/D),$=z-W*D,N[j]=W|0;return[N,$|0]}function Y(S,D){var x,N=ae(D);if(a)return[new f(S.value/N.value),new f(S.value%N.value)];var F=S.value,j=N.value,W;if(j===0)throw new Error("Cannot divide by zero");if(S.isSmall)return N.isSmall?[new c(E(F/j)),new c(F%j)]:[s[0],S];if(N.isSmall){if(j===1)return[S,s[0]];if(j==-1)return[S.negate(),s[0]];var $=Math.abs(j);if($<t){x=U(F,$),W=p(x[0]);var z=x[1];return S.sign&&(z=-z),typeof W=="number"?(S.sign!==N.sign&&(W=-W),[new c(W),new c(z)]):[new u(W,S.sign!==N.sign),new c(z)]}j=d($)}var Z=Q(F,j);if(Z===-1)return[s[0],S];if(Z===0)return[s[S.sign===N.sign?1:-1],s[0]];F.length+j.length<=200?x=te(F,j):x=R(F,j),W=x[0];var ie=S.sign!==N.sign,ne=x[1],le=S.sign;return typeof W=="number"?(ie&&(W=-W),W=new c(W)):W=new u(W,ie),typeof ne=="number"?(le&&(ne=-ne),ne=new c(ne)):ne=new u(ne,le),[W,ne]}u.prototype.divmod=function(S){var D=Y(this,S);return{quotient:D[0],remainder:D[1]}},f.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(S){return Y(this,S)[0]},f.prototype.over=f.prototype.divide=function(S){return new f(this.value/ae(S).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(S){return Y(this,S)[1]},f.prototype.mod=f.prototype.remainder=function(S){return new f(this.value%ae(S).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(S){var D=ae(S),x=this.value,N=D.value,F,j,W;if(N===0)return s[1];if(x===0)return s[0];if(x===1)return s[1];if(x===-1)return D.isEven()?s[1]:s[-1];if(D.sign)return s[0];if(!D.isSmall)throw new Error("The exponent "+D.toString()+" is too large.");if(this.isSmall&&h(F=Math.pow(x,N)))return new c(E(F));for(j=this,W=s[1];N&!0&&(W=W.times(j),--N),N!==0;)N/=2,j=j.square();return W},c.prototype.pow=u.prototype.pow,f.prototype.pow=function(S){var D=ae(S),x=this.value,N=D.value,F=BigInt(0),j=BigInt(1),W=BigInt(2);if(N===F)return s[1];if(x===F)return s[0];if(x===j)return s[1];if(x===BigInt(-1))return D.isEven()?s[1]:s[-1];if(D.isNegative())return new f(F);for(var $=this,z=s[1];(N&j)===j&&(z=z.times($),--N),N!==F;)N/=W,$=$.square();return z},u.prototype.modPow=function(S,D){if(S=ae(S),D=ae(D),D.isZero())throw new Error("Cannot take modPow with modulus 0");var x=s[1],N=this.mod(D);for(S.isNegative()&&(S=S.multiply(s[-1]),N=N.modInv(D));S.isPositive();){if(N.isZero())return s[0];S.isOdd()&&(x=x.multiply(N).mod(D)),S=S.divide(2),N=N.square().mod(D)}return x},f.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function Q(S,D){if(S.length!==D.length)return S.length>D.length?1:-1;for(var x=S.length-1;x>=0;x--)if(S[x]!==D[x])return S[x]>D[x]?1:-1;return 0}u.prototype.compareAbs=function(S){var D=ae(S),x=this.value,N=D.value;return D.isSmall?1:Q(x,N)},c.prototype.compareAbs=function(S){var D=ae(S),x=Math.abs(this.value),N=D.value;return D.isSmall?(N=Math.abs(N),x===N?0:x>N?1:-1):-1},f.prototype.compareAbs=function(S){var D=this.value,x=ae(S).value;return D=D>=0?D:-D,x=x>=0?x:-x,D===x?0:D>x?1:-1},u.prototype.compare=function(S){if(S===1/0)return-1;if(S===-1/0)return 1;var D=ae(S),x=this.value,N=D.value;return this.sign!==D.sign?D.sign?1:-1:D.isSmall?this.sign?-1:1:Q(x,N)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(S){if(S===1/0)return-1;if(S===-1/0)return 1;var D=ae(S),x=this.value,N=D.value;return D.isSmall?x==N?0:x>N?1:-1:x<0!==D.sign?x<0?-1:1:x<0?1:-1},c.prototype.compareTo=c.prototype.compare,f.prototype.compare=function(S){if(S===1/0)return-1;if(S===-1/0)return 1;var D=this.value,x=ae(S).value;return D===x?0:D>x?1:-1},f.prototype.compareTo=f.prototype.compare,u.prototype.equals=function(S){return this.compare(S)===0},f.prototype.eq=f.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(S){return this.compare(S)!==0},f.prototype.neq=f.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(S){return this.compare(S)>0},f.prototype.gt=f.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(S){return this.compare(S)<0},f.prototype.lt=f.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(S){return this.compare(S)>=0},f.prototype.geq=f.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(S){return this.compare(S)<=0},f.prototype.leq=f.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)==0},c.prototype.isEven=function(){return(this.value&1)==0},f.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)==1},c.prototype.isOdd=function(){return(this.value&1)==1},f.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},f.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},f.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},f.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},f.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(S){var D=ae(S);return D.isZero()?!1:D.isUnit()?!0:D.compareAbs(2)===0?this.isEven():this.mod(D).isZero()},f.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function I(S){var D=S.abs();if(D.isUnit())return!1;if(D.equals(2)||D.equals(3)||D.equals(5))return!0;if(D.isEven()||D.isDivisibleBy(3)||D.isDivisibleBy(5))return!1;if(D.lesser(49))return!0}function V(S,D){for(var x=S.prev(),N=x,F=0,j,W,$,z;N.isEven();)N=N.divide(2),F++;e:for($=0;$<D.length;$++)if(!S.lesser(D[$])&&(z=Pe(D[$]).modPow(N,S),!(z.isUnit()||z.equals(x)))){for(j=F-1;j!=0;j--){if(z=z.square().mod(S),z.isUnit())return!1;if(z.equals(x))continue e}return!1}return!0}u.prototype.isPrime=function(S){var D=I(this);if(D!==e)return D;var x=this.abs(),N=x.bitLength();if(N<=64)return V(x,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var F=Math.log(2)*N.toJSNumber(),j=Math.ceil(S===!0?2*Math.pow(F,2):F),W=[],$=0;$<j;$++)W.push(Pe($+2));return V(x,W)},f.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(S,D){var x=I(this);if(x!==e)return x;for(var N=this.abs(),F=S===e?5:S,j=[],W=0;W<F;W++)j.push(Pe.randBetween(2,N.minus(2),D));return V(N,j)},f.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(S){for(var D=Pe.zero,x=Pe.one,N=ae(S),F=this.abs(),j,W,$;!F.isZero();)j=N.divide(F),W=D,$=N,D=x,N=F,x=W.subtract(j.multiply(x)),F=$.subtract(j.multiply(F));if(!N.isUnit())throw new Error(this.toString()+" and "+S.toString()+" are not co-prime");return D.compare(0)===-1&&(D=D.add(S)),this.isNegative()?D.negate():D},f.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var S=this.value;return this.sign?O(S,1,this.sign):new u(v(S,1),this.sign)},c.prototype.next=function(){var S=this.value;return S+1<n?new c(S+1):new u(i,!1)},f.prototype.next=function(){return new f(this.value+BigInt(1))},u.prototype.prev=function(){var S=this.value;return this.sign?new u(v(S,1),!0):O(S,1,this.sign)},c.prototype.prev=function(){var S=this.value;return S-1>-n?new c(S-1):new u(i,!0)},f.prototype.prev=function(){return new f(this.value-BigInt(1))};for(var K=[1];2*K[K.length-1]<=t;)K.push(2*K[K.length-1]);var J=K.length,ee=K[J-1];function re(S){return Math.abs(S)<=t}u.prototype.shiftLeft=function(S){var D=ae(S).toJSNumber();if(!re(D))throw new Error(String(D)+" is too large for shifting.");if(D<0)return this.shiftRight(-D);var x=this;if(x.isZero())return x;for(;D>=J;)x=x.multiply(ee),D-=J-1;return x.multiply(K[D])},f.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(S){var D,x=ae(S).toJSNumber();if(!re(x))throw new Error(String(x)+" is too large for shifting.");if(x<0)return this.shiftLeft(-x);for(var N=this;x>=J;){if(N.isZero()||N.isNegative()&&N.isUnit())return N;D=Y(N,ee),N=D[1].isNegative()?D[0].prev():D[0],x-=J-1}return D=Y(N,K[x]),D[1].isNegative()?D[0].prev():D[0]},f.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function ue(S,D,x){D=ae(D);for(var N=S.isNegative(),F=D.isNegative(),j=N?S.not():S,W=F?D.not():D,$=0,z=0,Z=null,ie=null,ne=[];!j.isZero()||!W.isZero();)Z=Y(j,ee),$=Z[1].toJSNumber(),N&&($=ee-1-$),ie=Y(W,ee),z=ie[1].toJSNumber(),F&&(z=ee-1-z),j=Z[0],W=ie[0],ne.push(x($,z));for(var le=x(N?1:0,F?1:0)!==0?Pe(-1):Pe(0),Oe=ne.length-1;Oe>=0;Oe-=1)le=le.multiply(ee).add(Pe(ne[Oe]));return le}u.prototype.not=function(){return this.negate().prev()},f.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(S){return ue(this,S,function(D,x){return D&x})},f.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(S){return ue(this,S,function(D,x){return D|x})},f.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(S){return ue(this,S,function(D,x){return D^x})},f.prototype.xor=c.prototype.xor=u.prototype.xor;var k=1<<30,C=(t&-t)*(t&-t)|k;function H(S){var D=S.value,x=typeof D=="number"?D|k:typeof D=="bigint"?D|BigInt(k):D[0]+D[1]*t|C;return x&-x}function q(S,D){if(D.compareTo(S)<=0){var x=q(S,D.square(D)),N=x.p,F=x.e,j=N.multiply(D);return j.compareTo(S)<=0?{p:j,e:F*2+1}:{p:N,e:F*2}}return{p:Pe(1),e:0}}u.prototype.bitLength=function(){var S=this;return S.compareTo(Pe(0))<0&&(S=S.negate().subtract(Pe(1))),S.compareTo(Pe(0))===0?Pe(0):Pe(q(S,Pe(2)).e).add(Pe(1))},f.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function se(S,D){return S=ae(S),D=ae(D),S.greater(D)?S:D}function ce(S,D){return S=ae(S),D=ae(D),S.lesser(D)?S:D}function ve(S,D){if(S=ae(S).abs(),D=ae(D).abs(),S.equals(D))return S;if(S.isZero())return D;if(D.isZero())return S;for(var x=s[1],N,F;S.isEven()&&D.isEven();)N=ce(H(S),H(D)),S=S.divide(N),D=D.divide(N),x=x.multiply(N);for(;S.isEven();)S=S.divide(H(S));do{for(;D.isEven();)D=D.divide(H(D));S.greater(D)&&(F=D,D=S,S=F),D=D.subtract(S)}while(!D.isZero());return x.isUnit()?S:S.multiply(x)}function Se(S,D){return S=ae(S).abs(),D=ae(D).abs(),S.divide(ve(S,D)).multiply(D)}function De(S,D,x){S=ae(S),D=ae(D);var N=x||Math.random,F=ce(S,D),j=se(S,D),W=j.subtract(F).add(1);if(W.isSmall)return F.add(Math.floor(N()*W));for(var $=ot(W,t).value,z=[],Z=!0,ie=0;ie<$.length;ie++){var ne=Z?$[ie]+(ie+1<$.length?$[ie+1]/t:0):t,le=E(N()*ne);z.push(le),le<$[ie]&&(Z=!1)}return F.add(s.fromArray(z,t,!1))}var it=function(S,D,x,N){x=x||o,S=String(S),N||(S=S.toLowerCase(),x=x.toLowerCase());var F=S.length,j,W=Math.abs(D),$={};for(j=0;j<x.length;j++)$[x[j]]=j;for(j=0;j<F;j++){var z=S[j];if(z!=="-"&&z in $&&$[z]>=W){if(z==="1"&&W===1)continue;throw new Error(z+" is not a valid digit in base "+D+".")}}D=ae(D);var Z=[],ie=S[0]==="-";for(j=ie?1:0;j<S.length;j++){var z=S[j];if(z in $)Z.push(ae($[z]));else if(z==="<"){var ne=j;do j++;while(S[j]!==">"&&j<S.length);Z.push(ae(S.slice(ne+1,j)))}else throw new Error(z+" is not a valid character")}return Te(Z,D,ie)};function Te(S,D,x){var N=s[0],F=s[1],j;for(j=S.length-1;j>=0;j--)N=N.add(S[j].times(F)),F=F.times(D);return x?N.negate():N}function Ge(S,D){return D=D||o,S<D.length?D[S]:"<"+S+">"}function ot(S,D){if(D=Pe(D),D.isZero()){if(S.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(D.equals(-1)){if(S.isZero())return{value:[0],isNegative:!1};if(S.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-S.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var x=Array.apply(null,Array(S.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return x.unshift([1]),{value:[].concat.apply([],x),isNegative:!1}}var N=!1;if(S.isNegative()&&D.isPositive()&&(N=!0,S=S.abs()),D.isUnit())return S.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(S.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:N};for(var F=[],j=S,W;j.isNegative()||j.compareAbs(D)>=0;){W=j.divmod(D),j=W.quotient;var $=W.remainder;$.isNegative()&&($=D.minus($).abs(),j=j.next()),F.push($.toJSNumber())}return F.push(j.toJSNumber()),{value:F.reverse(),isNegative:N}}function Et(S,D,x){var N=ot(S,D);return(N.isNegative?"-":"")+N.value.map(function(F){return Ge(F,x)}).join("")}u.prototype.toArray=function(S){return ot(this,S)},c.prototype.toArray=function(S){return ot(this,S)},f.prototype.toArray=function(S){return ot(this,S)},u.prototype.toString=function(S,D){if(S===e&&(S=10),S!==10||D)return Et(this,S,D);for(var x=this.value,N=x.length,F=String(x[--N]),j="0000000",W;--N>=0;)W=String(x[N]),F+=j.slice(W.length)+W;var $=this.sign?"-":"";return $+F},c.prototype.toString=function(S,D){return S===e&&(S=10),S!=10||D?Et(this,S,D):String(this.value)},f.prototype.toString=c.prototype.toString,f.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,f.prototype.valueOf=f.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Mt(S){if(h(+S)){var D=+S;if(D===E(D))return a?new f(BigInt(D)):new c(D);throw new Error("Invalid integer: "+S)}var x=S[0]==="-";x&&(S=S.slice(1));var N=S.split(/e/i);if(N.length>2)throw new Error("Invalid integer: "+N.join("e"));if(N.length===2){var F=N[1];if(F[0]==="+"&&(F=F.slice(1)),F=+F,F!==E(F)||!h(F))throw new Error("Invalid integer: "+F+" is not a valid exponent.");var j=N[0],W=j.indexOf(".");if(W>=0&&(F-=j.length-W-1,j=j.slice(0,W)+j.slice(W+1)),F<0)throw new Error("Cannot include negative exponent part for integers");j+=new Array(F+1).join("0"),S=j}var $=/^([0-9][0-9]*)$/.test(S);if(!$)throw new Error("Invalid integer: "+S);if(a)return new f(BigInt(x?"-"+S:S));for(var z=[],Z=S.length,ie=r,ne=Z-ie;Z>0;)z.push(+S.slice(ne,Z)),ne-=ie,ne<0&&(ne=0),Z-=ie;return g(z),new u(z,x)}function Ft(S){if(a)return new f(BigInt(S));if(h(S)){if(S!==E(S))throw new Error(S+" is not an integer.");return new c(S)}return Mt(S.toString())}function ae(S){return typeof S=="number"?Ft(S):typeof S=="string"?Mt(S):typeof S=="bigint"?new f(S):S}for(var Ve=0;Ve<1e3;Ve++)s[Ve]=ae(Ve),Ve>0&&(s[-Ve]=ae(-Ve));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=se,s.min=ce,s.gcd=ve,s.lcm=Se,s.isInstance=function(S){return S instanceof u||S instanceof c||S instanceof f},s.randBetween=De,s.fromArray=function(S,D,x){return Te(S.map(ae),ae(D||10),x)},s}();typeof oo!="undefined"&&oo.hasOwnProperty("exports")&&(oo.exports=Pe);typeof define=="function"&&define.amd&&define(function(){return Pe})});var $d=X((nx,Vd)=>{var Qt=Wd(),ao=require("stream");(!ao.Writable||!ao.Writable.prototype.destroy)&&(ao=Nt());var so;function cE(){var e=3988292384,t,r,n;for(so=[],r=0;r<256;r++){for(t=r,n=0;n<8;n++)t=t&1?e^t>>>1:t=t>>>1;so[r]=t>>>0}}function Xd(e,t){return so||cE(),e.charCodeAt&&(e=e.charCodeAt(0)),Qt(t).shiftRight(8).and(16777215).xor(so[Qt(t).xor(e).and(255)]).value}function Br(){if(!(this instanceof Br))return new Br;this.key0=305419896,this.key1=591751049,this.key2=878082192}Br.prototype.update=function(e){this.key0=Xd(e,this.key0),this.key1=Qt(this.key0).and(255).and(4294967295).add(this.key1),this.key1=Qt(this.key1).multiply(134775813).add(1).and(4294967295).value,this.key2=Xd(Qt(this.key1).shiftRight(24).and(255),this.key2)};Br.prototype.decryptByte=function(e){var t=Qt(this.key2).or(2);return e=e^Qt(t).multiply(Qt(t^1)).shiftRight(8).and(255),this.update(e),e};Br.prototype.stream=function(){var e=ao.Transform(),t=this;return e._transform=function(r,n,i){for(var o=0;o<r.length;o++)r[o]=t.decryptByte(r[o]);this.push(r),i()},e};Vd.exports=Br});var zd=X((ix,Hd)=>{var fE=Bt(),hE=$d(),pE=Si(),Nn=require("stream"),dE=Zr(),gE=require("zlib"),yE=xi(),mE=Er(),vE=Ci();(!Nn.Writable||!Nn.Writable.prototype.destroy)&&(Nn=Nt());Hd.exports=function(t,r,n,i){var o=pE(),a=Nn.PassThrough(),s=t.stream(r);return s.pipe(o).on("error",function(u){a.emit("error",u)}),a.vars=o.pull(30).then(function(u){var c=dE.parse(u).word32lu("signature").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return c.lastModifiedDateTime=vE(c.lastModifiedDate,c.lastModifiedTime),o.pull(c.fileNameLength).then(function(f){return c.fileName=f.toString("utf8"),o.pull(c.extraFieldLength)}).then(function(f){var h;return c.extra=yE(f,c),i&&i.compressedSize&&(c=i),c.flags&1&&(h=o.pull(12).then(function(d){if(!n)throw new Error("MISSING_PASSWORD");var p=hE();String(n).split("").forEach(function(E){p.update(E)});for(var g=0;g<d.length;g++)d[g]=p.decryptByte(d[g]);c.decrypt=p,c.compressedSize-=12;var m=c.flags&8?c.lastModifiedTime>>8&255:c.crc32>>24&255;if(d[11]!==m)throw new Error("BAD_PASSWORD");return c})),fE.resolve(h).then(function(){return a.emit("vars",c),c})})}),a.vars.then(function(u){var c=!(u.flags&8)||u.compressedSize>0,f,h=u.compressionMethod?gE.createInflateRaw():Nn.PassThrough();c?(a.size=u.uncompressedSize,f=u.compressedSize):(f=mE.alloc(4),f.writeUInt32LE(134695760,0));var d=o.stream(f);u.decrypt&&(d=d.pipe(u.decrypt.stream())),d.pipe(h).on("error",function(p){a.emit("error",p)}).pipe(a).on("finish",function(){s.abort?s.abort():s.close?s.close():s.push?s.push():console.log("warning - unable to close stream")})}).catch(function(u){a.emit("error",u)}),a}});var Yd=X((ox,Kd)=>{var kn=Zr(),An=Si(),bE=zd(),Pn=Bt(),wE=Oi(),_E=xi(),EE=Er(),SE=require("path"),TE=du().Writer,OE=Ci(),Gd=EE.alloc(4);Gd.writeUInt32LE(101010256,0);function xE(e){var t=e.stream(0).pipe(An());return t.pull(4).then(function(r){var n=r.readUInt32LE(0);if(n===875721283){var i;return t.pull(12).then(function(o){i=kn.parse(o).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars}).then(function(){return t.pull(i.pubKeyLength+i.signatureLength)}).then(function(o){return i.publicKey=o.slice(0,i.pubKeyLength),i.signature=o.slice(i.pubKeyLength),i.size=16+i.pubKeyLength+i.signatureLength,i})}})}function CE(e,t){var r=kn.parse(t).word32lu("signature").word32lu("diskNumber").word64lu("offsetToStartOfCentralDirectory").word32lu("numberOfDisks").vars;if(r.signature!=117853008)throw new Error("invalid zip64 end of central dir locator signature (0x07064b50): 0x"+r.signature.toString(16));var n=An();return e.stream(r.offsetToStartOfCentralDirectory).pipe(n),n.pull(56)}function DE(e){var t=kn.parse(e).word32lu("signature").word64lu("sizeOfCentralDirectory").word16lu("version").word16lu("versionsNeededToExtract").word32lu("diskNumber").word32lu("diskStart").word64lu("numberOfRecordsOnDisk").word64lu("numberOfRecords").word64lu("sizeOfCentralDirectory").word64lu("offsetToStartOfCentralDirectory").vars;if(t.signature!=101075792)throw new Error("invalid zip64 end of central dir locator signature (0x06064b50): 0x0"+t.signature.toString(16));return t}Kd.exports=function(t,r){var n=An(),i=An(),o=r&&r.tailSize||80,a,s,u,c;return r&&r.crx&&(s=xE(t)),t.size().then(function(f){return a=f,t.stream(Math.max(0,f-o)).on("error",function(h){n.emit("error",h)}).pipe(n),n.pull(Gd)}).then(function(){return Pn.props({directory:n.pull(22),crxHeader:s})}).then(function(f){var h=f.directory;if(u=f.crxHeader&&f.crxHeader.size||0,c=kn.parse(h).word32lu("signature").word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars,c.numberOfRecords==65535||c.numberOfRecords==65535||c.offsetToStartOfCentralDirectory==4294967295){let d=20,p=a-(o-n.match+d),g=An();return t.stream(p).pipe(g),g.pull(d).then(function(m){return CE(t,m)}).then(function(m){c=DE(m)})}else c.offsetToStartOfCentralDirectory+=u}).then(function(){return t.stream(c.offsetToStartOfCentralDirectory).pipe(i),c.extract=function(f){if(!f||!f.path)throw new Error("PATH_MISSING");return c.files.then(function(h){return Pn.map(h,function(d){if(d.type!="Directory"){var p=SE.join(f.path,d.path);if(p.indexOf(f.path)==0){var g=f.getWriter?f.getWriter({path:p}):TE({path:p});return new Pn(function(m,E){d.stream(f.password).on("error",E).pipe(g).on("close",m).on("error",E)})}}},f.concurrency>1?{concurrency:f.concurrency||void 0}:void 0)})},c.files=Pn.mapSeries(Array(c.numberOfRecords),function(){return i.pull(46).then(function(f){var h=kn.parse(f).word32lu("signature").word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return h.offsetToLocalFileHeader+=u,h.lastModifiedDateTime=OE(h.lastModifiedDate,h.lastModifiedTime),i.pull(h.fileNameLength).then(function(d){return h.pathBuffer=d,h.path=d.toString("utf8"),h.isUnicode=h.flags&17,i.pull(h.extraFieldLength)}).then(function(d){return h.extra=_E(d,h),i.pull(h.fileCommentLength)}).then(function(d){return h.comment=d,h.type=h.uncompressedSize===0&&/[\/\\]$/.test(h.path)?"Directory":"File",h.stream=function(p){return bE(t,h.offsetToLocalFileHeader,p,h)},h.buffer=function(p){return wE(h.stream(p))},h})})}),Pn.props(c)})}});var Zd=X((ax,Jd)=>{var Qd=yt(),uo=Bt(),lo=Yd(),co=require("stream");(!co.Writable||!co.Writable.prototype.destroy)&&(co=Nt());Jd.exports={buffer:function(e,t){var r={stream:function(n,i){var o=co.PassThrough();return o.end(e.slice(n,i)),o},size:function(){return uo.resolve(e.length)}};return lo(r,t)},file:function(e,t){var r={stream:function(n,i){return Qd.createReadStream(e,{start:n,end:i&&n+i})},size:function(){return new uo(function(n,i){Qd.stat(e,function(o,a){o?i(o):n(a.size)})})}};return lo(r,t)},url:function(e,t,r){if(typeof t=="string"&&(t={url:t}),!t.url)throw"URL missing";t.headers=t.headers||{};var n={stream:function(i,o){var a=Object.create(t);return a.headers=Object.create(t.headers),a.headers.range="bytes="+i+"-"+(o||""),e(a)},size:function(){return new uo(function(i,o){var a=e(t);a.on("response",function(s){a.abort(),s.headers["content-length"]?i(s.headers["content-length"]):o(new Error("Missing content length header"))}).on("error",o)})}};return lo(n,r)},s3:function(e,t,r){var n={size:function(){return new uo(function(i,o){e.headObject(t,function(a,s){a?o(a):i(s.ContentLength)})})},stream:function(i,o){var a={};for(var s in t)a[s]=t[s];return a.Range="bytes="+i+"-"+(o||""),e.getObject(a).createReadStream()}};return lo(n,r)}}});var eg=X(Ln=>{"use strict";qc();Xc();$c();Ln.Parse=Di();Ln.ParseOne=Hh();Ln.Extract=Ud();Ln.Open=Zd()});var rg=X((ux,tg)=>{"use strict";tg.exports=e=>function(){let t=arguments.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=arguments[n];return new Promise((n,i)=>{r.push((o,a)=>{o?i(o):n(a)}),e.apply(null,r)})}});var ze=X((lx,ng)=>{"use strict";var fo=require("fs"),NE=rg(),kE=e=>[typeof fo[e]=="function",!e.match(/Sync$/),!e.match(/^[A-Z]/),!e.match(/^create/),!e.match(/^(un)?watch/)].every(Boolean),AE=e=>{let t=fo[e];return NE(t)},PE=()=>{let e={};return Object.keys(fo).forEach(t=>{kE(t)?t==="exists"?e.exists=()=>{throw new Error("fs.exists() is deprecated")}:e[t]=AE(t):e[t]=fo[t]}),e};ng.exports=PE()});var Fe=X((cx,sg)=>{"use strict";var LE=e=>{let t=r=>["a","e","i","o","u"].indexOf(r[0])!==-1?`an ${r}`:`a ${r}`;return e.map(t).join(" or ")},ig=e=>/array of /.test(e),og=e=>e.split(" of ")[1],ag=e=>ig(e)?ag(og(e)):["string","number","boolean","array","object","buffer","null","undefined","function"].some(t=>t===e),In=e=>e===null?"null":Array.isArray(e)?"array":Buffer.isBuffer(e)?"buffer":typeof e,IE=(e,t,r)=>r.indexOf(e)===t,jE=e=>{let t=In(e),r;return t==="array"&&(r=e.map(n=>In(n)).filter(IE),t+=` of ${r.join(", ")}`),t},ME=(e,t)=>{let r=og(t);return In(e)!=="array"?!1:e.every(n=>In(n)===r)},yu=(e,t,r,n)=>{if(!n.some(o=>{if(!ag(o))throw new Error(`Unknown type "${o}"`);return ig(o)?ME(r,o):o===In(r)}))throw new Error(`Argument "${t}" passed to ${e} must be ${LE(n)}. Received ${jE(r)}`)},FE=(e,t,r,n)=>{r!==void 0&&(yu(e,t,r,["object"]),Object.keys(r).forEach(i=>{let o=`${t}.${i}`;if(n[i]!==void 0)yu(e,o,r[i],n[i]);else throw new Error(`Unknown argument "${o}" passed to ${e}`)}))};sg.exports={argument:yu,options:FE}});var ho=X(ug=>{"use strict";ug.normalizeFileMode=e=>{let t;return typeof e=="number"?t=e.toString(8):t=e,t.substring(t.length-3)}});var go=X(po=>{"use strict";var lg=ze(),RE=Fe(),qE=(e,t)=>{let r=`${e}([path])`;RE.argument(r,"path",t,["string","undefined"])},BE=e=>{lg.rmSync(e,{recursive:!0,force:!0,maxRetries:3})},UE=e=>lg.rm(e,{recursive:!0,force:!0,maxRetries:3});po.validateInput=qE;po.sync=BE;po.async=UE});var mr=X(Ur=>{"use strict";var yo=require("path"),vt=ze(),mu=ho(),cg=Fe(),fg=go(),WE=(e,t,r)=>{let n=`${e}(path, [criteria])`;cg.argument(n,"path",t,["string"]),cg.options(n,"criteria",r,{empty:["boolean"],mode:["string","number"]})},hg=e=>{let t=e||{};return typeof t.empty!="boolean"&&(t.empty=!1),t.mode!==void 0&&(t.mode=mu.normalizeFileMode(t.mode)),t},pg=e=>new Error(`Path ${e} exists but is not a directory. Halting jetpack.dir() call for safety reasons.`),XE=e=>{let t;try{t=vt.statSync(e)}catch(r){if(r.code!=="ENOENT")throw r}if(t&&!t.isDirectory())throw pg(e);return t},vu=(e,t)=>{let r=t||{};try{vt.mkdirSync(e,r.mode)}catch(n){if(n.code==="ENOENT")vu(yo.dirname(e),r),vt.mkdirSync(e,r.mode);else if(n.code!=="EEXIST")throw n}},VE=(e,t,r)=>{let n=()=>{let o=mu.normalizeFileMode(t.mode);r.mode!==void 0&&r.mode!==o&&vt.chmodSync(e,r.mode)},i=()=>{r.empty&&vt.readdirSync(e).forEach(a=>{fg.sync(yo.resolve(e,a))})};n(),i()},$E=(e,t)=>{let r=hg(t),n=XE(e);n?VE(e,n,r):vu(e,r)},HE=e=>new Promise((t,r)=>{vt.stat(e).then(n=>{n.isDirectory()?t(n):r(pg(e))}).catch(n=>{n.code==="ENOENT"?t(void 0):r(n)})}),zE=e=>new Promise((t,r)=>{vt.readdir(e).then(n=>{let i=o=>{if(o===n.length)t();else{let a=yo.resolve(e,n[o]);fg.async(a).then(()=>{i(o+1)})}};i(0)}).catch(r)}),GE=(e,t,r)=>new Promise((n,i)=>{let o=()=>{let s=mu.normalizeFileMode(t.mode);return r.mode!==void 0&&r.mode!==s?vt.chmod(e,r.mode):Promise.resolve()},a=()=>r.empty?zE(e):Promise.resolve();o().then(a).then(n,i)}),bu=(e,t)=>{let r=t||{};return new Promise((n,i)=>{vt.mkdir(e,r.mode).then(n).catch(o=>{o.code==="ENOENT"?bu(yo.dirname(e),r).then(()=>vt.mkdir(e,r.mode)).then(n).catch(a=>{a.code==="EEXIST"?n():i(a)}):o.code==="EEXIST"?n():i(o)})})},KE=(e,t)=>new Promise((r,n)=>{let i=hg(t);HE(e).then(o=>o!==void 0?GE(e,o,i):bu(e,i)).then(r,n)});Ur.validateInput=WE;Ur.sync=$E;Ur.createSync=vu;Ur.async=KE;Ur.createAsync=bu});var jn=X(vo=>{"use strict";var dg=require("path"),Wr=ze(),wu=Fe(),gg=mr(),YE=(e,t,r,n)=>{let i=`${e}(path, data, [options])`;wu.argument(i,"path",t,["string"]),wu.argument(i,"data",r,["string","buffer","object","array"]),wu.options(i,"options",n,{mode:["string","number"],atomic:["boolean"],jsonIndent:["number"]})},mo=".__new__",yg=(e,t)=>{let r=t;return typeof r!="number"&&(r=2),typeof e=="object"&&!Buffer.isBuffer(e)&&e!==null?JSON.stringify(e,null,r):e},mg=(e,t,r)=>{try{Wr.writeFileSync(e,t,r)}catch(n){if(n.code==="ENOENT")gg.createSync(dg.dirname(e)),Wr.writeFileSync(e,t,r);else throw n}},QE=(e,t,r)=>{mg(e+mo,t,r),Wr.renameSync(e+mo,e)},JE=(e,t,r)=>{let n=r||{},i=yg(t,n.jsonIndent),o=mg;n.atomic&&(o=QE),o(e,i,{mode:n.mode})},vg=(e,t,r)=>new Promise((n,i)=>{Wr.writeFile(e,t,r).then(n).catch(o=>{o.code==="ENOENT"?gg.createAsync(dg.dirname(e)).then(()=>Wr.writeFile(e,t,r)).then(n,i):i(o)})}),ZE=(e,t,r)=>new Promise((n,i)=>{vg(e+mo,t,r).then(()=>Wr.rename(e+mo,e)).then(n,i)}),eS=(e,t,r)=>{let n=r||{},i=yg(t,n.jsonIndent),o=vg;return n.atomic&&(o=ZE),o(e,i,{mode:n.mode})};vo.validateInput=YE;vo.sync=JE;vo.async=eS});var _g=X(bo=>{"use strict";var bg=ze(),wg=jn(),_u=Fe(),tS=(e,t,r,n)=>{let i=`${e}(path, data, [options])`;_u.argument(i,"path",t,["string"]),_u.argument(i,"data",r,["string","buffer"]),_u.options(i,"options",n,{mode:["string","number"]})},rS=(e,t,r)=>{try{bg.appendFileSync(e,t,r)}catch(n){if(n.code==="ENOENT")wg.sync(e,t,r);else throw n}},nS=(e,t,r)=>new Promise((n,i)=>{bg.appendFile(e,t,r).then(n).catch(o=>{o.code==="ENOENT"?wg.async(e,t,r).then(n,i):i(o)})});bo.validateInput=tS;bo.sync=rS;bo.async=nS});var Og=X(Eo=>{"use strict";var wo=ze(),Eu=ho(),Eg=Fe(),_o=jn(),iS=(e,t,r)=>{let n=`${e}(path, [criteria])`;Eg.argument(n,"path",t,["string"]),Eg.options(n,"criteria",r,{content:["string","buffer","object","array"],jsonIndent:["number"],mode:["string","number"]})},Sg=e=>{let t=e||{};return t.mode!==void 0&&(t.mode=Eu.normalizeFileMode(t.mode)),t},Tg=e=>new Error(`Path ${e} exists but is not a file. Halting jetpack.file() call for safety reasons.`),oS=e=>{let t;try{t=wo.statSync(e)}catch(r){if(r.code!=="ENOENT")throw r}if(t&&!t.isFile())throw Tg(e);return t},aS=(e,t,r)=>{let n=Eu.normalizeFileMode(t.mode),i=()=>r.content!==void 0?(_o.sync(e,r.content,{mode:n,jsonIndent:r.jsonIndent}),!0):!1,o=()=>{r.mode!==void 0&&r.mode!==n&&wo.chmodSync(e,r.mode)};i()||o()},sS=(e,t)=>{let r="";t.content!==void 0&&(r=t.content),_o.sync(e,r,{mode:t.mode,jsonIndent:t.jsonIndent})},uS=(e,t)=>{let r=Sg(t),n=oS(e);n!==void 0?aS(e,n,r):sS(e,r)},lS=e=>new Promise((t,r)=>{wo.stat(e).then(n=>{n.isFile()?t(n):r(Tg(e))}).catch(n=>{n.code==="ENOENT"?t(void 0):r(n)})}),cS=(e,t,r)=>{let n=Eu.normalizeFileMode(t.mode),i=()=>new Promise((a,s)=>{r.content!==void 0?_o.async(e,r.content,{mode:n,jsonIndent:r.jsonIndent}).then(()=>{a(!0)}).catch(s):a(!1)}),o=()=>{if(r.mode!==void 0&&r.mode!==n)return wo.chmod(e,r.mode)};return i().then(a=>{if(!a)return o()})},fS=(e,t)=>{let r="";return t.content!==void 0&&(r=t.content),_o.async(e,r,{mode:t.mode,jsonIndent:t.jsonIndent})},hS=(e,t)=>new Promise((r,n)=>{let i=Sg(t);lS(e).then(o=>o!==void 0?cS(e,o,i):fS(e,i)).then(r,n)});Eo.validateInput=iS;Eo.sync=uS;Eo.async=hS});var Vr=X(Xr=>{"use strict";var xg=require("crypto"),pS=require("path"),Jt=ze(),Cg=Fe(),Su=["md5","sha1","sha256","sha512"],Tu=["report","follow"],dS=(e,t,r)=>{let n=`${e}(path, [options])`;if(Cg.argument(n,"path",t,["string"]),Cg.options(n,"options",r,{checksum:["string"],mode:["boolean"],times:["boolean"],absolutePath:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Su.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${Su.join(", ")}`);if(r&&r.symlinks!==void 0&&Tu.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${Tu.join(", ")}`)},Dg=(e,t,r)=>{let n={};return n.name=pS.basename(e),r.isFile()?(n.type="file",n.size=r.size):r.isDirectory()?n.type="dir":r.isSymbolicLink()?n.type="symlink":n.type="other",t.mode&&(n.mode=r.mode),t.times&&(n.accessTime=r.atime,n.modifyTime=r.mtime,n.changeTime=r.ctime,n.birthTime=r.birthtime),t.absolutePath&&(n.absolutePath=e),n},gS=(e,t)=>{let r=xg.createHash(t),n=Jt.readFileSync(e);return r.update(n),r.digest("hex")},yS=(e,t,r)=>{t.type==="file"&&r.checksum?t[r.checksum]=gS(e,r.checksum):t.type==="symlink"&&(t.pointsAt=Jt.readlinkSync(e))},mS=(e,t)=>{let r=Jt.lstatSync,n,i=t||{};i.symlinks==="follow"&&(r=Jt.statSync);try{n=r(e)}catch(a){if(a.code==="ENOENT")return;throw a}let o=Dg(e,i,n);return yS(e,o,i),o},vS=(e,t)=>new Promise((r,n)=>{let i=xg.createHash(t),o=Jt.createReadStream(e);o.on("data",a=>{i.update(a)}),o.on("end",()=>{r(i.digest("hex"))}),o.on("error",n)}),bS=(e,t,r)=>t.type==="file"&&r.checksum?vS(e,r.checksum).then(n=>(t[r.checksum]=n,t)):t.type==="symlink"?Jt.readlink(e).then(n=>(t.pointsAt=n,t)):Promise.resolve(t),wS=(e,t)=>new Promise((r,n)=>{let i=Jt.lstat,o=t||{};o.symlinks==="follow"&&(i=Jt.stat),i(e).then(a=>{let s=Dg(e,o,a);bS(e,s,o).then(r,n)}).catch(a=>{a.code==="ENOENT"?r(void 0):n(a)})});Xr.supportedChecksumAlgorithms=Su;Xr.symlinkOptions=Tu;Xr.validateInput=dS;Xr.sync=mS;Xr.async=wS});var To=X(So=>{"use strict";var Ng=ze(),_S=Fe(),ES=(e,t)=>{let r=`${e}(path)`;_S.argument(r,"path",t,["string","undefined"])},SS=e=>{try{return Ng.readdirSync(e)}catch(t){if(t.code==="ENOENT")return;throw t}},TS=e=>new Promise((t,r)=>{Ng.readdir(e).then(n=>{t(n)}).catch(n=>{n.code==="ENOENT"?t(void 0):r(n)})});So.validateInput=ES;So.sync=SS;So.async=TS});var Do=X(Ou=>{"use strict";var Oo=require("fs"),xo=require("path"),Mn=Vr(),bx=To(),Co=e=>e.isDirectory()?"dir":e.isFile()?"file":e.isSymbolicLink()?"symlink":"other",OS=(e,t,r)=>{t.maxLevelsDeep===void 0&&(t.maxLevelsDeep=1/0);let n=t.inspectOptions!==void 0;t.symlinks&&(t.inspectOptions===void 0?t.inspectOptions={symlinks:t.symlinks}:t.inspectOptions.symlinks=t.symlinks);let i=(a,s)=>{Oo.readdirSync(a,{withFileTypes:!0}).forEach(u=>{let c=typeof u=="string",f;c?f=xo.join(a,u):f=xo.join(a,u.name);let h;if(n)h=Mn.sync(f,t.inspectOptions);else if(c){let d=Mn.sync(f,t.inspectOptions);h={name:d.name,type:d.type}}else{let d=Co(u);if(d==="symlink"&&t.symlinks==="follow"){let p=Oo.statSync(f);h={name:u.name,type:Co(p)}}else h={name:u.name,type:d}}h!==void 0&&(r(f,h),h.type==="dir"&&s<t.maxLevelsDeep&&i(f,s+1))})},o=Mn.sync(e,t.inspectOptions);o?(n?r(e,o):r(e,{name:o.name,type:o.type}),o.type==="dir"&&i(e,1)):r(e,void 0)},xS=5,CS=(e,t,r,n)=>{t.maxLevelsDeep===void 0&&(t.maxLevelsDeep=1/0);let i=t.inspectOptions!==void 0;t.symlinks&&(t.inspectOptions===void 0?t.inspectOptions={symlinks:t.symlinks}:t.inspectOptions.symlinks=t.symlinks);let o=[],a=0,s=()=>{if(o.length===0&&a===0)n();else if(o.length>0&&a<xS){let h=o.pop();a+=1,h()}},u=h=>{o.push(h),s()},c=()=>{a-=1,s()},f=(h,d)=>{let p=(g,m)=>{m.type==="dir"&&d<t.maxLevelsDeep&&f(g,d+1)};u(()=>{Oo.readdir(h,{withFileTypes:!0},(g,m)=>{g?n(g):(m.forEach(E=>{let _=typeof E=="string",b;if(_?b=xo.join(h,E):b=xo.join(h,E.name),i||_)u(()=>{Mn.async(b,t.inspectOptions).then(v=>{v!==void 0&&(i?r(b,v):r(b,{name:v.name,type:v.type}),p(b,v)),c()}).catch(v=>{n(v)})});else{let v=Co(E);if(v==="symlink"&&t.symlinks==="follow")u(()=>{Oo.stat(b,(y,w)=>{if(y)n(y);else{let O={name:E.name,type:Co(w)};r(b,O),p(b,O),c()}})});else{let y={name:E.name,type:v};r(b,y),p(b,y)}}}),c())})})};Mn.async(e,t.inspectOptions).then(h=>{h?(i?r(e,h):r(e,{name:h.name,type:h.type}),h.type==="dir"?f(e,1):n()):(r(e,void 0),n())}).catch(h=>{n(h)})};Ou.sync=OS;Ou.async=CS});var Ag=X((_x,kg)=>{var DS=typeof process=="object"&&process&&process.platform==="win32";kg.exports=DS?{sep:"\\"}:{sep:"/"}});var qg=X((Ex,Rg)=>{var Pg=Fs();Rg.exports=AS;var Lg="\0SLASH"+Math.random()+"\0",Ig="\0OPEN"+Math.random()+"\0",xu="\0CLOSE"+Math.random()+"\0",jg="\0COMMA"+Math.random()+"\0",Mg="\0PERIOD"+Math.random()+"\0";function Cu(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function NS(e){return e.split("\\\\").join(Lg).split("\\{").join(Ig).split("\\}").join(xu).split("\\,").join(jg).split("\\.").join(Mg)}function kS(e){return e.split(Lg).join("\\").split(Ig).join("{").split(xu).join("}").split(jg).join(",").split(Mg).join(".")}function Fg(e){if(!e)return[""];var t=[],r=Pg("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var s=Fg(o);return o.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function AS(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Fn(NS(e),!0).map(kS)):[]}function PS(e){return"{"+e+"}"}function LS(e){return/^-?0\d/.test(e)}function IS(e,t){return e<=t}function jS(e,t){return e>=t}function Fn(e,t){var r=[],n=Pg("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?Fn(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var s=i+"{"+n.body+"}"+o[a];r.push(s)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=u||c,h=n.body.indexOf(",")>=0;if(!f&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+xu+n.post,Fn(e)):[e];var d;if(f)d=n.body.split(/\.\./);else if(d=Fg(n.body),d.length===1&&(d=Fn(d[0],!1).map(PS),d.length===1))return o.map(function(A){return n.pre+d[0]+A});var p;if(f){var g=Cu(d[0]),m=Cu(d[1]),E=Math.max(d[0].length,d[1].length),_=d.length==3?Math.abs(Cu(d[2])):1,b=IS,v=m<g;v&&(_*=-1,b=jS);var y=d.some(LS);p=[];for(var w=g;b(w,m);w+=_){var O;if(c)O=String.fromCharCode(w),O==="\\"&&(O="");else if(O=String(w),y){var P=E-O.length;if(P>0){var T=new Array(P+1).join("0");w<0?O="-"+T+O.slice(1):O=T+O}}p.push(O)}}else{p=[];for(var L=0;L<d.length;L++)p.push.apply(p,Fn(d[L],!1))}for(var L=0;L<p.length;L++)for(var a=0;a<o.length;a++){var s=i+p[L]+o[a];(!t||f||s)&&r.push(s)}}return r}});var $g=X((Tx,Pu)=>{var Qe=Pu.exports=(e,t,r={})=>(No(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Rn(t,r).match(e));Pu.exports=Qe;var Du=Ag();Qe.sep=Du.sep;var ct=Symbol("globstar **");Qe.GLOBSTAR=ct;var MS=qg(),Bg={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Nu="[^/]",ku=Nu+"*?",FS="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",RS="(?:(?!(?:\\/|^)\\.).)*?",Ug=e=>e.split("").reduce((t,r)=>(t[r]=!0,t),{}),Wg=Ug("().*{}+?[]^$\\!"),qS=Ug("[.("),Xg=/\/+/;Qe.filter=(e,t={})=>(r,n,i)=>Qe(r,e,t);var Zt=(e,t={})=>{let r={};return Object.keys(e).forEach(n=>r[n]=e[n]),Object.keys(t).forEach(n=>r[n]=t[n]),r};Qe.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Qe;let t=Qe,r=(n,i,o)=>t(n,i,Zt(e,o));return r.Minimatch=class extends t.Minimatch{constructor(i,o){super(i,Zt(e,o))}},r.Minimatch.defaults=n=>t.defaults(Zt(e,n)).Minimatch,r.filter=(n,i)=>t.filter(n,Zt(e,i)),r.defaults=n=>t.defaults(Zt(e,n)),r.makeRe=(n,i)=>t.makeRe(n,Zt(e,i)),r.braceExpand=(n,i)=>t.braceExpand(n,Zt(e,i)),r.match=(n,i,o)=>t.match(n,i,Zt(e,o)),r};Qe.braceExpand=(e,t)=>Vg(e,t);var Vg=(e,t={})=>(No(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:MS(e)),BS=1024*64,No=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>BS)throw new TypeError("pattern is too long")},Au=Symbol("subparse");Qe.makeRe=(e,t)=>new Rn(e,t||{}).makeRe();Qe.match=(e,t,r={})=>{let n=new Rn(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e};var US=e=>e.replace(/\\(.)/g,"$1"),WS=e=>e.replace(/\\([^-\]])/g,"$1"),XS=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),VS=e=>e.replace(/[[\]\\]/g,"\\$&"),Rn=class{constructor(t,r){No(t),r||(r={}),this.options=r,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(Xg)),this.debug(this.pattern,n),n=n.map((i,o,a)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var o=0,a=0,s=t.length,u=r.length;o<s&&a<u;o++,a++){this.debug("matchOne loop");var c=r[a],f=t[o];if(this.debug(r,c,f),c===!1)return!1;if(c===ct){this.debug("GLOBSTAR",[r,c,f]);var h=o,d=a+1;if(d===u){for(this.debug("** at the end");o<s;o++)if(t[o]==="."||t[o]===".."||!i.dot&&t[o].charAt(0)===".")return!1;return!0}for(;h<s;){var p=t[h];if(this.debug(`
globstar while`,t,h,r,d,p),this.matchOne(t.slice(h),r.slice(d),n))return this.debug("globstar found match!",h,s,p),!0;if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,h,r,d);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,d),h===s))}var g;if(typeof c=="string"?(g=f===c,this.debug("string match",c,f,g)):(g=f.match(c),this.debug("pattern match",c,f,g)),!g)return!1}if(o===s&&a===u)return!0;if(o===s)return n;if(a===u)return o===s-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return Vg(this.pattern,this.options)}parse(t,r){No(t);let n=this.options;if(t==="**")if(n.noglobstar)t="*";else return ct;if(t==="")return"";let i="",o=!1,a=!1,s=[],u=[],c,f=!1,h=-1,d=-1,p,g,m,E=t.charAt(0)===".",_=n.dot||E,b=()=>E?"":_?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=P=>P.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=()=>{if(c){switch(c){case"*":i+=ku,o=!0;break;case"?":i+=Nu,o=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let P=0,T;P<t.length&&(T=t.charAt(P));P++){if(this.debug("%s	%s %s %j",t,P,i,T),a){if(T==="/")return!1;Wg[T]&&(i+="\\"),i+=T,a=!1;continue}switch(T){case"/":return!1;case"\\":if(f&&t.charAt(P+1)==="-"){i+=T;continue}y(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,P,i,T),f){this.debug("  in class"),T==="!"&&P===d+1&&(T="^"),i+=T;continue}this.debug("call clearStateChar %j",c),y(),c=T,n.noext&&y();continue;case"(":{if(f){i+="(";continue}if(!c){i+="\\(";continue}let L={type:c,start:P-1,reStart:i.length,open:Bg[c].open,close:Bg[c].close};this.debug(this.pattern,"	",L),s.push(L),i+=L.open,L.start===0&&L.type!=="!"&&(E=!0,i+=v(t.slice(P+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let L=s[s.length-1];if(f||!L){i+="\\)";continue}s.pop(),y(),o=!0,g=L,i+=g.close,g.type==="!"&&u.push(Object.assign(g,{reEnd:i.length}));continue}case"|":{let L=s[s.length-1];if(f||!L){i+="\\|";continue}y(),i+="|",L.start===0&&L.type!=="!"&&(E=!0,i+=v(t.slice(P+1)));continue}case"[":if(y(),f){i+="\\"+T;continue}f=!0,d=P,h=i.length,i+=T;continue;case"]":if(P===d+1||!f){i+="\\"+T;continue}p=t.substring(d+1,P);try{RegExp("["+VS(WS(p))+"]"),i+=T}catch(L){i=i.substring(0,h)+"(?:$.)"}o=!0,f=!1;continue;default:y(),Wg[T]&&!(T==="^"&&f)&&(i+="\\"),i+=T;break}}for(f&&(p=t.slice(d+1),m=this.parse(p,Au),i=i.substring(0,h)+"\\["+m[0],o=o||m[1]),g=s.pop();g;g=s.pop()){let P;P=i.slice(g.reStart+g.open.length),this.debug("setting tail",i,g),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,(L,A,M)=>(M||(M="\\"),A+A+M+"|")),this.debug(`tail=%j
   %s`,P,P,g,i);let T=g.type==="*"?ku:g.type==="?"?Nu:"\\"+g.type;o=!0,i=i.slice(0,g.reStart)+T+"\\("+P}y(),a&&(i+="\\\\");let w=qS[i.charAt(0)];for(let P=u.length-1;P>-1;P--){let T=u[P],L=i.slice(0,T.reStart),A=i.slice(T.reStart,T.reEnd-8),M=i.slice(T.reEnd),B=i.slice(T.reEnd-8,T.reEnd)+M,G=L.split(")").length,te=L.split("(").length-G,R=M;for(let Y=0;Y<te;Y++)R=R.replace(/\)[+*?]?/,"");M=R;let U=M===""&&r!==Au?"(?:$|\\/)":"";i=L+A+M+U+B}if(i!==""&&o&&(i="(?=.)"+i),w&&(i=b()+i),r===Au)return[i,o];if(n.nocase&&!o&&(o=t.toUpperCase()!==t.toLowerCase()),!o)return US(t);let O=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",O),{_glob:t,_src:i})}catch(P){return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?ku:r.dot?FS:RS,i=r.nocase?"i":"",o=t.map(a=>(a=a.map(s=>typeof s=="string"?XS(s):s===ct?ct:s._src).reduce((s,u)=>(s[s.length-1]===ct&&u===ct||s.push(u),s),[]),a.forEach((s,u)=>{s!==ct||a[u-1]===ct||(u===0?a.length>1?a[u+1]="(?:\\/|"+n+"\\/)?"+a[u+1]:a[u]=n:u===a.length-1?a[u-1]+="(?:\\/|"+n+")?":(a[u-1]+="(?:\\/|\\/"+n+"\\/)"+a[u+1],a[u+1]=ct))}),a.filter(s=>s!==ct).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch(a){this.regexp=!1}return this.regexp}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;Du.sep!=="/"&&(t=t.split(Du.sep).join("/")),t=t.split(Xg),this.debug(this.pattern,"split",t);let i=this.set;this.debug(this.pattern,"set",i);let o;for(let a=t.length-1;a>=0&&(o=t[a],!o);a--);for(let a=0;a<i.length;a++){let s=i[a],u=t;if(n.matchBase&&s.length===1&&(u=[o]),this.matchOne(u,s,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Qe.defaults(t).Minimatch}};Qe.Minimatch=Rn});var Lu=X(Hg=>{"use strict";var $S=$g().Minimatch,HS=(e,t)=>{let r=t.indexOf("/")!==-1,n=/^!?\//.test(t),i=/^!/.test(t),o;if(!n&&r){let a=t.replace(/^!/,"").replace(/^\.\//,"");return/\/$/.test(e)?o="":o="/",i?`!${e}${o}${a}`:`${e}${o}${a}`}return t};Hg.create=(e,t,r)=>{let n;typeof t=="string"?n=[t]:n=t;let i=n.map(a=>HS(e,a)).map(a=>new $S(a,{matchBase:!0,nocomment:!0,nocase:r||!1,dot:!0,windowsPathsNoEscape:!0}));return a=>{let s="matching",u=!1,c,f;for(f=0;f<i.length;f+=1){if(c=i[f],c.negate&&(s="negation",f===0&&(u=!0)),s==="negation"&&u&&!c.match(a))return!1;s==="matching"&&!u&&(u=c.match(a))}return u}}});var ty=X(ko=>{"use strict";var zS=require("path"),zg=Do(),Gg=Vr(),Kg=Lu(),Yg=Fe(),GS=(e,t,r)=>{let n=`${e}([path], options)`;Yg.argument(n,"path",t,["string"]),Yg.options(n,"options",r,{matching:["string","array of string"],filter:["function"],files:["boolean"],directories:["boolean"],recursive:["boolean"],ignoreCase:["boolean"]})},Qg=e=>{let t=e||{};return t.matching===void 0&&(t.matching="*"),t.files===void 0&&(t.files=!0),t.ignoreCase===void 0&&(t.ignoreCase=!1),t.directories===void 0&&(t.directories=!1),t.recursive===void 0&&(t.recursive=!0),t},Jg=(e,t)=>e.map(r=>zS.relative(t,r)),Zg=e=>{let t=new Error(`Path you want to find stuff in doesn't exist ${e}`);return t.code="ENOENT",t},ey=e=>{let t=new Error(`Path you want to find stuff in must be a directory ${e}`);return t.code="ENOTDIR",t},KS=(e,t)=>{let r=[],n=Kg.create(e,t.matching,t.ignoreCase),i=1/0;return t.recursive===!1&&(i=1),zg.sync(e,{maxLevelsDeep:i,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(o,a)=>{a&&o!==e&&n(o)&&(a.type==="file"&&t.files===!0||a.type==="dir"&&t.directories===!0)&&(t.filter?t.filter(a)&&r.push(o):r.push(o))}),r.sort(),Jg(r,t.cwd)},YS=(e,t)=>{let r=Gg.sync(e,{symlinks:"follow"});if(r===void 0)throw Zg(e);if(r.type!=="dir")throw ey(e);return KS(e,Qg(t))},QS=(e,t)=>new Promise((r,n)=>{let i=[],o=Kg.create(e,t.matching,t.ignoreCase),a=1/0;t.recursive===!1&&(a=1);let s=0,u=!1,c=()=>{u&&s===0&&(i.sort(),r(Jg(i,t.cwd)))};zg.async(e,{maxLevelsDeep:a,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(f,h)=>{if(h&&f!==e&&o(f)&&(h.type==="file"&&t.files===!0||h.type==="dir"&&t.directories===!0))if(t.filter){let p=t.filter(h);typeof p.then=="function"?(s+=1,p.then(m=>{m&&i.push(f),s-=1,c()}).catch(m=>{n(m)})):p&&i.push(f)}else i.push(f)},f=>{f?n(f):(u=!0,c())})}),JS=(e,t)=>Gg.async(e,{symlinks:"follow"}).then(r=>{if(r===void 0)throw Zg(e);if(r.type!=="dir")throw ey(e);return QS(e,Qg(t))});ko.validateInput=GS;ko.sync=YS;ko.async=JS});var iy=X(Lo=>{"use strict";var ZS=require("crypto"),Ao=require("path"),Po=Vr(),Cx=To(),ry=Fe(),ny=Do(),eT=(e,t,r)=>{let n=`${e}(path, [options])`;if(ry.argument(n,"path",t,["string"]),ry.options(n,"options",r,{checksum:["string"],relativePath:["boolean"],times:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Po.supportedChecksumAlgorithms.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${Po.supportedChecksumAlgorithms.join(", ")}`);if(r&&r.symlinks!==void 0&&Po.symlinkOptions.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${Po.symlinkOptions.join(", ")}`)},tT=(e,t)=>e===void 0?".":e.relativePath+"/"+t.name,rT=(e,t)=>{let r=ZS.createHash(t);return e.forEach(n=>{r.update(n.name+n[t])}),r.digest("hex")},Iu=(e,t,r)=>{r.relativePath&&(t.relativePath=tT(e,t)),t.type==="dir"&&(t.children.forEach(n=>{Iu(t,n,r)}),t.size=0,t.children.sort((n,i)=>n.type==="dir"&&i.type==="file"?-1:n.type==="file"&&i.type==="dir"?1:n.name.localeCompare(i.name)),t.children.forEach(n=>{t.size+=n.size||0}),r.checksum&&(t[r.checksum]=rT(t.children,r.checksum)))},ju=(e,t,r)=>{let n=t[0];if(t.length>1){let i=e.children.find(o=>o.name===n);return ju(i,t.slice(1),r)}return e},nT=(e,t)=>{let r=t||{},n;return ny.sync(e,{inspectOptions:r},(i,o)=>{if(o){o.type==="dir"&&(o.children=[]);let a=Ao.relative(e,i);a===""?n=o:ju(n,a.split(Ao.sep),o).children.push(o)}}),n&&Iu(void 0,n,r),n},iT=(e,t)=>{let r=t||{},n;return new Promise((i,o)=>{ny.async(e,{inspectOptions:r},(a,s)=>{if(s){s.type==="dir"&&(s.children=[]);let u=Ao.relative(e,a);u===""?n=s:ju(n,u.split(Ao.sep),s).children.push(s)}},a=>{a?o(a):(n&&Iu(void 0,n,r),i(n))})})};Lo.validateInput=eT;Lo.sync=nT;Lo.async=iT});var jo=X(Io=>{"use strict";var oy=ze(),oT=Fe(),aT=(e,t)=>{let r=`${e}(path)`;oT.argument(r,"path",t,["string"])},sT=e=>{try{let t=oy.statSync(e);return t.isDirectory()?"dir":t.isFile()?"file":"other"}catch(t){if(t.code!=="ENOENT")throw t}return!1},uT=e=>new Promise((t,r)=>{oy.stat(e).then(n=>{n.isDirectory()?t("dir"):n.isFile()?t("file"):t("other")}).catch(n=>{n.code==="ENOENT"?t(!1):r(n)})});Io.validateInput=aT;Io.sync=sT;Io.async=uT});var qu=X(qo=>{"use strict";var qn=require("path"),Je=ze(),Mu=mr(),Mo=jo(),ay=Vr(),lT=jn(),cT=Lu(),sy=ho(),uy=Do(),Fu=Fe(),fT=(e,t,r,n)=>{let i=`${e}(from, to, [options])`;Fu.argument(i,"from",t,["string"]),Fu.argument(i,"to",r,["string"]),Fu.options(i,"options",n,{overwrite:["boolean","function"],matching:["string","array of string"],ignoreCase:["boolean"]})},ly=(e,t)=>{let r=e||{},n={};return r.ignoreCase===void 0&&(r.ignoreCase=!1),n.overwrite=r.overwrite,r.matching?n.allowedToCopy=cT.create(t,r.matching,r.ignoreCase):n.allowedToCopy=()=>!0,n},cy=e=>{let t=new Error(`Path to copy doesn't exist ${e}`);return t.code="ENOENT",t},Fo=e=>{let t=new Error(`Destination path already exists ${e}`);return t.code="EEXIST",t},Ro={mode:!0,symlinks:"report",times:!0,absolutePath:!0},fy=e=>typeof e.opts.overwrite!="function"&&e.opts.overwrite!==!0,hT=(e,t,r)=>{if(!Mo.sync(e))throw cy(e);if(Mo.sync(t)&&!r.overwrite)throw Fo(t)},pT=e=>{if(typeof e.opts.overwrite=="function"){let t=ay.sync(e.destPath,Ro);return e.opts.overwrite(e.srcInspectData,t)}return e.opts.overwrite===!0},dT=(e,t,r,n)=>{let i=Je.readFileSync(e);try{Je.writeFileSync(t,i,{mode:r,flag:"wx"})}catch(o){if(o.code==="ENOENT")lT.sync(t,i,{mode:r});else if(o.code==="EEXIST"){if(pT(n))Je.writeFileSync(t,i,{mode:r});else if(fy(n))throw Fo(n.destPath)}else throw o}},gT=(e,t)=>{let r=Je.readlinkSync(e);try{Je.symlinkSync(r,t)}catch(n){if(n.code==="EEXIST")Je.unlinkSync(t),Je.symlinkSync(r,t);else throw n}},yT=(e,t,r,n)=>{let i={srcPath:e,destPath:r,srcInspectData:t,opts:n},o=sy.normalizeFileMode(t.mode);t.type==="dir"?Mu.createSync(r,{mode:o}):t.type==="file"?dT(e,r,o,i):t.type==="symlink"&&gT(e,r)},mT=(e,t,r)=>{let n=ly(r,e);hT(e,t,n),uy.sync(e,{inspectOptions:Ro},(i,o)=>{let a=qn.relative(e,i),s=qn.resolve(t,a);n.allowedToCopy(i,s,o)&&yT(i,o,s,n)})},vT=(e,t,r)=>Mo.async(e).then(n=>{if(n)return Mo.async(t);throw cy(e)}).then(n=>{if(n&&!r.overwrite)throw Fo(t)}),bT=e=>new Promise((t,r)=>{typeof e.opts.overwrite=="function"?ay.async(e.destPath,Ro).then(n=>{t(e.opts.overwrite(e.srcInspectData,n))}).catch(r):t(e.opts.overwrite===!0)}),Ru=(e,t,r,n,i)=>new Promise((o,a)=>{let s=i||{},u="wx";s.overwrite&&(u="w");let c=Je.createReadStream(e),f=Je.createWriteStream(t,{mode:r,flags:u});c.on("error",a),f.on("error",h=>{c.resume(),h.code==="ENOENT"?Mu.createAsync(qn.dirname(t)).then(()=>{Ru(e,t,r,n).then(o,a)}).catch(a):h.code==="EEXIST"?bT(n).then(d=>{d?Ru(e,t,r,n,{overwrite:!0}).then(o,a):fy(n)?a(Fo(t)):o()}).catch(a):a(h)}),f.on("finish",o),c.pipe(f)}),wT=(e,t)=>Je.readlink(e).then(r=>new Promise((n,i)=>{Je.symlink(r,t).then(n).catch(o=>{o.code==="EEXIST"?Je.unlink(t).then(()=>Je.symlink(r,t)).then(n,i):i(o)})})),_T=(e,t,r,n)=>{let i={srcPath:e,destPath:r,srcInspectData:t,opts:n},o=sy.normalizeFileMode(t.mode);return t.type==="dir"?Mu.createAsync(r,{mode:o}):t.type==="file"?Ru(e,r,o,i):t.type==="symlink"?wT(e,r):Promise.resolve()},ET=(e,t,r)=>new Promise((n,i)=>{let o=ly(r,e);vT(e,t,o).then(()=>{let a=!1,s=0;uy.async(e,{inspectOptions:Ro},(u,c)=>{if(c){let f=qn.relative(e,u),h=qn.resolve(t,f);o.allowedToCopy(u,c,h)&&(s+=1,_T(u,c,h,o).then(()=>{s-=1,a&&s===0&&n()}).catch(i))}},u=>{u?i(u):(a=!0,a&&s===0&&n())})}).catch(i)});qo.validateInput=fT;qo.sync=mT;qo.async=ET});var Uu=X(Uo=>{"use strict";var hy=require("path"),$r=ze(),Bu=Fe(),py=qu(),dy=mr(),Bn=jo(),Bo=go(),ST=(e,t,r,n)=>{let i=`${e}(from, to, [options])`;Bu.argument(i,"from",t,["string"]),Bu.argument(i,"to",r,["string"]),Bu.options(i,"options",n,{overwrite:["boolean"]})},gy=e=>e||{},yy=e=>{let t=new Error(`Destination path already exists ${e}`);return t.code="EEXIST",t},my=e=>{let t=new Error(`Path to move doesn't exist ${e}`);return t.code="ENOENT",t},TT=(e,t,r)=>{let n=gy(r);if(Bn.sync(t)!==!1&&n.overwrite!==!0)throw yy(t);try{$r.renameSync(e,t)}catch(i){if(i.code==="EISDIR"||i.code==="EPERM")Bo.sync(t),$r.renameSync(e,t);else if(i.code==="EXDEV")py.sync(e,t,{overwrite:!0}),Bo.sync(e);else if(i.code==="ENOENT"){if(!Bn.sync(e))throw my(e);dy.createSync(hy.dirname(t)),$r.renameSync(e,t)}else throw i}},OT=e=>new Promise((t,r)=>{let n=hy.dirname(e);Bn.async(n).then(i=>{i?r():dy.createAsync(n).then(t,r)}).catch(r)}),xT=(e,t,r)=>{let n=gy(r);return new Promise((i,o)=>{Bn.async(t).then(a=>{a!==!1&&n.overwrite!==!0?o(yy(t)):$r.rename(e,t).then(i).catch(s=>{s.code==="EISDIR"||s.code==="EPERM"?Bo.async(t).then(()=>$r.rename(e,t)).then(i,o):s.code==="EXDEV"?py.async(e,t,{overwrite:!0}).then(()=>Bo.async(e)).then(i,o):s.code==="ENOENT"?Bn.async(e).then(u=>{u?OT(t).then(()=>$r.rename(e,t)).then(i,o):o(my(e))}).catch(o):o(s)})})})};Uo.validateInput=ST;Uo.sync=TT;Uo.async=xT});var Sy=X(Wo=>{"use strict";var vy=ze(),by=Fe(),wy=["utf8","buffer","json","jsonWithDates"],CT=(e,t,r)=>{let n=`${e}(path, returnAs)`;if(by.argument(n,"path",t,["string"]),by.argument(n,"returnAs",r,["string","undefined"]),r&&wy.indexOf(r)===-1)throw new Error(`Argument "returnAs" passed to ${n} must have one of values: ${wy.join(", ")}`)},_y=(e,t)=>typeof t=="string"&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(t)?new Date(t):t,Ey=(e,t)=>{let r=new Error(`JSON parsing failed while reading ${e} [${t}]`);return r.originalError=t,r},DT=(e,t)=>{let r=t||"utf8",n,i="utf8";r==="buffer"&&(i=null);try{n=vy.readFileSync(e,{encoding:i})}catch(o){if(o.code==="ENOENT")return;throw o}try{r==="json"?n=JSON.parse(n):r==="jsonWithDates"&&(n=JSON.parse(n,_y))}catch(o){throw Ey(e,o)}return n},NT=(e,t)=>new Promise((r,n)=>{let i=t||"utf8",o="utf8";i==="buffer"&&(o=null),vy.readFile(e,{encoding:o}).then(a=>{try{r(i==="json"?JSON.parse(a):i==="jsonWithDates"?JSON.parse(a,_y):a)}catch(s){n(Ey(e,s))}}).catch(a=>{a.code==="ENOENT"?r(void 0):n(a)})});Wo.validateInput=CT;Wo.sync=DT;Wo.async=NT});var Oy=X(Xo=>{"use strict";var Un=require("path"),Ty=Uu(),Wu=Fe(),kT=(e,t,r,n)=>{let i=`${e}(path, newName, [options])`;if(Wu.argument(i,"path",t,["string"]),Wu.argument(i,"newName",r,["string"]),Wu.options(i,"options",n,{overwrite:["boolean"]}),Un.basename(r)!==r)throw new Error(`Argument "newName" passed to ${i} should be a filename, not a path. Received "${r}"`)},AT=(e,t,r)=>{let n=Un.join(Un.dirname(e),t);Ty.sync(e,n,r)},PT=(e,t,r)=>{let n=Un.join(Un.dirname(e),t);return Ty.async(e,n,r)};Xo.validateInput=kT;Xo.sync=AT;Xo.async=PT});var Ny=X($o=>{"use strict";var xy=require("path"),Vo=ze(),Cy=Fe(),Dy=mr(),LT=(e,t,r)=>{let n=`${e}(symlinkValue, path)`;Cy.argument(n,"symlinkValue",t,["string"]),Cy.argument(n,"path",r,["string"])},IT=(e,t)=>{try{Vo.symlinkSync(e,t)}catch(r){if(r.code==="ENOENT")Dy.createSync(xy.dirname(t)),Vo.symlinkSync(e,t);else throw r}},jT=(e,t)=>new Promise((r,n)=>{Vo.symlink(e,t).then(r).catch(i=>{i.code==="ENOENT"?Dy.createAsync(xy.dirname(t)).then(()=>Vo.symlink(e,t)).then(r,n):n(i)})});$o.validateInput=LT;$o.sync=IT;$o.async=jT});var Ay=X(Xu=>{"use strict";var ky=require("fs");Xu.createWriteStream=ky.createWriteStream;Xu.createReadStream=ky.createReadStream});var Fy=X(Ho=>{"use strict";var Vu=require("path"),MT=require("os"),Py=require("crypto"),Ly=mr(),Iy=ze(),FT=Fe(),RT=(e,t)=>{let r=`${e}([options])`;FT.options(r,"options",t,{prefix:["string"],basePath:["string"]})},jy=(e,t)=>{e=e||{};let r={};return typeof e.prefix!="string"?r.prefix="":r.prefix=e.prefix,typeof e.basePath=="string"?r.basePath=Vu.resolve(t,e.basePath):r.basePath=MT.tmpdir(),r},My=32,qT=(e,t)=>{let r=jy(t,e),n=Py.randomBytes(My/2).toString("hex"),i=Vu.join(r.basePath,r.prefix+n);try{Iy.mkdirSync(i)}catch(o){if(o.code==="ENOENT")Ly.sync(i);else throw o}return i},BT=(e,t)=>new Promise((r,n)=>{let i=jy(t,e);Py.randomBytes(My/2,(o,a)=>{if(o)n(o);else{let s=a.toString("hex"),u=Vu.join(i.basePath,i.prefix+s);Iy.mkdir(u,c=>{c?c.code==="ENOENT"?Ly.async(u).then(()=>{r(u)},n):n(c):r(u)})}})});Ho.validateInput=RT;Ho.sync=qT;Ho.async=BT});var Wy=X((Fx,Uy)=>{"use strict";var Ry=require("util"),$u=require("path"),zo=_g(),Go=mr(),Ko=Og(),Yo=ty(),Qo=Vr(),Jo=iy(),Zo=qu(),ea=jo(),ta=To(),ra=Uu(),na=Sy(),ia=go(),oa=Oy(),aa=Ny(),qy=Ay(),sa=Fy(),ua=jn(),By=e=>{let t=()=>e||process.cwd(),r=function(){if(arguments.length===0)return t();let s=Array.prototype.slice.call(arguments),u=[t()].concat(s);return By($u.resolve.apply(null,u))},n=s=>$u.resolve(t(),s),i=function(){return Array.prototype.unshift.call(arguments,t()),$u.resolve.apply(null,arguments)},o=s=>{let u=s||{};return u.cwd=t(),u},a={cwd:r,path:i,append:(s,u,c)=>{zo.validateInput("append",s,u,c),zo.sync(n(s),u,c)},appendAsync:(s,u,c)=>(zo.validateInput("appendAsync",s,u,c),zo.async(n(s),u,c)),copy:(s,u,c)=>{Zo.validateInput("copy",s,u,c),Zo.sync(n(s),n(u),c)},copyAsync:(s,u,c)=>(Zo.validateInput("copyAsync",s,u,c),Zo.async(n(s),n(u),c)),createWriteStream:(s,u)=>qy.createWriteStream(n(s),u),createReadStream:(s,u)=>qy.createReadStream(n(s),u),dir:(s,u)=>{Go.validateInput("dir",s,u);let c=n(s);return Go.sync(c,u),r(c)},dirAsync:(s,u)=>(Go.validateInput("dirAsync",s,u),new Promise((c,f)=>{let h=n(s);Go.async(h,u).then(()=>{c(r(h))},f)})),exists:s=>(ea.validateInput("exists",s),ea.sync(n(s))),existsAsync:s=>(ea.validateInput("existsAsync",s),ea.async(n(s))),file:(s,u)=>(Ko.validateInput("file",s,u),Ko.sync(n(s),u),a),fileAsync:(s,u)=>(Ko.validateInput("fileAsync",s,u),new Promise((c,f)=>{Ko.async(n(s),u).then(()=>{c(a)},f)})),find:(s,u)=>(typeof u=="undefined"&&typeof s=="object"&&(u=s,s="."),Yo.validateInput("find",s,u),Yo.sync(n(s),o(u))),findAsync:(s,u)=>(typeof u=="undefined"&&typeof s=="object"&&(u=s,s="."),Yo.validateInput("findAsync",s,u),Yo.async(n(s),o(u))),inspect:(s,u)=>(Qo.validateInput("inspect",s,u),Qo.sync(n(s),u)),inspectAsync:(s,u)=>(Qo.validateInput("inspectAsync",s,u),Qo.async(n(s),u)),inspectTree:(s,u)=>(Jo.validateInput("inspectTree",s,u),Jo.sync(n(s),u)),inspectTreeAsync:(s,u)=>(Jo.validateInput("inspectTreeAsync",s,u),Jo.async(n(s),u)),list:s=>(ta.validateInput("list",s),ta.sync(n(s||"."))),listAsync:s=>(ta.validateInput("listAsync",s),ta.async(n(s||"."))),move:(s,u,c)=>{ra.validateInput("move",s,u,c),ra.sync(n(s),n(u),c)},moveAsync:(s,u,c)=>(ra.validateInput("moveAsync",s,u,c),ra.async(n(s),n(u),c)),read:(s,u)=>(na.validateInput("read",s,u),na.sync(n(s),u)),readAsync:(s,u)=>(na.validateInput("readAsync",s,u),na.async(n(s),u)),remove:s=>{ia.validateInput("remove",s),ia.sync(n(s||"."))},removeAsync:s=>(ia.validateInput("removeAsync",s),ia.async(n(s||"."))),rename:(s,u,c)=>{oa.validateInput("rename",s,u,c),oa.sync(n(s),u,c)},renameAsync:(s,u,c)=>(oa.validateInput("renameAsync",s,u,c),oa.async(n(s),u,c)),symlink:(s,u)=>{aa.validateInput("symlink",s,u),aa.sync(s,n(u))},symlinkAsync:(s,u)=>(aa.validateInput("symlinkAsync",s,u),aa.async(s,n(u))),tmpDir:s=>{sa.validateInput("tmpDir",s);let u=sa.sync(t(),s);return r(u)},tmpDirAsync:s=>(sa.validateInput("tmpDirAsync",s),new Promise((u,c)=>{sa.async(t(),s).then(f=>{u(r(f))},c)})),write:(s,u,c)=>{ua.validateInput("write",s,u,c),ua.sync(n(s),u,c)},writeAsync:(s,u,c)=>(ua.validateInput("writeAsync",s,u,c),ua.async(n(s),u,c))};return Ry.inspect.custom!==void 0&&(a[Ry.inspect.custom]=()=>`[fs-jetpack CWD: ${t()}]`),a};Uy.exports=By});var la=X((Rx,Xy)=>{"use strict";var UT=Wy();Xy.exports=UT()});ba(exports,{default:()=>pl});var He=at(require("obsidian"));var Vy=at(Fc()),$y=at(require("path")),Hy=at(eg()),vr=at(la());function Hu(e){return e.replace(/[/|\\:*?"<>]/g,"")}var Ee=class{constructor(...t){if(t.length>1){let r=new Ee(Ee.join(...t));this.data=r.data,this.sep=r.sep}else{let r=t[0],n="/";r.includes("\\")&&(n="\\"),r.includes("/")&&(n="/"),r===n||r===""?this.data=[]:this.data=r.split(n).filter(i=>i!=""),this.sep=n}}getParent(t=1){return new Ee(this.data.slice(0,-t).join(this.sep))}join(...t){let r=new Ee(this.data.join(this.sep));return t.forEach(n=>{r.data.push(...new Ee(n).data)}),r}static join(...t){return new Ee(t[0]).join(...t.slice(1)).string}withName(t){return this.getParent().join(t)}withStem(t){return this.getParent().join(t+"."+this.suffix)}withSuffix(t,r=!1){return r?this.getParent().join(this.name+"."+t):this.getParent().join(this.stem+"."+t)}get length(){return this.data.length}get parent(){return this.getParent()}get name(){return this.data[this.data.length-1]}get stem(){let t=this.name.split(".");return t.length>1&&t.pop(),t.join(".")}get suffix(){let t=this.name.split(".");return t.length>1?t.pop():""}get string(){let t=this.data[0],r=this.data.map(Hu);return t.length==2&&t[1]==":"&&(r[0]=r[0]+":"),r.join(this.sep)}};var zu=class{constructor(t,r){this.name=t,this.url=r;let[n,i]=r.split("#");this.urlPath=n,this.urlHref=i??"",this.html=""}},Gu=class{constructor(t,r,n=new Array,i=0,o=null){this.sections=[new zu(t,r)],this.subItems=n,this.level=i,this.parent=o}get name(){return this.sections[0].name??""}},Ku=class{constructor(t,r){this.epubPath=t,this.moreLog=r}async init(){try{this.tmpPath=vr.default.tmpDir().path(),this.moreLog&&console.log("tmp folder path is: ",this.tmpPath),new Ee(this.epubPath).suffix!=""?await vr.default.createReadStream(this.epubPath).pipe(Hy.Extract({path:this.tmpPath})).promise():vr.default.copy(this.epubPath,this.tmpPath,{overwrite:!0}),[this.opfFilePath,this.opfContent]=await this.parseBySuffix("opf"),[this.ncxFilePath,this.ncxContent]=await this.parseBySuffix("ncx"),await this.parseToc(),await this.parseCover(),await this.parseMeta()}catch(t){throw console.log(t),new Error("failed to parse the .epub file")}}async parseBySuffix(t){let r=new Vy.Parser,n=$y.join(this.tmpPath,vr.default.cwd(this.tmpPath).find({matching:`**/**.${t}`})[0]),i=vr.default.read(n);return[n,await r.parseStringPromise(i)]}generateToc(){let t=this.ncxContent.ncx.navMap[0].navPoint,r=(s,u)=>{let c=new Gu(s.navLabel[0].text[0],new Ee(this.ncxFilePath).parent.join(s.content[0].$.src).string,s.navPoint?.map(f=>r(f,u+1))??[],u);return c.subItems.forEach(f=>f.parent=c),c};this.toc=t.map(s=>r(s,0));let n=s=>{this.chapters.push(s),s.subItems.forEach(n,s)};this.chapters=[],this.toc.forEach(n);let i=this.opfContent.package.manifest[0].item.map(s=>s.$.href).filter(s=>[".html",".xhtml"].some(u=>s.includes(u))).map(s=>new Ee(this.opfFilePath).parent.join(s).string),o=[];this.chapters.forEach(s=>{o.push(i.indexOf(s.sections[0].urlPath))});let a=0;i.forEach((s,u)=>{if(!o.includes(u)){let c=o.indexOf([...o].sort((f,h)=>h-f).find(f=>f<u));c>0?this.chapters[c].sections.push(new zu(null,s)):this.toc.splice(a++,0,new Gu(new Ee(s).stem,s))}}),this.chapters=[],this.toc.forEach(n),this.sections=this.chapters.flatMap(s=>s.sections)}async parseToc(){this.generateToc();let t=[...new Set(this.sections.map(n=>n.urlPath))],r=[];t.forEach(n=>{let i={url:n,names:[],hrefs:[],html:""};this.sections.filter(a=>a.urlPath==n).forEach(a=>{i.names.push(a.name?Hu(a.name):null),i.hrefs.push(a.urlHref)});let o=vr.default.read(n);o&&(i.html=o),r.push(i)}),r.forEach(n=>{if(!n.hrefs.length)this.sections.find(i=>i.urlPath==n.url).html=n.html;else{let i=new RegExp(`<.*?id=['"](?:${n.hrefs.join("|")})['"].*?>`,"g"),a=((u,c,f)=>{let h=u.split(c);return f>h.length&&(f=h.length),h.slice(0,f-1).concat([h.slice(f-1).join(c)])})(n.html,i,n.hrefs.length+1);n.hrefs[0]!=""&&a.shift();let s=n.hrefs.map(u=>u?"#"+u:"");a.forEach((u,c)=>{try{this.sections.find(f=>f.url==n.url+s[c]).html=u}catch(f){console.warn("Some errors occurred when we split a .html/.xhtml file to sections")}})}})}async parseCover(){let t=this.opfContent.package.manifest[0].item.find(r=>["cover","Cover"].some(n=>r.$.id.includes(n)));t&&(this.coverPath=new Ee(this.opfFilePath).parent.join(t.$.href).string)}async parseMeta(){let t=this.opfContent.package.metadata[0];this.meta=new Map,this.meta.set("title",t["dc:title"]?.[0]??""),this.meta.set("author",t["dc:creator"]?.[0]?._??""),this.meta.set("publisher",t["dc:publisher"]?.[0]??""),this.meta.set("language",t["dc:language"]?.[0]??""),this.meta.set("bookName",new Ee(this.epubPath).stem)}};var ca=at(require("obsidian")),Yu=at(la()),Qu=class extends ca.SuggestModal{constructor(t,r,n){super(t);this.emptyStateText="No .epub files found in libraries.";this.onSubmit=n,this.libraries=r.settings.libraries,this.listenfromFile(),this.listenfromEnter(()=>{this.inputEl.value&&this.trySubmit(this.inputEl.value)})}getSuggestions(t){let r=[];return this.libraries.forEach(n=>{Yu.default.find(n,{matching:"**/**.epub"}).forEach(i=>{r.push(Yu.default.path(i))})}),r.filter(n=>n.includes(t))}renderSuggestion(t,r){r.createEl("div",{text:t})}onChooseSuggestion(t){this.trySubmit(t)}trySubmit(t){let r=t.replace(/^"(.+(?="$))"$/,"$1");try{this.onSubmit(r),this.close()}catch(n){new ca.Notice("Invalid path.")}}listenfromFile(){this.inputEl.addEventListener("paste",t=>{if(t.clipboardData.files.length==1){let r=t.clipboardData.files[0].path;this.inputEl.value=r}})}listenfromEnter(t){this.inputEl.addEventListener("keyup",({key:r})=>{r==="Enter"&&t()})}};var Wn=class{static parse(t,r,n){let i=new Wn(t);return i.parseImagePath(r,n),i.parseFontNote(),i.parseInnerLink(),i.content}constructor(t){this.content=t}parseImagePath(t,r){this.content=this.content.replaceAll(/!\[.*?\]\((.*?)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)").replaceAll(/!\[\].*?\(.*?([^\\/]*)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)"),r=="![](imagePath)"&&(t=t.replaceAll(" ","%20")),r=="![[imagePath]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]")),r=="![[imagePath|caption]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]"),this.content=this.content.replaceAll(/!\[\[(.*images.*)\]\]\n+(\**.*)\n/g,`![[$1|$2]]
`)),this.content=this.content.replaceAll(/images/g,t)}parseFontNote(){this.content=this.content.replace(/([^!])\[\[(\d+)\]\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/([^!])\[(\d+)\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/^(\[\^\d+\])(.*?)$/gm,"$1: $2")}parseInnerLink(){this.content=this.content.replaceAll(/([^!])\[\s*([^\]]*?)\s*\]\(\s*([^)]*?)\s*\)/g,"$1[[$3\\|$2]]")}};var zy={tag:"book",libraries:[],byDrag:!1,savePath:"",assetsPath:"{{savePath}}/{{bookName}}/images",granularity:4,mocName:"{{bookName}}",mocPropertysTemplate:`title: {{bookName}}
author: {{author}}
publisher: {{publisher}}
status: false`,notePropertysTemplate:"",imageFormat:"![](imagePath)",autoOpenRightPanel:!1,allbooks:!1,removeDuplicateFolders:!1,moreLog:!1};var qe=at(require("obsidian"));function Re(e){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ju(e,t){if(Re(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Re(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e){var t=Ju(e,"string");return Re(t)=="symbol"?t:String(t)}function Gy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xn(n.key),n)}}function rt(e,t,r){return t&&Gy(e.prototype,t),r&&Gy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vn(e,t)}function Hr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vn(e,t)}function br(e,t){if(t&&(Re(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ft(e)}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nt(e)}function bt(e,t,r){return t=Xn(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zu(e){if(Array.isArray(e))return e}function el(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tl(e,t){if(!!e){if(typeof e=="string")return fa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fa(e,t)}}function rl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nl(e){return Zu(e)||el(e)||tl(e)||rl()}function Ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var WT={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},XT=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tt(this,e),this.init(t,r)}return rt(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||WT,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,o){return o&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new e(this.logger,Yy(Yy({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}}]),e}(),wt=new XT,er=function(){function e(){tt(this,e),this.observers={}}return rt(e,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(o){i.observers[o]=i.observers[o]||[],i.observers[o].push(n)}),this}},{key:"off",value:function(r,n){if(!!this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(this.observers[r]){var a=[].concat(this.observers[r]);a.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(i))})}}}]),e}();function $n(){var e,t,r=new Promise(function(n,i){e=n,t=i});return r.resolve=e,r.reject=t,r}function Qy(e){return e==null?"":""+e}function VT(e,t,r){e.forEach(function(n){t[n]&&(r[n]=t[n])})}function il(e,t,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}for(var o=typeof t!="string"?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=n(o.shift());!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={}}return i()?{}:{obj:e,k:n(o.shift())}}function Jy(e,t,r){var n=il(e,t,Object),i=n.obj,o=n.k;i[o]=r}function $T(e,t,r,n){var i=il(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],n&&(o[a]=o[a].concat(r)),n||o[a].push(r)}function ha(e,t){var r=il(e,t),n=r.obj,i=r.k;if(!!n)return n[i]}function HT(e,t,r){var n=ha(e,r);return n!==void 0?n:ha(t,r)}function Zy(e,t,r){for(var n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?typeof e[n]=="string"||e[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?r&&(e[n]=t[n]):Zy(e[n],t[n],r):e[n]=t[n]);return e}function zr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function GT(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return zT[t]}):e}var pa=typeof window!="undefined"&&window.navigator&&typeof window.navigator.userAgentData=="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,KT=[" ",",","?","!",";"];function YT(e,t,r){t=t||"",r=r||"";var n=KT.filter(function(s){return t.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(r);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}function da(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!e){if(e[t])return e[t];for(var n=t.split(r),i=e,o=0;o<n.length;++o){if(!i||typeof i[n[o]]=="string"&&o+1<n.length)return;if(i[n[o]]===void 0){for(var a=2,s=n.slice(o,o+a).join(r),u=i[s];u===void 0&&n.length>o+a;)a++,s=n.slice(o,o+a).join(r),u=i[s];if(u===void 0)return;if(u===null)return null;if(t.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var c=n.slice(o+a).join(r);return c?da(u,c,r):void 0}i=i[n[o]]}return i}}function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?em(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QT(e){var t=JT();return function(){var n=nt(e),i;if(t){var o=nt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return br(this,i)}}function JT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var ZT=function(e){Hr(r,e);var t=QT(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return tt(this,r),i=t.call(this),pa&&er.call(ft(i)),i.data=n||{},i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return rt(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var o=this.options.ns.indexOf(i);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,o];a&&typeof a!="string"&&(f=f.concat(a)),a&&typeof a=="string"&&(f=f.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(f=i.split("."));var h=ha(this.data,f);return h||!c||typeof a!="string"?h:da(this.data&&this.data[i]&&this.data[i][o],a,u)}},{key:"addResource",value:function(i,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=[i,o];a&&(f=f.concat(c?a.split(c):a)),i.indexOf(".")>-1&&(f=i.split("."),s=o,o=f[1]),this.addNamespaces(o),Jy(this.data,f,s),u.silent||this.emit("added",i,o,a,s)}},{key:"addResources",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(i,o,u,a[u],{silent:!0});s.silent||this.emit("added",i,o,a)}},{key:"addResourceBundle",value:function(i,o,a,s,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,o];i.indexOf(".")>-1&&(f=i.split("."),s=a,a=o,o=f[1]),this.addNamespaces(o);var h=ha(this.data,f)||{};s?Zy(h,a,u):h=ga(ga({},h),a),Jy(this.data,f,h),c.silent||this.emit("added",i,o,a)}},{key:"removeResourceBundle",value:function(i,o){this.hasResourceBundle(i,o)&&delete this.data[i][o],this.removeNamespaces(o),this.emit("removed",i,o)}},{key:"hasResourceBundle",value:function(i,o){return this.getResource(i,o)!==void 0}},{key:"getResourceBundle",value:function(i,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ga(ga({},{}),this.getResource(i,o)):this.getResource(i,o)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var o=this.getDataByLanguage(i),a=o&&Object.keys(o)||[];return!!a.find(function(s){return o[s]&&Object.keys(o[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(er),tm={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,i,o){var a=this;return t.forEach(function(s){a.processors[s]&&(r=a.processors[s].process(r,n,i,o))}),r}};function rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rm(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1(e){var t=t1();return function(){var n=nt(e),i;if(t){var o=nt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return br(this,i)}}function t1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var nm={},im=function(e){Hr(r,e);var t=e1(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tt(this,r),i=t.call(this),pa&&er.call(ft(i)),VT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,ft(i)),i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=wt.create("translator"),i}return rt(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,o);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,o){var a=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ns||this.options.defaultNS||[],c=a&&i.indexOf(a)>-1,f=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!YT(i,a,s);if(c&&!f){var h=i.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:i,namespaces:u};var d=i.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(u=d.shift()),i=d.join(s)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,o,a){var s=this;if(Re(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),Re(o)==="object"&&(o=Xe({},o)),o||(o={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],o),h=f.key,d=f.namespaces,p=d[d.length-1],g=o.lng||this.language,m=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g&&g.toLowerCase()==="cimode"){if(m){var E=o.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(p).concat(E).concat(h),usedKey:h,exactUsedKey:h,usedLng:g,usedNS:p}:"".concat(p).concat(E).concat(h)}return u?{res:h,usedKey:h,exactUsedKey:h,usedLng:g,usedNS:p}:h}var _=this.resolve(i,o),b=_&&_.res,v=_&&_.usedKey||h,y=_&&_.exactUsedKey||h,w=Object.prototype.toString.apply(b),O=["[object Number]","[object Function]","[object RegExp]"],P=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,L=typeof b!="string"&&typeof b!="boolean"&&typeof b!="number";if(T&&b&&L&&O.indexOf(w)<0&&!(typeof P=="string"&&w==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,b,Xe(Xe({},o),{},{ns:d})):"key '".concat(h," (").concat(this.language,")' returned an object instead of string.");return u?(_.res=A,_):A}if(c){var M=w==="[object Array]",B=M?[]:{},G=M?y:v;for(var te in b)if(Object.prototype.hasOwnProperty.call(b,te)){var R="".concat(G).concat(c).concat(te);B[te]=this.translate(R,Xe(Xe({},o),{joinArrays:!1,ns:d})),B[te]===R&&(B[te]=b[te])}b=B}}else if(T&&typeof P=="string"&&w==="[object Array]")b=b.join(P),b&&(b=this.extendTranslation(b,i,o,a));else{var U=!1,Y=!1,Q=o.count!==void 0&&typeof o.count!="string",I=r.hasDefaultValue(o),V=Q?this.pluralResolver.getSuffix(g,o.count,o):"",K=o["defaultValue".concat(V)]||o.defaultValue;!this.isValidLookup(b)&&I&&(U=!0,b=K),this.isValidLookup(b)||(Y=!0,b=h);var J=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,ee=J&&Y?void 0:b,re=I&&K!==b&&this.options.updateMissing;if(Y||U||re){if(this.logger.log(re?"updateKey":"missingKey",g,p,h,re?K:b),c){var ue=this.resolve(h,Xe(Xe({},o),{},{keySeparator:!1}));ue&&ue.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var k=[],C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&C&&C[0])for(var H=0;H<C.length;H++)k.push(C[H]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(o.lng||this.language):k.push(o.lng||this.language);var q=function(ce,ve,Se){var De=I&&Se!==b?Se:ee;s.options.missingKeyHandler?s.options.missingKeyHandler(ce,p,ve,De,re,o):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ce,p,ve,De,re,o),s.emit("missingKey",ce,p,ve,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?k.forEach(function(se){s.pluralResolver.getSuffixes(se,o).forEach(function(ce){q([se],h+ce,o["defaultValue".concat(ce)]||K)})}):q(k,h,K))}b=this.extendTranslation(b,i,o,_,a),Y&&b===h&&this.options.appendNamespaceToMissingKey&&(b="".concat(p,":").concat(h)),(Y||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(h):h,U?b:void 0):b=this.options.parseMissingKeyHandler(b))}return u?(_.res=b,_):b}},{key:"extendTranslation",value:function(i,o,a,s,u){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Xe(Xe({},this.options.interpolation.defaultVariables),a),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Xe(Xe({},a),{interpolation:Xe(Xe({},this.options.interpolation),a.interpolation)}));var f=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(f){var d=i.match(this.interpolator.nestingRegexp);h=d&&d.length}var p=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(p=Xe(Xe({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,a.lng||this.language,a),f){var g=i.match(this.interpolator.nestingRegexp),m=g&&g.length;h<m&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(a.lng=s.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var b=arguments.length,v=new Array(b),y=0;y<b;y++)v[y]=arguments[y];return u&&u[0]===v[0]&&!a.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(v[0]," in key: ").concat(o[0])),null):c.translate.apply(c,v.concat([o]))},a)),a.interpolation&&this.interpolator.reset()}var E=a.postProcess||this.options.postProcess,_=typeof E=="string"?[E]:E;return i!=null&&_&&_.length&&a.applyPostProcessor!==!1&&(i=tm.handle(_,i,o,this.options&&this.options.postProcessPassResolved?Xe({i18nResolved:s},a):a,this)),i}},{key:"resolve",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,c,f,h;return typeof i=="string"&&(i=[i]),i.forEach(function(d){if(!o.isValidLookup(s)){var p=o.extractFromKey(d,a),g=p.key;u=g;var m=p.namespaces;o.options.fallbackNS&&(m=m.concat(o.options.fallbackNS));var E=a.count!==void 0&&typeof a.count!="string",_=E&&!a.ordinal&&a.count===0&&o.pluralResolver.shouldUseIntlApi(),b=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",v=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);m.forEach(function(y){o.isValidLookup(s)||(h=y,!nm["".concat(v[0],"-").concat(y)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(h)&&(nm["".concat(v[0],"-").concat(y)]=!0,o.logger.warn('key "'.concat(u,'" for languages "').concat(v.join(", "),`" won't get resolved as namespace "`).concat(h,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(function(w){if(!o.isValidLookup(s)){f=w;var O=[g];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(O,g,w,y,a);else{var P;E&&(P=o.pluralResolver.getSuffix(w,a.count,a));var T="".concat(o.options.pluralSeparator,"zero");if(E&&(O.push(g+P),_&&O.push(g+T)),b){var L="".concat(g).concat(o.options.contextSeparator).concat(a.context);O.push(L),E&&(O.push(L+P),_&&O.push(L+T))}}for(var A;A=O.pop();)o.isValidLookup(s)||(c=A,s=o.getResource(w,y,A,a))}}))})}}),{res:s,usedKey:u,exactUsedKey:c,usedLng:f,usedNS:h}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,o,a,s):this.resourceStore.getResource(i,o,a,s)}}],[{key:"hasDefaultValue",value:function(i){var o="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&o===a.substring(0,o.length)&&i[a]!==void 0)return!0;return!1}}]),r}(er);function ol(e){return e.charAt(0).toUpperCase()+e.slice(1)}var om=function(){function e(t){tt(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wt.create("languageUtils")}return rt(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(o){return o.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=ol(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=ol(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=ol(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(o){if(!i){var a=n.formatLanguageCode(o);(!n.options.supportedLngs||n.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&r.forEach(function(o){if(!i){var a=n.getLanguagePartFromCode(o);if(n.isSupportedCode(a))return i=a;i=n.options.supportedLngs.find(function(s){if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&s.indexOf(a)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,o=this.getFallbackCodes(n||this.options.fallbackLng||[],r),a=[],s=function(c){!c||(i.isSupportedCode(c)?a.push(c):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),o.forEach(function(u){a.indexOf(u)<0&&s(i.formatLanguageCode(u))}),a}}]),e}(),r1=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],n1={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},i1=["v1","v2","v3"],am={zero:0,one:1,two:2,few:3,many:4,other:5};function o1(){var e={};return r1.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:n1[t.fc]}})}),e}var a1=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tt(this,e),this.languageUtils=t,this.options=r,this.logger=wt.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=o1()}return rt(e,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch(i){return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(o){return"".concat(n).concat(o)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(r,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(a,s){return am[a]-am[s]}).map(function(a){return"".concat(n.options.prepend).concat(a)}):o.numbers.map(function(a){return n.getSuffix(r,a,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(r,i);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(n)):this.getSuffixRetroCompatible(o,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,o=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),a=r.numbers[o];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var s=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!i1.includes(this.options.compatibilityJSON)}}]),e}();function sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function um(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=HT(e,t,r);return!o&&i&&typeof r=="string"&&(o=da(e,r,n),o===void 0&&(o=da(t,r,n))),o}var s1=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,e),this.logger=wt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return rt(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:GT,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?zr(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?zr(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?zr(n.nestingPrefix):n.nestingPrefixEscaped||zr("$t("),this.nestingSuffix=n.nestingSuffix?zr(n.nestingSuffix):n.nestingSuffixEscaped||zr(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,o){var a=this,s,u,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(E){return E.replace(/\$/g,"$$$$")}var d=function(_){if(_.indexOf(a.formatSeparator)<0){var b=um(n,f,_,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(b,void 0,i,ht(ht(ht({},o),n),{},{interpolationkey:_})):b}var v=_.split(a.formatSeparator),y=v.shift().trim(),w=v.join(a.formatSeparator).trim();return a.format(um(n,f,y,a.options.keySeparator,a.options.ignoreJSONStructure),w,i,ht(ht(ht({},o),n),{},{interpolationkey:y}))};this.resetRegExp();var p=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,g=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(_){return h(_)}},{regex:this.regexp,safeValue:function(_){return a.escapeValue?h(a.escape(_)):h(_)}}];return m.forEach(function(E){for(c=0;s=E.regex.exec(r);){var _=s[1].trim();if(u=d(_),u===void 0)if(typeof p=="function"){var b=p(r,s,o);u=typeof b=="string"?b:""}else if(o&&Object.prototype.hasOwnProperty.call(o,_))u="";else if(g){u=s[0];continue}else a.logger.warn("missed to pass in variable ".concat(_," for interpolating ").concat(r)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=Qy(u));var v=E.safeValue(u);if(r=r.replace(s[0],v),g?(E.regex.lastIndex+=u.length,E.regex.lastIndex-=s[0].length):E.regex.lastIndex=0,c++,c>=a.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,u;function c(p,g){var m=this.nestingOptionsSeparator;if(p.indexOf(m)<0)return p;var E=p.split(new RegExp("".concat(m,"[ ]*{"))),_="{".concat(E[1]);p=E[0],_=this.interpolate(_,u);var b=_.match(/'/g),v=_.match(/"/g);(b&&b.length%2==0&&!v||v.length%2!=0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),g&&(u=ht(ht({},g),u))}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),y),"".concat(p).concat(m).concat(_)}return delete u.defaultValue,p}for(;a=this.nestingRegexp.exec(r);){var f=[];u=ht({},o),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var h=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var d=a[1].split(this.formatSeparator).map(function(p){return p.trim()});a[1]=d.shift(),f=d,h=!0}if(s=n(c.call(this,a[1].trim(),u),u),s&&a[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Qy(s)),s||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(r)),s=""),h&&(s=f.reduce(function(p,g){return i.format(p,g,o.lng,ht(ht({},o),{},{interpolationkey:a[1].trim()}))},s.trim())),r=r.replace(a[0],s),this.regexp.lastIndex=0}return r}}]),e}();function lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lm(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u1(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(t==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var o=i.split(";");o.forEach(function(a){if(!!a){var s=a.split(":"),u=nl(s),c=u[0],f=u.slice(1),h=f.join(":").trim().replace(/^'+|'+$/g,"");r[c.trim()]||(r[c.trim()]=h),h==="false"&&(r[c.trim()]=!1),h==="true"&&(r[c.trim()]=!0),isNaN(h)||(r[c.trim()]=parseInt(h,10))}})}}return{formatName:t,formatOptions:r}}function Gr(e){var t={};return function(n,i,o){var a=i+JSON.stringify(o),s=t[a];return s||(s=e(i,o),t[a]=s),s(n)}}var l1=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,e),this.logger=wt.create("formatter"),this.options=t,this.formats={number:Gr(function(r,n){var i=new Intl.NumberFormat(r,It({},n));return function(o){return i.format(o)}}),currency:Gr(function(r,n){var i=new Intl.NumberFormat(r,It(It({},n),{},{style:"currency"}));return function(o){return i.format(o)}}),datetime:Gr(function(r,n){var i=new Intl.DateTimeFormat(r,It({},n));return function(o){return i.format(o)}}),relativetime:Gr(function(r,n){var i=new Intl.RelativeTimeFormat(r,It({},n));return function(o){return i.format(o,n.range||"day")}}),list:Gr(function(r,n){var i=new Intl.ListFormat(r,It({},n));return function(o){return i.format(o)}})},this.init(t)}return rt(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Gr(n)}},{key:"format",value:function(r,n,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),u=s.reduce(function(c,f){var h=u1(f),d=h.formatName,p=h.formatOptions;if(o.formats[d]){var g=c;try{var m=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},E=m.locale||m.lng||a.locale||a.lng||i;g=o.formats[d](c,E,It(It(It({},p),a),m))}catch(_){o.logger.warn(_)}return g}else o.logger.warn("there was no format function for ".concat(d));return c},r);return u}}]),e}();function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1(e){var t=f1();return function(){var n=nt(e),i;if(t){var o=nt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return br(this,i)}}function f1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h1(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var p1=function(e){Hr(r,e);var t=c1(r);function r(n,i,o){var a,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return tt(this,r),a=t.call(this),pa&&er.call(ft(a)),a.backend=n,a.store=i,a.services=o,a.languageUtils=o.languageUtils,a.options=s,a.logger=wt.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=s.maxParallelReads||10,a.readingCalls=0,a.maxRetries=s.maxRetries>=0?s.maxRetries:5,a.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,s.backend,s),a}return rt(r,[{key:"queueLoad",value:function(i,o,a,s){var u=this,c={},f={},h={},d={};return i.forEach(function(p){var g=!0;o.forEach(function(m){var E="".concat(p,"|").concat(m);!a.reload&&u.store.hasResourceBundle(p,m)?u.state[E]=2:u.state[E]<0||(u.state[E]===1?f[E]===void 0&&(f[E]=!0):(u.state[E]=1,g=!1,f[E]===void 0&&(f[E]=!0),c[E]===void 0&&(c[E]=!0),d[m]===void 0&&(d[m]=!0)))}),g||(h[p]=!0)}),(Object.keys(c).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(c),pending:Object.keys(f),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}},{key:"loaded",value:function(i,o,a){var s=i.split("|"),u=s[0],c=s[1];o&&this.emit("failedLoading",u,c,o),a&&this.store.addResourceBundle(u,c,a),this.state[i]=o?-1:2;var f={};this.queue.forEach(function(h){$T(h.loaded,[u],c),h1(h,i),o&&h.errors.push(o),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(function(d){f[d]||(f[d]={});var p=h.loaded[d];p.length&&p.forEach(function(g){f[d][g]===void 0&&(f[d][g]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(h){return!h.done})}},{key:"read",value:function(i,o,a){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:o,fcName:a,tried:u,wait:c,callback:f});return}this.readingCalls++;var h=function(m,E){if(s.readingCalls--,s.waitingReads.length>0){var _=s.waitingReads.shift();s.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(m&&E&&u<s.maxRetries){setTimeout(function(){s.read.call(s,i,o,a,u+1,c*2,f)},c);return}f(m,E)},d=this.backend[a].bind(this.backend);if(d.length===2){try{var p=d(i,o);p&&typeof p.then=="function"?p.then(function(g){return h(null,g)}).catch(h):h(null,p)}catch(g){h(g)}return}return d(i,o,h)}},{key:"prepareLoading",value:function(i,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof o=="string"&&(o=[o]);var c=this.queueLoad(i,o,s,u);if(!c.toLoad.length)return c.pending.length||u(),null;c.toLoad.forEach(function(f){a.loadOne(f)})}},{key:"load",value:function(i,o,a){this.prepareLoading(i,o,{},a)}},{key:"reload",value:function(i,o,a){this.prepareLoading(i,o,{reload:!0},a)}},{key:"loadOne",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),u=s[0],c=s[1];this.read(u,c,"read",void 0,void 0,function(f,h){f&&o.logger.warn("".concat(a,"loading namespace ").concat(c," for language ").concat(u," failed"),f),!f&&h&&o.logger.log("".concat(a,"loaded namespace ").concat(c," for language ").concat(u),h),o.loaded(i,f,h)})}},{key:"saveMissing",value:function(i,o,a,s,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var h=fm(fm({},c),{},{isUpdate:u}),d=this.backend.create.bind(this.backend);if(d.length<6)try{var p;d.length===5?p=d(i,o,a,s,h):p=d(i,o,a,s),p&&typeof p.then=="function"?p.then(function(g){return f(null,g)}).catch(f):f(null,p)}catch(g){f(g)}else d(i,o,a,s,f,h)}!i||!i[0]||this.store.addResource(i[0],o,a,s)}}}]),r}(er);function hm(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(Re(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),Re(t[2])==="object"||Re(t[3])==="object"){var n=t[3]||t[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function pm(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function dm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(r),!0).forEach(function(n){bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d1(e){var t=g1();return function(){var n=nt(e),i;if(t){var o=nt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return br(this,i)}}function g1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ya(){}function y1(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var ma=function(e){Hr(r,e);var t=d1(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(tt(this,r),n=t.call(this),pa&&er.call(ft(n)),n.options=pm(i),n.services={},n.logger=wt,n.modules={external:[]},y1(ft(n)),o&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,o),br(n,ft(n));setTimeout(function(){n.init(i,o)},0)}return n}return rt(r,[{key:"init",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(a=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var s=hm();this.options=_t(_t(_t({},s),this.options),pm(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_t(_t({},s.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function u(_){return _?typeof _=="function"?new _:_:null}if(!this.options.isClone){this.modules.logger?wt.init(u(this.modules.logger),this.options):wt.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl!="undefined"&&(c=l1);var f=new om(this.options);this.store=new ZT(this.options.resources,this.options);var h=this.services;h.logger=wt,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new a1(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=u(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new s1(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new p1(u(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(_){for(var b=arguments.length,v=new Array(b>1?b-1:0),y=1;y<b;y++)v[y-1]=arguments[y];i.emit.apply(i,[_].concat(v))}),this.modules.languageDetector&&(h.languageDetector=u(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=u(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new im(this.services,this.options),this.translator.on("*",function(_){for(var b=arguments.length,v=new Array(b>1?b-1:0),y=1;y<b;y++)v[y-1]=arguments[y];i.emit.apply(i,[_].concat(v))}),this.modules.external.forEach(function(_){_.init&&_.init(i)})}if(this.format=this.options.interpolation.format,a||(a=ya),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(_){i[_]=function(){var b;return(b=i.store)[_].apply(b,arguments)}});var g=["addResource","addResources","addResourceBundle","removeResourceBundle"];g.forEach(function(_){i[_]=function(){var b;return(b=i.store)[_].apply(b,arguments),i}});var m=$n(),E=function(){var b=function(y,w){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(w),a(y,w)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return b(null,i.t.bind(i));i.changeLanguage(i.options.lng,b)};return this.options.resources||!this.options.initImmediate?E():setTimeout(E,0),m}},{key:"loadResources",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ya,s=a,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var c=[],f=function(p){if(!!p){var g=o.services.languageUtils.toResolveHierarchy(p);g.forEach(function(m){c.indexOf(m)<0&&c.push(m)})}};if(u)f(u);else{var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.forEach(function(d){return f(d)})}this.options.preload&&this.options.preload.forEach(function(d){return f(d)}),this.services.backendConnector.load(c,this.options.ns,function(d){!d&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),s(d)})}else s(null)}},{key:"reloadResources",value:function(i,o,a){var s=$n();return i||(i=this.languages),o||(o=this.options.ns),a||(a=ya),this.services.backendConnector.reload(i,o,function(u){s.resolve(),a(u)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&tm.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var o=0;o<this.languages.length;o++){var a=this.languages[o];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,o){var a=this;this.isLanguageChangingTo=i;var s=$n();this.emit("languageChanging",i);var u=function(d){a.language=d,a.languages=a.services.languageUtils.toResolveHierarchy(d),a.resolvedLanguage=void 0,a.setResolvedLanguage(d)},c=function(d,p){p?(u(p),a.translator.changeLanguage(p),a.isLanguageChangingTo=void 0,a.emit("languageChanged",p),a.logger.log("languageChanged",p)):a.isLanguageChangingTo=void 0,s.resolve(function(){return a.t.apply(a,arguments)}),o&&o(d,function(){return a.t.apply(a,arguments)})},f=function(d){!i&&!d&&a.services.languageDetector&&(d=[]);var p=typeof d=="string"?d:a.services.languageUtils.getBestMatchFromCodes(d);p&&(a.language||u(p),a.translator.language||a.translator.changeLanguage(p),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(p)),a.loadResources(p,function(g){c(g,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),s}},{key:"getFixedT",value:function(i,o,a){var s=this,u=function c(f,h){var d;if(Re(h)!=="object"){for(var p=arguments.length,g=new Array(p>2?p-2:0),m=2;m<p;m++)g[m-2]=arguments[m];d=s.options.overloadTranslationOptionHandler([f,h].concat(g))}else d=_t({},h);d.lng=d.lng||c.lng,d.lngs=d.lngs||c.lngs,d.ns=d.ns||c.ns,d.keyPrefix=d.keyPrefix||a||c.keyPrefix;var E=s.options.keySeparator||".",_;return d.keyPrefix&&Array.isArray(f)?_=f.map(function(b){return"".concat(d.keyPrefix).concat(E).concat(b)}):_=d.keyPrefix?"".concat(d.keyPrefix).concat(E).concat(f):f,s.t(_,d)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=o,u.keyPrefix=a,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var f=function(p,g){var m=o.services.backendConnector.state["".concat(p,"|").concat(g)];return m===-1||m===2};if(a.precheck){var h=a.precheck(this,f);if(h!==void 0)return h}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,i)&&(!u||f(c,i)))}},{key:"loadNamespaces",value:function(i,o){var a=this,s=$n();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),o&&o(u)}),s):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(i,o){var a=$n();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],u=i.filter(function(c){return s.indexOf(c)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(c){a.resolve(),o&&o(c)}),a):(o&&o(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new om(hm());return o.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ya,s=_t(_t(_t({},this.options),o),{isClone:!0}),u=new r(s);(o.debug!==void 0||o.prefix!==void 0)&&(u.logger=u.logger.clone(o));var c=["store","services","language"];return c.forEach(function(f){u[f]=i[f]}),u.services=_t({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new im(u.services,u.options),u.translator.on("*",function(f){for(var h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];u.emit.apply(u,[f].concat(d))}),u.init(s,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(er);bt(ma,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ma(e,t)});var oe=ma.createInstance();oe.createInstance=ma.createInstance;var AC=oe.createInstance,PC=oe.dir,LC=oe.init,IC=oe.loadResources,jC=oe.reloadResources,MC=oe.use,FC=oe.changeLanguage,RC=oe.getFixedT,qC=oe.t,BC=oe.exists,UC=oe.setDefaultNamespace,WC=oe.hasLoadedNamespace,XC=oe.loadNamespaces,VC=oe.loadLanguages;var al=class extends qe.PluginSettingTab{constructor(t,r){super(t,r);this.plugin=r}display(){let{containerEl:t}=this;t.empty(),new qe.Setting(t).setName(oe.t("Tag_o")).setDesc(oe.t("Tag")).addText(r=>r.setPlaceholder("book").setValue(this.plugin.settings.tag).onChange(async n=>{this.plugin.settings.tag=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:oe.t("import")}),new qe.Setting(t).setName(oe.t("Library_o")).setDesc(oe.t("Library")).addTextArea(r=>{r.setValue(this.plugin.settings.libraries.join(`
`)).onChange(async n=>{this.plugin.settings.libraries=n.split(`
`).map(i=>i.trim()),await this.plugin.saveSettings()})}),new qe.Setting(t).setName(oe.t("byDrag_o")).setDesc(oe.t("byDrag")).addToggle(r=>{r.setValue(this.plugin.settings.byDrag).onChange(async n=>{this.plugin.settings.byDrag=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:oe.t("storage")}),new qe.Setting(t).setName(oe.t("Save path_o")).setDesc(oe.t("Save path")).addText(r=>r.setValue(this.plugin.settings.savePath).onChange(async n=>{this.plugin.settings.savePath=n,await this.plugin.saveSettings()})),new qe.Setting(t).setName(oe.t("Assets path_o")).setDesc(oe.t("Assets path")).addText(r=>r.setValue(this.plugin.settings.assetsPath).onChange(async n=>{this.plugin.settings.assetsPath=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:oe.t("display")}),new qe.Setting(t).setName(oe.t("Hierarchy depth_o")).setDesc(oe.t("Hierarchy depth")).addSlider(r=>{r.setLimits(0,5,1).setDynamicTooltip().setValue(this.plugin.settings.granularity).onChange(async n=>{this.plugin.settings.granularity=n,await this.plugin.saveSettings()})}),new qe.Setting(t).setName("moc file name").setDesc("filename for moc file.").addText(r=>r.setValue(this.plugin.settings.mocName).onChange(async n=>{this.plugin.settings.mocName=n,await this.plugin.saveSettings()})),new qe.Setting(t).setName(oe.t("Propertys template_o")).setDesc(oe.t("Propertys template")).addTextArea(r=>{r.setValue(this.plugin.settings.mocPropertysTemplate).onChange(async n=>{this.plugin.settings.mocPropertysTemplate=n,await this.plugin.saveSettings()})}),new qe.Setting(t).setName("notePropertysTemplate").setDesc("notePropertysTemplate.").addTextArea(r=>{r.setValue(this.plugin.settings.notePropertysTemplate).onChange(async n=>{this.plugin.settings.notePropertysTemplate=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:oe.t("content")}),new qe.Setting(t).setName(oe.t("imageFormat_o")).setDesc(oe.t("imageFormat")).addDropdown(r=>r.addOptions({"![](imagePath)":"![](imagePath)","![[imagePath]]":"![[imagePath]]","![[imagePath|caption]]":"![[imagePath|caption]]"}).setValue(this.plugin.settings.imageFormat).onChange(async n=>{this.plugin.settings.imageFormat=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:oe.t("helper")}),new qe.Setting(t).setName(oe.t("Auto open right panel_o")).setDesc(oe.t("Auto open right panel")).addToggle(r=>{r.setValue(this.plugin.settings.autoOpenRightPanel).onChange(async n=>{this.plugin.settings.autoOpenRightPanel=n,await this.plugin.saveSettings()})}),new qe.Setting(t).setName(oe.t("AllBooks_o")).setDesc(oe.t("AllBooks")).addToggle(r=>{r.setValue(this.plugin.settings.allbooks).onChange(async n=>{this.plugin.settings.allbooks=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:oe.t("developing")}),new qe.Setting(t).setName(oe.t("Remove duplicate folders_o")).setDesc(oe.t("Remove duplicate folders")).addToggle(r=>{r.setValue(this.plugin.settings.removeDuplicateFolders).onChange(async n=>{this.plugin.settings.removeDuplicateFolders=n,await this.plugin.saveSettings()})}),new qe.Setting(t).setName("more log").setDesc("more log").addToggle(r=>{r.setValue(this.plugin.settings.moreLog).onChange(async n=>{this.plugin.settings.moreLog=n,await this.plugin.saveSettings()})})}};var jt=at(la());var gm=at(require("obsidian"));function sl(e,t){let r=e.vault.getMarkdownFiles(),n=[];return r.forEach(i=>{let o=e.metadataCache.getFileCache(i)?.frontmatter?.tags;!o||o.includes(t)&&n.push(i)}),n}function ul(e){return`---
`+(0,gm.stringifyYaml)(e)+`
---`}var fl=at(require("obsidian"));var ll={};ba(ll,{AllBooks:()=>$m,AllBooks_o:()=>Vm,"Assets path":()=>Pm,"Assets path_o":()=>Am,"Auto open right panel":()=>Xm,"Auto open right panel_o":()=>Wm,"Hierarchy depth":()=>jm,"Hierarchy depth_o":()=>Im,Library:()=>Om,Library_o:()=>Tm,"Propertys template":()=>Fm,"Propertys template_o":()=>Mm,"Remove duplicate folders":()=>Gm,"Remove duplicate folders_o":()=>zm,"Save path":()=>km,"Save path_o":()=>Nm,Tag:()=>Em,Tag_o:()=>_m,byDrag:()=>Cm,byDrag_o:()=>xm,content:()=>Rm,default:()=>m1,developing:()=>Hm,display:()=>Lm,helper:()=>Um,imageFormat:()=>Bm,imageFormat_o:()=>qm,import:()=>Sm,"import-epub":()=>ym,"no book in libraries":()=>bm,"no libraries":()=>vm,storage:()=>Dm,"sync-libraries":()=>mm,"sync-libraries_r":()=>wm});var ym="Import epub to your vault",mm="Import all epub from libraries to your vault",vm="You have not added any library to the settings page",bm="There is no epub in the libraries",wm="Successfully imported ${n} books",_m="Tag",Em="The tag is used to identify book objects",Sm="Import",Tm="Library",Om="The plugin will search for .epub files from these paths. Please enter an absolute path, not a relative path in obsidan vault.",xm="Import by drag",Cm="Import .epub file by drag it to obsidian vault. The .epub  file will be deleted after importing.",Dm="Storage",Nm="Save path",km="The plugin will save the imported book to this path.",Am="Assets path",Pm="The plugin will save the assets of the imported book to this path.",Lm="Display/Indexing",Im="Hierarchy depth",jm="Determine the Hierarchy depth of generated markdown notes.",Mm="Propertys template",Fm="The plugin will add these propertys to the imported book.",Rm="Content/Format",qm="imageFormat",Bm="The type of imageFormat. caption only for chinese now.",Um="Helper",Wm="Auto open right panel",Xm="The plugin will open the book note on right panel when you open a book.",Vm="AllBooks",$m="Create AllBooks.md in root folder",Hm="Developing",zm="Remove duplicate folders",Gm="Remove duplicate folders(risky, for users who understand the usefulness of this option, or developers).",m1={"import-epub":ym,"sync-libraries":mm,"no libraries":vm,"no book in libraries":bm,"sync-libraries_r":wm,Tag_o:_m,Tag:Em,import:Sm,Library_o:Tm,Library:Om,byDrag_o:xm,byDrag:Cm,storage:Dm,"Save path_o":Nm,"Save path":km,"Assets path_o":Am,"Assets path":Pm,display:Lm,"Hierarchy depth_o":Im,"Hierarchy depth":jm,"Propertys template_o":Mm,"Propertys template":Fm,content:Rm,imageFormat_o:qm,imageFormat:Bm,helper:Um,"Auto open right panel_o":Wm,"Auto open right panel":Xm,AllBooks_o:Vm,AllBooks:$m,developing:Hm,"Remove duplicate folders_o":zm,"Remove duplicate folders":Gm};var cl={};ba(cl,{AllBooks:()=>Tv,AllBooks_o:()=>Sv,"Assets path":()=>fv,"Assets path_o":()=>cv,"Auto open right panel":()=>Ev,"Auto open right panel_o":()=>_v,"Hierarchy depth":()=>dv,"Hierarchy depth_o":()=>pv,Library:()=>iv,Library_o:()=>nv,"Propertys template":()=>yv,"Propertys template_o":()=>gv,"Remove duplicate folders":()=>Cv,"Remove duplicate folders_o":()=>xv,"Save path":()=>lv,"Save path_o":()=>uv,Tag:()=>tv,Tag_o:()=>ev,byDrag:()=>av,byDrag_o:()=>ov,content:()=>mv,default:()=>v1,developing:()=>Ov,display:()=>hv,helper:()=>wv,imageFormat:()=>bv,imageFormat_o:()=>vv,import:()=>rv,"import-epub":()=>Km,"no book in libraries":()=>Jm,"no libraries":()=>Qm,storage:()=>sv,"sync-libraries":()=>Ym,"sync-libraries_r":()=>Zm});var Km="\u5BFC\u5165epub\u5230\u5E93\u4E2D",Ym="\u5C06\u6240\u6709\u4E66\u5E93\u4E2D\u7684epub\u5BFC\u5165\u5230\u5E93\u4E2D",Qm="\u4F60\u6CA1\u6709\u5728\u8BBE\u7F6E\u9875\u4E2D\u6DFB\u52A0\u4EFB\u4F55\u4E66\u5E93",Jm="\u4E66\u5E93\u91CC\u6CA1\u6709\u4EFB\u4F55epub",Zm="\u6210\u529F\u5BFC\u5165\u4E86 ${n} \u672C\u4E66",ev="\u6807\u7B7E",tv="\u8FD9\u4E2A\u6807\u7B7E\u7528\u4E8E\u8BC6\u522B\u4E66\u7C4D\u5BF9\u8C61",rv="\u5BFC\u5165",nv="\u4E66\u5E93",iv="\u8BE5\u63D2\u4EF6\u5C06\u4ECE\u8FD9\u4E9B\u8DEF\u5F84\u4E2D\u641C\u7D22 .epub \u6587\u4EF6\u3002 \u8BF7\u8F93\u5165\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u800C\u4E0D\u662Fobsidian vault\u4E2D\u7684\u76F8\u5BF9\u8DEF\u5F84\u3002",ov="\u901A\u8FC7\u62D6\u62FD\u5BFC\u5165",av="\u5C06.epub\u6587\u4EF6\u62D6\u62FD\u5230obsidian\u5E93\u4E2D\u6765\u5BFC\u5165\u5B83\u3002\u5BFC\u5165\u540E\u5C06\u5220\u9664\u8BE5.epub\u6587\u4EF6\u3002",sv="\u5B58\u50A8",uv="\u4FDD\u5B58\u8DEF\u5F84",lv="\u5BFC\u5165\u7684epub\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",cv="\u9644\u4EF6\u8DEF\u5F84",fv="\u9644\u4EF6\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",hv="\u663E\u793A/\u7D22\u5F15",pv="\u5C42\u7EA7\u6DF1\u5EA6",dv="\u51B3\u5B9A\u751F\u6210\u7684 Markdown \u7B14\u8BB0\u7684\u5C42\u7EA7\u7ED3\u6784\u6DF1\u5EA6\u3002",gv="\u5C5E\u6027\u6A21\u677F",yv="\u5C5E\u6027\u5C06\u4F1A\u88AB\u6DFB\u52A0\u5230\u751F\u6210\u7684 MOC \u6587\u4EF6\u4E2D\u3002",mv="\u5185\u5BB9/\u683C\u5F0F",vv="\u56FE\u7247\u683C\u5F0F",bv="\u56FE\u7247\u7684\u683C\u5F0F\uFF0C\u6807\u6CE8\u73B0\u5728\u4EC5\u652F\u6301\u4E2D\u6587\u3002",wv="\u8F85\u52A9",_v="\u81EA\u52A8\u6253\u5F00\u53F3\u680F",Ev="\u4E8E\u4E00\u672C\u4E66\u7C4D\u5185\u6D4F\u89C8\u65F6\uFF0C\u5728\u53F3\u680F\u6253\u5F00MOC\u6587\u4EF6\uFF0C\u4EE5\u4F9B\u5BFC\u822A\u3002",Sv="AllBooks",Tv="\u5728\u6839\u76EE\u5F55\u521B\u5EFA AllBooks.md \u6587\u4EF6\u3002\u5176\u5C06\u81EA\u52A8\u8FDE\u63A5\u5230\u6BCF\u4E00\u672C\u4E66\u7C4D\u3002",Ov="\u5F00\u53D1",xv="\u5220\u9664\u91CD\u590D\u6587\u4EF6\u5939",Cv="\u5220\u9664\u91CD\u590D\u7684\u6587\u4EF6\u5939\uFF08\u6709\u98CE\u9669\uFF0C\u4EC5\u9002\u7528\u4E8E\u4E86\u89E3\u6B64\u9009\u9879\u6709\u7528\u7684\u7528\u6237\u6216\u5F00\u53D1\u4EBA\u5458\uFF09\u3002",v1={"import-epub":Km,"sync-libraries":Ym,"no libraries":Qm,"no book in libraries":Jm,"sync-libraries_r":Zm,Tag_o:ev,Tag:tv,import:rv,Library_o:nv,Library:iv,byDrag_o:ov,byDrag:av,storage:sv,"Save path_o":uv,"Save path":lv,"Assets path_o":cv,"Assets path":fv,display:hv,"Hierarchy depth_o":pv,"Hierarchy depth":dv,"Propertys template_o":gv,"Propertys template":yv,content:mv,imageFormat_o:vv,imageFormat:bv,helper:wv,"Auto open right panel_o":_v,"Auto open right panel":Ev,AllBooks_o:Sv,AllBooks:Tv,developing:Ov,"Remove duplicate folders_o":xv,"Remove duplicate folders":Cv};var hl={en:{translation:ll},zh_cn:{translation:cl}},Dv=Object.keys(hl).find(e=>e==fl.moment.locale().replace("-","_"))?fl.moment.locale().replace("-","_"):"en";var pl=class extends He.Plugin{async onload(){oe.init({lng:Dv,fallbackLng:"en",resources:hl,returnNull:!1}),this.vaultPath=this.app.vault.adapter.basePath,await this.loadSettings(),this.addSettingTab(new al(this.app,this)),this.addCommand({id:"import-epub",name:oe.t("import-epub"),callback:()=>{new Qu(this.app,this,async t=>{await this.importEpub(t)}).open()}}),this.addCommand({id:"sync-libraries",name:oe.t("sync-libraries"),callback:async()=>{if(this.settings.libraries.length==0){new He.Notice(oe.t("no libraries"));return}let t=0;for(let r=0;r<this.settings.libraries.length;r++){let n=jt.default.find(this.settings.libraries[r],{matching:"**/**.epub"});for(let i=0;i<n.length;i++)await this.importEpub(jt.default.path(n[i])),t++}t==0?(new He.Notice(oe.t("no book in libraries")),console.log(oe.t("no book in libraries"))):(new He.Notice(oe.t("translation:sync-libraries_r").replace("${n}",t.toString())),console.log(oe.t("translation:sync-libraries_r").replace("${n}",t.toString())))}}),this.registerDomEvent(document,"drop",async t=>{if(this.settings.byDrag&&t.toElement.className=="nav-files-container node-insert-event"){let r=t.dataTransfer.files;r.length==1&&new Ee(r[0].name).suffix=="epub"&&(await this.importEpub(r[0].path),jt.default.find(this.vaultPath,{matching:"**/**.epub"}).forEach(jt.default.remove))}}),this.registerEvent(this.app.workspace.on("file-open",t=>{if(!this.settings.autoOpenRightPanel)return;let r=this.getMocPath(t);if(!r)return this.activeLeaf.detach();let n=this.app.vault.getAbstractFileByPath(r).parent.name;this.activeBook!=n&&(this.activeLeaf&&this.activeLeaf.detach(),this.activeBook=n,this.activeLeaf=this.app.workspace.getRightLeaf(!1),this.activeLeaf.setViewState({type:"markdown",state:{file:r,mode:"preview",backlinks:!1,source:!1}}),this.activeLeaf.setPinned(!0),this.app.workspace.revealLeaf(this.activeLeaf))})),this.registerEvent(this.app.workspace.on("quit",()=>{this.activeLeaf.detach()})),this.registerEvent(this.app.workspace.on("file-open",()=>{if(!this.settings.allbooks)return;let t=sl(this.app,this.settings.tag),r=this.app.vault.getAbstractFileByPath("AllBooks.md");r&&r instanceof He.TFile?this.app.vault.modify(r,t.map(n=>`- [[${n.path}|${n.parent?.name}]]`).join(`
`)):this.app.vault.create("AllBooks.md",t.map(n=>`[[${n.path}|${n.parent?.name}]]`).join(`
`))}))}onunload(){try{this.activeLeaf.detach()}catch(t){}}async loadSettings(){this.settings=Object.assign({},zy,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async importEpub(t){let r=new Ee(t).stem,{assetsPath:n,mocPropertysTemplate:i,savePath:o,tag:a,granularity:s}=this.settings,c=new Ee(o).join(r),f=new Ee(this.vaultPath,c.string).string;if(jt.default.exists(f))if(this.settings.removeDuplicateFolders)jt.default.remove(f);else{new He.Notice("Duplicate folder already exists.");return}this.assetsPath=n.replaceAll("{{bookName}}",r).replaceAll("{{savePath}}",o),this.parser=new Ku(t,this.settings.moreLog),await this.parser.init(),this.settings.moreLog&&console.log("toc is: ",this.parser.toc),this.propertys=(0,He.parseYaml)(Array.from(this.parser.meta).reduce((h,[d,p])=>h.replaceAll(`{{${d}}}`,p).replaceAll("[","\u3010").replaceAll("]","\u3011"),i)),this.propertys.tags=(this.propertys.tags??[]).concat([a]),this.BookNote="",await this.app.vault.createFolder(c.string),this.copyImages(),[...this.parser.chapters].filter(h=>h.level>s).sort((h,d)=>d.level-h.level).forEach(h=>h.parent.sections.push(...h.sections));for(let h of this.parser.chapters.filter(d=>d.level<=s)){h.name.startsWith("... ")&&(h.sections[0].name=h.name.replace("... ",""));let d=[h.name],p=m=>{m.parent&&(d.unshift(m.parent.name),p(m.parent))};p(h),h.level<s&&h.subItems.length!=0&&d.push(h.name);let g=c.join(...d);this.app.vault.getAbstractFileByPath(g.parent.string)||await this.app.vault.createFolder(g.parent.string),await this.app.vault.create(g.string+".md",(this.settings.notePropertysTemplate?ul((0,He.parseYaml)(this.settings.notePropertysTemplate.replace("{{created_time}}",Date.now().toString())))+`
`:"")+h.sections.map(m=>this.htmlToMD(m.html)).join(`

`)),this.BookNote+=`${"	".repeat(h.level)}- [[${g.string}|${h.name}]]
`}this.BookNote=ul(this.propertys)+`
`+this.BookNote,await this.app.vault.create(c.join(this.settings.mocName.replace("{{bookName}}",r)).string+".md",this.BookNote),console.log(`Successfully imported ${r}`),new He.Notice(`Successfully imported ${r}`)}copyImages(){let t=new Ee(this.vaultPath,this.assetsPath);jt.default.find(this.parser.tmpPath,{matching:["*.jpg","*.jpeg","*.png"]}).forEach(r=>jt.default.copy(r,t.join(new Ee(r).name).string,{overwrite:!0})),this.parser.coverPath&&(this.propertys.cover=new Ee(this.assetsPath,new Ee(this.parser.coverPath).name).string)}htmlToMD(t){let r=(0,He.htmlToMarkdown)(t||"");return t&&!r&&(r=t.replace(/<[^>]+>/g,"")),Wn.parse(r,this.assetsPath,this.settings.imageFormat)}getMocPath(t){let r=sl(this.app,this.settings.tag);return r.includes(t)?t.path:r.find(n=>this.app.metadataCache.getCache(n.path).links.some(i=>i.link+".md"==t.path))?.path}};0&&(module.exports={});
/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
